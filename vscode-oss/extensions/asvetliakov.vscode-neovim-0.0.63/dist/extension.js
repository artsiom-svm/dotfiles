module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=126)}([function(e,t,n){"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:n(150)})},function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}(this,l(t).call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(e.toString().split("\n")[0],"\n"))),Error.captureStackTrace(i(i(n)),t),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),t}(o(Error));e.exports=function(e){if(e.length>2)throw new c(e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function n(e){return new t(e)}return t.prototype.transform=e,n.Format=t,n}},function(e,t,n){"use strict";class r extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,r)}}e.exports=e=>{if(e.length>2)throw new r(e);function t(e={}){this.options=e}function n(e){return new t(e)}return t.prototype.transform=e,n.Format=t,n}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.callAtomic=t.findLastEvent=t.normalizeInputString=t.getDocumentLineArray=t.getNeovimCursorPosFromEditor=t.editorPositionToNeovimPosition=t.accumulateDotRepeatChange=t.normalizeDotRepeatChange=t.getNeovimInitPath=t.getNeovimPath=t.isCursorChange=t.isChangeSubsequentToChange=t.getEditorCursorPos=t.calculateEditorColFromVimScreenCol=t.convertByteNumToCharNum=t.convertCharNumToByteNum=t.prepareEditRangesFromDiff=t.diffLineToChars=t.convertLineNumberToString=t.getLineFromLineNumberString=t.processLineNumberStringFromEvent=t.EXT_ID=t.EXT_NAME=void 0;const o=n(1),s=i(n(269));function a(e){const t=parseInt(e.trim(),10);return isNaN(t)?0:t-1}function u(e){return null==e?0:e<=127?1:e<=2047?2:e>=55296&&e<=57343?4:e<65535?3:4}function l(e,t){if(0===t||!e)return 0;let n=0,r=0;for(;n<t;){if(r+=u(e.codePointAt(n)),n++,n>=e.length)return r}return r}function c(e,t,n=1,r=!1){if(0===t||!e)return 0;let i=0,o=0;for(;o<t;)if(o+="\t"===e[i]?n-o%n:r?u(e.codePointAt(i)):s.default(e[i]),i++,i>=e.length)return i;return i}function h(e,n){const r=o.workspace.getConfiguration(t.EXT_NAME),i=r.get("useWSL"),s=process.platform,a=n.environmentVariableName&&process.env[n.environmentVariableName]||r.get(n.vscodeSettingName);return a||(i&&"win32"===s?r.get(e+".linux"):r.get(`${e}.${s}`))}function f(e,t){const n=l(e.document.lineAt(t.line).text,t.character);return[t.line+1,n]}t.EXT_NAME="vscode-neovim",t.EXT_ID="asvetliakov."+t.EXT_NAME,t.processLineNumberStringFromEvent=function(e,t,n){const[,,r,i]=e;if(!i.length||i[0][1]!==t)return n;let o="";for(const[e,n,r]of i){if(null!=n&&n!==t)break;for(let t=0;t<(r||1);t++)o+=e}return n.slice(0,r)+o+n.slice(r+o.length)},t.getLineFromLineNumberString=a,t.convertLineNumberToString=function(e){let t=e.toString(10);for(let e=t.length;e<7;e++)t=" "+t;return t+" "},t.diffLineToChars=function(e,t){const n=[],r={};n[0]="";const i=(e,t)=>{let i="",o=0,s=-1,a=n.length;for(;s<e.length-1;){s=e.indexOf("\n",o),-1==s&&(s=e.length-1);let u=e.substring(o,s+1);(r.hasOwnProperty?r.hasOwnProperty(u):void 0!==r[u])?i+=String.fromCharCode(r[u]):(a==t&&(u=e.substring(o),s=e.length),i+=String.fromCharCode(a),r[u]=a,n[a++]=u),o=s+1}return i};return{chars1:i(e,4e4),chars2:i(t,65535),lineArray:n}},t.prepareEditRangesFromDiff=function(e){const t=[];let n,r=0,i=0,o=0;for(let s=0;s<e.length;s++){const[a,u]=e[s];if(0===a)n&&("changed"===n.type?(r+=n.end-n.start+1,i+=n.newEnd-n.newStart+1):"added"===n.type?i+=Math.abs(o):"removed"===n.type&&(r+=Math.abs(o)),t.push(n),n=void 0,o=0),r+=u.length,i+=u.length;else if(n||(n={start:r,end:r,newStart:i,newEnd:i,type:"changed"},o=0),-1===a){if(1===u.length&&e[s+1]&&1===e[s+1][0]&&1===e[s+1][1].length){s++;continue}n.type="removed",n.end+=u.length-1,o=-u.length}else"removed"===n.type?n.type="changed":n.type="added",n.newEnd+=u.length-1,o+=u.length}return n&&t.push(n),t},t.convertCharNumToByteNum=l,t.convertByteNumToCharNum=function(e,t){let n=0,r=0;for(;n<t;){if(r>=e.length)return r+(t-n);n+=u(e.codePointAt(r)),r++}return r},t.calculateEditorColFromVimScreenCol=c,t.getEditorCursorPos=function(e,t){const n=a(t.topScreenLineStr)+t.screenLine;return n>=e.document.lineCount?{col:t.screenPos,line:n}:{line:n,col:c(e.document.lineAt(n).text,t.screenPos)}},t.isChangeSubsequentToChange=function(e,t){const n=t.text.length,r=t.rangeOffset,i=t.rangeOffset+n;return e.rangeOffset>=r&&e.rangeOffset<=i||e.rangeOffset<r&&e.rangeOffset+e.rangeLength>=r},t.isCursorChange=function(e,t,n){if(e.range.contains(t))return!0;if(e.range.isSingleLine&&e.text){const r=e.text.split(n),i=r.length,o=e.range.start.line+i-1,s=e.range.end.character+r.slice(-1)[0].length;if(o>=t.line&&s>=t.character)return!0}return!1},t.getNeovimPath=function(){return h("neovimExecutablePaths",{vscodeSettingName:"neovimPath",environmentVariableName:"NEOVIM_PATH"})},t.getNeovimInitPath=function(){return h("neovimInitVimPaths",{vscodeSettingName:"neovimInitPath"})},t.normalizeDotRepeatChange=function(e,t,n){return{rangeLength:e.rangeLength,rangeOffset:e.rangeOffset,text:e.text,startMode:n,eol:t}},t.accumulateDotRepeatChange=function(e,t){const n=Object.assign({},t),r=e.rangeOffset<=t.rangeOffset?e.rangeOffset-t.rangeOffset+e.rangeLength:e.rangeLength,i=e.rangeOffset<=t.rangeOffset?0:e.rangeOffset-t.rangeOffset,o=e.rangeOffset-t.rangeOffset+r;return n.text=t.text.slice(0,i)+e.text+t.text.slice(o),e.rangeOffset<t.rangeOffset&&(n.rangeOffset=e.rangeOffset,n.rangeLength+=e.rangeLength),n},t.editorPositionToNeovimPosition=f,t.getNeovimCursorPosFromEditor=function(e){try{return f(e,e.selection.active)}catch(e){return[1,0]}},t.getDocumentLineArray=function(e){const t=e.eol===o.EndOfLine.CRLF?"\r\n":"\n";return e.getText().split(t)},t.normalizeInputString=function(e,t=!0){let n=e.replace(/</g,"<LT>");return t&&(n=n.replace(/\n/g,"<CR>")),n},t.findLastEvent=function(e,t){for(let n=t.length-1;n>=0;n--){const[r]=t[n];if(r===e)return t[n]}},t.callAtomic=function(e,t,n,i=""){return r(this,void 0,void 0,(function*(){const r=yield e.callAtomic(t),o=[];r&&Array.isArray(r)&&Array.isArray(r[0])&&r[0].forEach((e,n)=>{if(e){const r=t[n];"nvim_input"!==(null==r?void 0:r[0])&&o.push(`${(null==r?void 0:r[0])||"Unknown"}: ${e}`)}}),o.length&&n.error(`${i}:\n${o.join("\n")}`)}))}},function(e,t,n){"use strict";const r=t.format=n(4);function i(e,t){t=t||e,Object.defineProperty(r,e,{get:()=>n(154)(`./${t}.js`),configurable:!0})}t.levels=n(40),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,n){try{var r=n(2);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(169)}},function(e,t,n){"use strict";const r={};function i(e,t,n){n||(n=Error);class i extends n{constructor(e,n,r){super(function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(e,n,r))}}i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map(e=>String(e)),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){let r;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a=`The ${e} ${r} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument"} ${r} ${o(t,"type")}`}return a+=". Received type "+typeof n,a}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t){e.exports=require("os")},function(e,t){e.exports=i,i.default=i,i.stable=s,i.stableStringify=s;var n=[],r=[];function i(e,t,i){var o;for(!function e(t,i,o,s){var a;if("object"==typeof t&&null!==t){for(a=0;a<o.length;a++)if(o[a]===t){var u=Object.getOwnPropertyDescriptor(s,i);return void(void 0!==u.get?u.configurable?(Object.defineProperty(s,i,{value:"[Circular]"}),n.push([s,i,t,u])):r.push([t,i]):(s[i]="[Circular]",n.push([s,i,t])))}if(o.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,o,t);else{var l=Object.keys(t);for(a=0;a<l.length;a++){var c=l[a];e(t[c],c,o,t)}}o.pop()}}(e,"",[],void 0),o=0===r.length?JSON.stringify(e,t,i):JSON.stringify(e,a(t),i);0!==n.length;){var s=n.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return o}function o(e,t){return e<t?-1:e>t?1:0}function s(e,t,i){var s,u=function e(t,i,s,a){var u;if("object"==typeof t&&null!==t){for(u=0;u<s.length;u++)if(s[u]===t){var l=Object.getOwnPropertyDescriptor(a,i);return void(void 0!==l.get?l.configurable?(Object.defineProperty(a,i,{value:"[Circular]"}),n.push([a,i,t,l])):r.push([t,i]):(a[i]="[Circular]",n.push([a,i,t])))}if("function"==typeof t.toJSON)return;if(s.push(t),Array.isArray(t))for(u=0;u<t.length;u++)e(t[u],u,s,t);else{var c={},h=Object.keys(t).sort(o);for(u=0;u<h.length;u++){var f=h[u];e(t[f],f,s,t),c[f]=t[f]}if(void 0===a)return c;n.push([a,i,t]),a[i]=c}s.pop()}}(e,"",[],void 0)||e;for(s=0===r.length?JSON.stringify(u,t,i):JSON.stringify(u,a(t),i);0!==n.length;){var l=n.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}return s}function a(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},function(e,t,n){"use strict";const r=n(2),i=n(168),{LEVEL:o}=n(0),s=e.exports=function(e={}){i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};r.inherits(s,i),s.prototype._write=function(e,t,n){if(this.silent||!0===e.exception&&!this.handleExceptions)return n(null);const r=this.level||this.parent&&this.parent.level;if(!r||this.levels[r]>=this.levels[e[o]]){if(e&&!this.format)return this.log(e,n);let t,r;try{r=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!r){if(n(),t)throw t;return}return this.log(r,n)}return n(null)},s.prototype._writev=function(e,t){if(this.logv){const n=e.filter(this._accept,this);return n.length?this.logv(n,t):t(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let r,i;try{i=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(e){r=e}if(r||!i){if(e[n].callback(),r)throw t(null),r}else this.log(i,e[n].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const n=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&n&&!(this.levels[n]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(110),o=n(114);n(7)(l,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var u=s[a];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";var r,i,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(15),a=n(21);t.DETACH=Symbol("detachBuffer"),t.ATTACH=Symbol("attachBuffer");class u extends s.BaseApi{constructor(){super(...arguments),this.prefix=a.Metadata[a.ExtType.Buffer].prefix,this[r]=(e=!1,t={})=>o(this,void 0,void 0,(function*(){return!!this.client.isAttached(this)||this.request(this.prefix+"attach",[this,e,t])})),this[i]=()=>this.request(this.prefix+"detach",[this])}get isAttached(){return this.client.isAttached(this)}get id(){return this.data}get length(){return this.request(this.prefix+"line_count",[this])}get lines(){return this.getLines()}get changedtick(){return this.request(this.prefix+"get_changedtick",[this])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(this.prefix+"get_commands",[this,e])}getLines({start:e,end:t,strictIndexing:n}={start:0,end:-1,strictIndexing:!0}){const r=void 0===n||n;return this.request(this.prefix+"get_lines",[this,e,t,r])}setLines(e,{start:t,end:n,strictIndexing:r}={strictIndexing:!0}){const i=void 0===r||r,o="string"==typeof e?[e]:e,s=void 0!==n?n:t+1;return this.request(this.prefix+"set_lines",[this,t,s,i,o])}insert(e,t){return this.setLines(e,{start:t,end:t,strictIndexing:!0})}replace(e,t){const n="string"==typeof e?[e]:e;return this.setLines(n,{start:t,end:t+n.length,strictIndexing:!1})}remove(e,t,n){return this.setLines([],{start:e,end:t,strictIndexing:n})}append(e){return this.setLines(e,{start:-1,end:-1,strictIndexing:!1})}get name(){return this.request(this.prefix+"get_name",[this])}set name(e){this.request(this.prefix+"set_name",[this,e])}get valid(){return this.request(this.prefix+"is_valid",[this])}mark(e){return this.request(this.prefix+"get_mark",[this,e])}getKeymap(e){return this.request(this.prefix+"get_keymap",[this,e])}get loaded(){return this.request(this.prefix+"is_loaded",[this])}getOffset(e){return this.request(this.prefix+"get_offset",[this,e])}addHighlight({hlGroup:e,line:t,colStart:n,colEnd:r,srcId:i}){const o=void 0!==e?e:"",s=void 0!==r?r:-1,a=void 0!==n?n:-0,u=void 0!==i?i:-1;return this.request(this.prefix+"add_highlight",[this,u,o,t,a,s])}clearHighlight(e={}){console.warn("`clearHighlight` is deprecated, use ``clearNamespace()` instead");const{srcId:t,lineStart:n,lineEnd:r}=Object.assign(Object.assign({},{srcId:-1,lineStart:0,lineEnd:-1}),e);return this.request(this.prefix+"clear_highlight",[this,t,n,r])}clearNamespace(e){const{nsId:t,lineStart:n,lineEnd:r}=Object.assign(Object.assign({},{nsId:-1,lineStart:0,lineEnd:-1}),e);this.request(this.prefix+"clear_namespace",[this,t,n,r])}setVirtualText(e,t,n,r={}){return this.request(this.prefix+"set_virtual_text",[this,e,t,n,r])}listen(e,n){return this.isAttached||this[t.ATTACH]().then(t=>{t||this.unlisten(e,n)}),this.client.attachBuffer(this,e,n),()=>{this.unlisten(e,n)}}unlisten(e,n){if(!this.isAttached)return;this.client.detachBuffer(this,e,n)&&this[t.DETACH]()}}t.Buffer=u,r=t.ATTACH,i=t.DETACH},function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(13),s=Symbol("DO_REQUEST");class a extends o.EventEmitter{constructor({transport:e,data:t,logger:i,metadata:o,client:s}){super(),this[r]=(e,t=[])=>new Promise((n,r)=>{this.transport.request(e,t,(t,i)=>{this.logger.debug(`response -> neovim.api.${e}: ${i}`),t?r(new Error(`${e}: ${t[1]}`)):n(i)})}),this.setTransport(e),this.data=t,this.logger=i||n(16).logger,this.client=s,o&&Object.defineProperty(this,"metadata",{value:o})}setTransport(e){this.transport=e}equals(e){try{return String(this.data)===String(e.data)}catch(e){return!1}}asyncRequest(e,t=[],n){return i(this,void 0,void 0,(function*(){return yield this._isReady,this.logger.debug("request -> neovim.api."+e),this[s](e,t).catch(t=>{const r=new Error(t.message);throw r.stack=n,this.logger.error("Error making request to "+e,r),r})}))}request(e,t=[]){const n=new Error("Error making request to "+e);return this.asyncRequest(e,t,n.stack)}_getArgsByPrefix(...e){const t=[];return"nvim_"!==this.prefix&&t.push(this),t.concat(e)}getVar(e){return i(this,void 0,void 0,(function*(){const t=this._getArgsByPrefix(e);return this.request(this.prefix+"get_var",t).then(e=>e,e=>{if(e&&e.message&&e.message.includes("not found"))return null;throw e})}))}setVar(e,t){const n=this._getArgsByPrefix(e,t);return this.request(this.prefix+"set_var",n)}deleteVar(e){const t=this._getArgsByPrefix(e);return this.request(this.prefix+"del_var",t)}getOption(e){const t=this._getArgsByPrefix(e);return this.request(this.prefix+"get_option",t)}setOption(e,t){const n=this._getArgsByPrefix(e,t);return this.request(this.prefix+"set_option",n)}notify(e,t){this.logger.debug("notify -> neovim.api."+e),this.transport.notify(e,t)}}t.BaseApi=a,r=s},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(75)),o=i.createLogger({level:"error"});process.env.NVIM_NODE_LOG_FILE&&o.add(new i.transports.File({filename:process.env.NVIM_NODE_LOG_FILE,level:"error"})),o.add(new i.transports.Console({format:i.format.simple()})),t.logger=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(23),s=n(0),a=s.LEVEL,u=s.MESSAGE;o.enabled=!0;var l=/\s+/,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.colors&&this.addColors(t.colors),this.options=t}var t,n,s;return t=e,s=[{key:"addColors",value:function(t){var n=Object.keys(t).reduce((function(e,n){return e[n]=l.test(t[n])?t[n].split(l):t[n],e}),{});return e.allColors=Object.assign({},e.allColors||{},n),e.allColors}}],(n=[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,n,r){if(void 0===r&&(r=n),!Array.isArray(e.allColors[t]))return o[e.allColors[t]](r);for(var i=0,s=e.allColors[t].length;i<s;i++)r=o[e.allColors[t][i]](r);return r}},{key:"transform",value:function(e,t){return t.all&&"string"==typeof e[u]&&(e[u]=this.colorize(e[a],e.level,e[u])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[a],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[a],e.level,e.message)),e}}])&&i(t.prototype,n),s&&i(t,s),e}();e.exports=function(e){return new c(e)},e.exports.Colorizer=e.exports.Format=c},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("buffer")},function(e,t,n){var r=n(18);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(110)).Stream=r||t,t.Readable=t,t.Writable=n(114),t.Duplex=n(12),t.Transform=n(116),t.PassThrough=n(208),t.finished=n(63),t.pipeline=n(209))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(32),o=n(33);!function(e){e[e.Buffer=0]="Buffer",e[e.Window=1]="Window",e[e.Tabpage=2]="Tabpage"}(t.ExtType||(t.ExtType={})),t.Metadata=[{constructor:r.Buffer,name:"Buffer",prefix:"nvim_buf_"},{constructor:i.Window,name:"Window",prefix:"nvim_win_"},{constructor:o.Tabpage,name:"Tabpage",prefix:"nvim_tabpage_"}]},function(e,t,n){"use strict";const r=n(23),{LEVEL:i,MESSAGE:o}=n(0);r.enabled=!0;const s=/\s+/;class a{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce((t,n)=>(t[n]=s.test(e[n])?e[n].split(s):e[n],t),{});return a.allColors=Object.assign({},a.allColors||{},t),a.allColors}addColors(e){return a.addColors(e)}colorize(e,t,n){if(void 0===n&&(n=t),!Array.isArray(a.allColors[e]))return r[a.allColors[e]](n);for(let t=0,i=a.allColors[e].length;t<i;t++)n=r[a.allColors[e][t]](n);return n}transform(e,t){return t.all&&"string"==typeof e[o]&&(e[o]=this.colorize(e[i],e.level,e[o])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new a(e),e.exports.Colorizer=e.exports.Format=a},function(e,t,n){var r=n(140);e.exports=r},function(e,t,n){"use strict";var r=n(17).Colorizer;e.exports=function(e){return r.addColors(e.colors||e),e}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(0),a=s.configs,u=s.LEVEL,l=s.MESSAGE,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:a.npm.levels};i(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}var t,n,s;return t=e,s=[{key:"getLongestLevel",value:function(e){var t=Object.keys(e).map((function(e){return e.length}));return Math.max.apply(Math,r(t))}},{key:"paddingForLevel",value:function(e,t,n){var r=n+1-e.length,i=Math.floor(r/t.length);return"".concat(t).concat(t.repeat(i)).slice(0,r)}},{key:"paddingForLevels",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=e.getLongestLevel(t);return Object.keys(t).reduce((function(t,i){return t[i]=e.paddingForLevel(i,n,r),t}),{})}}],(n=[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[u]]).concat(e.message),e[l]&&(e[l]="".concat(this.paddings[e[u]]).concat(e[l])),e}}])&&o(t.prototype,n),s&&o(t,s),e}();e.exports=function(e){return new c(e)},e.exports.Padder=e.exports.Format=c},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,n){var r=n(19),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=n(26),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=Object.create(n(56));o.inherits=n(7);var s=n(170),a=n(95);o.inherits(h,s);for(var u=i(a.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(176),i=n(104);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var r,i=n(179),o=(r=i)&&r.__esModule?r:{default:r};var s="function"==typeof Symbol;function a(e){return s&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return a(e)?(0,o.default)(e):e},t.isAsync=a},function(e,t,n){"use strict";var r=n(210),i=n(220),o=n(222),s=n(2),a=n(225).isatty(1),u=process.stdout;function l(e,t){return i(e)?((t=t||{}).colors="colors"in t?t.colors:a,t.ansi=t.colors?o(e,r(e)):e,t.stream=t.stream||u,Array.isArray(t.stream)||(t.stream=[t.stream]),function(e){e instanceof Error&&(e=e.stack||e.message||e),e=[t.ansi," ",e].join(""),e=s.format.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))+"\n",t.stream.forEach((function(t){t.write(e)}))}):function(){}}l.to=function(e){return u=e,l},e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),i=n(21),o=n(66),s=n(33),a=n(14);class u extends r.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Window].prefix}get id(){return this.data}get buffer(){return o.createChainableApi.call(this,"Buffer",a.Buffer,()=>this.request(this.prefix+"get_buf",[this]))}get tabpage(){return o.createChainableApi.call(this,"Tabpage",s.Tabpage,()=>this.request(this.prefix+"get_tabpage",[this]))}get cursor(){return this.request(this.prefix+"get_cursor",[this])}set cursor(e){this.request(this.prefix+"set_cursor",[this,e])}get height(){return this.request(this.prefix+"get_height",[this])}set height(e){this.request(this.prefix+"set_height",[this,e])}get width(){return this.request(this.prefix+"get_width",[this])}set width(e){this.request(this.prefix+"set_width",[this,e])}get position(){return this.request(this.prefix+"get_position",[this])}get row(){return this.request(this.prefix+"get_position",[this]).then(e=>e[0])}get col(){return this.request(this.prefix+"get_position",[this]).then(e=>e[1])}get valid(){return this.request(this.prefix+"is_valid",[this])}get number(){return this.request(this.prefix+"get_number",[this])}close(e=!1){return this.request(this.prefix+"close",[this,e])}config(e={}){return this.request(this.prefix+"set_config",[this,e])}}t.Window=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),i=n(21),o=n(66),s=n(32);class a extends r.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Tabpage].prefix}get windows(){return this.request(this.prefix+"list_wins",[this])}get window(){return o.createChainableApi.call(this,"Window",s.Window,()=>this.request(this.prefix+"get_win",[this]))}get valid(){return this.request(this.prefix+"is_valid",[this])}get number(){return this.request(this.prefix+"get_number",[this])}getOption(){this.logger.error("Tabpage does not have `getOption`")}setOption(){this.logger.error("Tabpage does not have `setOption`")}}t.Tabpage=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NVIM_PLUGIN="_nvim_plugin",t.NVIM_DEV_MODE="_nvim_dev_mode",t.NVIM_SPEC="_nvim_rpc_spec",t.NVIM_SYNC="_nvim_rpc_sync",t.NVIM_METHOD_NAME="_nvim_rpc_method_name"},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utf8DecodeTD=t.TEXT_DECODER_THRESHOLD=t.utf8DecodeJs=t.utf8EncodeTE=t.TEXT_ENCODER_THRESHOLD=t.utf8EncodeJs=t.utf8Count=t.TEXT_ENCODING_AVAILABLE=void 0,t.TEXT_ENCODING_AVAILABLE="undefined"!=typeof process&&"never"!==process.env.TEXT_ENCODING&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder,t.utf8Count=function(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if(0!=(4294967168&i))if(0==(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){const t=e.charCodeAt(r);56320==(64512&t)&&(++r,i=((1023&i)<<10)+(1023&t)+65536)}n+=0==(4294901760&i)?3:4}else n++}return n},t.utf8EncodeJs=function(e,t,n){const r=e.length;let i=n,o=0;for(;o<r;){let n=e.charCodeAt(o++);if(0!=(4294967168&n)){if(0==(4294965248&n))t[i++]=n>>6&31|192;else{if(n>=55296&&n<=56319&&o<r){const t=e.charCodeAt(o);56320==(64512&t)&&(++o,n=((1023&n)<<10)+(1023&t)+65536)}0==(4294901760&n)?(t[i++]=n>>12&15|224,t[i++]=n>>6&63|128):(t[i++]=n>>18&7|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128)}t[i++]=63&n|128}else t[i++]=n}};const r=t.TEXT_ENCODING_AVAILABLE?new TextEncoder:void 0;t.TEXT_ENCODER_THRESHOLD="undefined"!=typeof process&&"force"!==process.env.TEXT_ENCODING?200:0,t.utf8EncodeTE=(null==r?void 0:r.encodeInto)?function(e,t,n){r.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(r.encode(e),n)};t.utf8DecodeJs=function(e,t,n){let r=t;const i=r+n,o=[];let s="";for(;r<i;){const t=e[r++];if(0==(128&t))o.push(t);else if(192==(224&t)){const n=63&e[r++];o.push((31&t)<<6|n)}else if(224==(240&t)){const n=63&e[r++],i=63&e[r++];o.push((31&t)<<12|n<<6|i)}else if(240==(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,o.push(n>>>10&1023|55296),n=56320|1023&n),o.push(n)}else o.push(t);o.length>=4096&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s};const i=t.TEXT_ENCODING_AVAILABLE?new TextDecoder:null;t.TEXT_DECODER_THRESHOLD="undefined"!=typeof process&&"force"!==process.env.TEXT_DECODER?200:0,t.utf8DecodeTD=function(e,t,n){const r=e.subarray(t,t+n);return i.decode(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionCodec=void 0;const r=n(71),i=n(72);let o=(()=>{class e{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(i.timestampExtension)}register({type:e,encode:t,decode:n}){if(e>=0)this.encoders[e]=t,this.decoders[e]=n;else{const r=1+e;this.builtInEncoders[r]=t,this.builtInDecoders[r]=n}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(null!=i){const o=i(e,t);if(null!=o){const e=-1-n;return new r.ExtData(e,o)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(null!=i){const o=i(e,t);if(null!=o){const e=n;return new r.ExtData(e,o)}}}return e instanceof r.ExtData?e:null}decode(e,t,n){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new r.ExtData(t,e)}}return e.defaultCodec=new e,e})();t.ExtensionCodec=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUint64=t.getInt64=t.setInt64=t.setUint64=void 0,t.setUint64=function(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)},t.setInt64=function(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)},t.getInt64=function(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)},t.getUint64=function(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.DataViewIndexOutOfBoundsError=void 0;const r=n(136),i=n(37),o=n(38),s=n(36),a=n(73),u=n(137),l=e=>{const t=typeof e;return"string"===t||"number"===t},c=new DataView(new ArrayBuffer(0)),h=new Uint8Array(c.buffer);t.DataViewIndexOutOfBoundsError=(()=>{try{c.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")})();const f=new t.DataViewIndexOutOfBoundsError("Insufficient data"),d=new u.CachedKeyDecoder;t.Decoder=class{constructor(e=i.ExtensionCodec.defaultCodec,t,n=4294967295,r=4294967295,o=4294967295,s=4294967295,a=4294967295,u=d){this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=o,this.maxMapLength=s,this.maxExtLength=a,this.cachedKeyDecoder=u,this.totalPos=0,this.pos=0,this.view=c,this.bytes=h,this.headByte=-1,this.stack=[]}setBuffer(e){this.bytes=a.ensureUint8Array(e),this.view=a.createDataView(this.bytes),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining()){const t=this.bytes.subarray(this.pos),n=a.ensureUint8Array(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e=1){return this.view.byteLength-this.pos>=e}createNoExtraBytesError(e){const{view:t,pos:n}=this;return new RangeError(`Extra ${t.byteLength-n} byte(s) found at buffer[${e}]`)}decodeSingleSync(){const e=this.decodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return e}async decodeSingleAsync(e){let n,i=!1;for await(const r of e){if(i)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(r);try{n=this.decodeSync(),i=!0}catch(e){if(!(e instanceof t.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}if(i){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return n}const{headByte:o,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parcing ${r.prettyByte(o)} at ${a} (${s} in the current buffer)`)}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){let r=n,i=-1;for await(const o of e){if(n&&0===i)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(o),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.decodeSync(),0!=--i;);}catch(e){if(!(e instanceof t.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}decodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(0!==n){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){const n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}t=[]}else{const n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeUtf8String(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeUtf8String(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeUtf8String(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new Error("Unrecognized type byte: "+r.prettyByte(e));{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const n=this.stack;for(;n.length>0;){const e=n[n.length-1];if(0===e.type){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;n.pop(),t=e.array}else{if(1===e.type){if(!l(t))throw new Error("The type of key must be string or number but "+typeof t);e.key=t,e.type=2;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=1;continue e}n.pop(),t=e.map}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new Error("Unrecognized array type byte: "+r.prettyByte(e))}}pushMapState(e){if(e>this.maxMapLength)throw new Error(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})}pushArrayState(e){if(e>this.maxArrayLength)throw new Error(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.push({type:0,size:e,array:new Array(e),position:0})}decodeUtf8String(e,t){var n;if(e>this.maxStrLength)throw new Error(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw f;const r=this.pos+t;let i;return i=this.stateIsMapKey()&&(null===(n=this.cachedKeyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.cachedKeyDecoder.decode(this.bytes,r,e):s.TEXT_ENCODING_AVAILABLE&&e>s.TEXT_DECODER_THRESHOLD?s.utf8DecodeTD(this.bytes,r,e):s.utf8DecodeJs(this.bytes,r,e),this.pos+=t+e,i}stateIsMapKey(){if(this.stack.length>0){return 1===this.stack[this.stack.length-1].type}return!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new Error(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw f;const n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r}decodeExtension(e,t){if(e>this.maxExtLength)throw new Error(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=o.getUint64(this.view,this.pos);return this.pos+=8,e}readI64(){const e=o.getInt64(this.view,this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}},function(e,t,n){"use strict";const{Colorizer:r}=n(22);e.exports=e=>(r.addColors(e.colors||e),e)},function(e,t,n){"use strict";const{configs:r,LEVEL:i,MESSAGE:o}=n(0);class s{constructor(e={levels:r.npm.levels}){this.paddings=s.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map(e=>e.length);return Math.max(...t)}static paddingForLevel(e,t,n){const r=n+1-e.length,i=Math.floor(r/t.length);return`${t}${t.repeat(i)}`.slice(0,r)}static paddingForLevels(e,t=" "){const n=s.getLongestLevel(e);return Object.keys(e).reduce((e,r)=>(e[r]=s.paddingForLevel(r,t,n),e),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[o]&&(e[o]=`${this.paddings[e[i]]}${e[o]}`),e}}e.exports=e=>new s(e),e.exports.Padder=e.exports.Format=s},function(e,t,n){"use strict";const r=n(4),{MESSAGE:i}=n(0),o=n(10);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=r((e,t={})=>(e[i]=o(e,t.replacer||s,t.space),e))},function(e,t,n){"use strict";var r=n(3);e.exports=r((function(e){return e.message="\t".concat(e.message),e}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(17).Colorizer,s=n(25).Padder,a=n(0),u=a.configs,l=a.MESSAGE,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.levels||(t.levels=u.npm.levels),this.colorizer=new o(t),this.padder=new s(t),this.options=t}var t,n,a;return t=e,(n=[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[l]="".concat(e.level,":").concat(e.message),e}}])&&i(t.prototype,n),a&&i(t,a),e}();e.exports=function(e){return new c(e)},e.exports.Format=c},function(e,t,n){"use strict";var r=n(3);function i(e){if(e.every(o))return function(t){for(var n=t,r=0;r<e.length;r++)if(!(n=e[r].transform(n,e[r].options)))return!1;return n}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=r(i(t)),s=o();return s.Format=o.Format,s},e.exports.cascade=i},function(e,t,n){"use strict";var r=n(3),i=n(0).MESSAGE,o=n(10);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=r((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i]=o(e,t.replacer||s,t.space),e}))},function(e,t,n){"use strict";var r=n(3);e.exports=r((function(e,t){return t.message?(e.message="[".concat(t.label,"] ").concat(e.message),e):(e.label=t.label,e)}))},function(e,t,n){"use strict";var r=n(3),i=n(0).MESSAGE,o=n(10);e.exports=r((function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},function(e,t,n){"use strict";var r=n(3);function i(e,t,n){var r,i,o,s=t.reduce((function(t,n){return t[n]=e[n],delete e[n],t}),{}),a=Object.keys(e).reduce((function(t,n){return t[n]=e[n],delete e[n],t}),{});return Object.assign(e,s,(o=a,(i=n)in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r)),e}function o(e,t,n){return e[n]=t.reduce((function(t,n){return t[n]=e[n],delete e[n],t}),{}),e}e.exports=r((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="metadata";t.key&&(n=t.key);var r=[];return t.fillExcept||t.fillWith||(r.push("level"),r.push("message")),t.fillExcept&&(r=t.fillExcept),r.length>0?i(e,r,n):t.fillWith?o(e,t.fillWith,n):e}))},function(e,t,n){"use strict";var r=n(2).inspect,i=n(3),o=n(0),s=o.LEVEL,a=o.MESSAGE,u=o.SPLAT;e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);return delete n[s],delete n[a],delete n[u],e[a]=r(n,!1,t.depth||null,t.colorize),e}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(0).MESSAGE,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}var t,n,o;return t=e,(n=[{key:"transform",value:function(e){return e[i]=this.template(e),e}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=function(e){return new o(e)},e.exports.Printf=e.exports.Format=o},function(e,t,n){"use strict";var r=n(3),i=n(0).MESSAGE,o=n(10);e.exports=r((function(e){var t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),n=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?"".concat(e.level,":").concat(n," ").concat(e.message," ").concat(t):"".concat(e.level,":").concat(n," ").concat(e.message),e}))},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(2),s=n(0).SPLAT,a=/%[scdjifoO%]/g,u=/%%/g,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,n,l;return t=e,(n=[{key:"_splat",value:function(e,t){var n=e.message,i=e[s]||e.splat||[],a=n.match(u),l=a&&a.length||0,c=t.length-l-i.length,h=c<0?i.splice(c,-1*c):[],f=h.length;if(f)for(var d=0;d<f;d++)Object.assign(e,h[d]);return e.message=o.format.apply(o,[n].concat(r(i))),e}},{key:"transform",value:function(e){var t=e.message,n=e[s]||e.splat;if(!n||!n.length)return e;var r=t&&t.match&&t.match(a);if(!r&&(n||n.length)){var i=n.length>1?n.splice(0):n,o=i.length;if(o)for(var u=0;u<o;u++)Object.assign(e,i[u]);return e}return r?this._splat(e,r):e}}])&&i(t.prototype,n),l&&i(t,l),e}();e.exports=function(e){return new l(e)}},function(e,t,n){"use strict";var r=n(87),i=n(3);e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.format&&(e.timestamp="function"==typeof t.format?t.format():r.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e}))},function(e,t,n){"use strict";var r=n(23),i=n(3),o=n(0).MESSAGE;e.exports=i((function(e,t){return!1!==t.level&&(e.level=r.strip(e.level)),!1!==t.message&&(e.message=r.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=r.strip(e[o])),e}))},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t){e.exports=require("fs")},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(100),i=n(177),o=n(178),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r},e.exports=t.default},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(8).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){a=!1,l=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},g=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",c),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",f),t.on("finish",c),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},function(e,t,n){"use strict";const r=n(6),{configs:i}=n(0);t.cli=r.levels(i.cli),t.npm=r.levels(i.npm),t.syslog=r.levels(i.syslog),t.addColors=r.levels},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,r.default)(e,(0,i.default)((0,o.default)(t)),n)};var r=s(n(233)),i=s(n(234)),o=s(n(30));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),i=Object.getOwnPropertyNames(r.BaseApi.prototype);t.createChainableApi=function(e,t,n,o){if(this[e+"Promise"]&&0===this[e+"Promise"].status&&this[e+"Proxy"])return this[e+"Proxy"];this[e+"Promise"]=n(),[...i,...Object.getOwnPropertyNames(t.prototype)].forEach(t=>{Object.defineProperty(this[e+"Promise"],t,{enumerable:!0,writable:!0,configurable:!0})});const s={get:(n,i)=>{const s=Object.prototype.hasOwnProperty.call(t.prototype,i)||Object.prototype.hasOwnProperty.call(r.BaseApi.prototype,i),a=Object.getOwnPropertyDescriptor(t.prototype,i)||Object.getOwnPropertyDescriptor(r.BaseApi.prototype,i),u=a&&(void 0!==a.get||void 0!==a.set);return t&&s?s&&!u&&(i in t.prototype&&"function"==typeof t.prototype[i]||i in r.BaseApi.prototype&&"function"==typeof r.BaseApi.prototype[i])?(...t)=>this[e+"Promise"].then(e=>e[i].call(e,...t)):o&&o()||this[e+"Promise"].then(e=>e[i]):i in n?"function"==typeof n[i]?n[i].bind(n):n[i]:null},set:(e,t,n,r)=>(r&&(r instanceof Promise||"then"in r)?r.then(e=>{t in e&&(e[t]=n)}):e[t]=n,!0)};return this[e+"Proxy"]=new Proxy(this[e+"Promise"],s),this[e+"Proxy"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),i=n(66),o=n(14),s=n(33),a=n(32);class u extends r.BaseApi{constructor(){super(...arguments),this.prefix="nvim_",this.Buffer=o.Buffer,this.Window=a.Window,this.Tabpage=s.Tabpage}get apiInfo(){return this.request(this.prefix+"get_api_info")}get buffers(){return this.request(this.prefix+"list_bufs")}get buffer(){return i.createChainableApi.call(this,"Buffer",o.Buffer,()=>this.request(this.prefix+"get_current_buf"))}set buffer(e){this.request(this.prefix+"set_current_buf",[e])}get chans(){return this.request(this.prefix+"list_chans")}getChanInfo(e){return this.request(this.prefix+"get_chan_info",[e])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(this.prefix+"get_commands",[e])}get tabpages(){return this.request(this.prefix+"list_tabpages")}get tabpage(){return i.createChainableApi.call(this,"Tabpage",s.Tabpage,()=>this.request(this.prefix+"get_current_tabpage"))}set tabpage(e){this.request(this.prefix+"set_current_tabpage",[e])}get windows(){return this.getWindows()}get window(){return this.getWindow()}set window(e){this.setWindow(e)}getWindows(){return this.request(this.prefix+"list_wins")}getWindow(){return i.createChainableApi.call(this,"Window",a.Window,()=>this.request(this.prefix+"get_current_win"))}setWindow(e){return this.request(this.prefix+"set_current_win",[e])}get runtimePaths(){return this.request(this.prefix+"list_runtime_paths")}set dir(e){this.request(this.prefix+"set_current_dir",[e])}get line(){return this.getLine()}set line(e){"string"==typeof e&&this.setLine(e)}getLine(){return this.request(this.prefix+"get_current_line")}setLine(e){return this.request(this.prefix+"set_current_line",[e])}getKeymap(e){return this.request(this.prefix+"get_keymap",[e])}get mode(){return this.request(this.prefix+"get_mode")}get colorMap(){return this.request(this.prefix+"get_color_map")}getColorByName(e){return this.request(this.prefix+"get_color_by_name",[e])}getHighlight(e,t=!0){const n="string"==typeof e?"by_name":"by_id";return this.request(`${this.prefix}get_hl_${n}`,[e,t])}getHighlightByName(e,t=!0){return this.request(this.prefix+"get_hl_by_name",[e,t])}getHighlightById(e,t=!0){return this.request(this.prefix+"get_hl_by_id",[e,t])}deleteCurrentLine(){return this.request(this.prefix+"del_current_line")}eval(e){return this.request(this.prefix+"eval",[e])}lua(e,t=[]){const n=Array.isArray(t)?t:[t];return this.request(this.prefix+"execute_lua",[e,n])}executeLua(e,t=[]){return this.lua(e,t)}callDictFunction(e,t,n=[]){const r=Array.isArray(n)?n:[n];return this.request(this.prefix+"call_dict_function",[e,t,r])}call(e,t=[]){const n=Array.isArray(t)?t:[t];return this.request(this.prefix+"call_function",[e,n])}callFunction(e,t=[]){return this.call(e,t)}callAtomic(e){return this.request(this.prefix+"call_atomic",[e])}command(e){return this.request(this.prefix+"command",[e])}commandOutput(e){return this.request(this.prefix+"command_output",[e])}getVvar(e){return this.request(this.prefix+"get_vvar",[e])}setVvar(e,t){return this.request(this.prefix+"set_vvar",[e,t])}feedKeys(e,t,n){return this.request(this.prefix+"feedkeys",[e,t,n])}input(e){return this.request(this.prefix+"input",[e])}inputMouse(e,t,n,r,i,o){return this.request(this.prefix+"input_mouse",[e,t,n,r,i,o])}parseExpression(e,t,n){return this.request(this.prefix+"parse_expression",[e,t,n])}getProc(e){return this.request(this.prefix+"get_proc",[e])}getProcChildren(e){return this.request(this.prefix+"get_proc_children",[e])}replaceTermcodes(e,t,n,r){return this.request(this.prefix+"replace_termcodes",[e,t,n,r])}strWidth(e){return this.request(this.prefix+"strwidth",[e])}outWrite(e){return this.request(this.prefix+"out_write",[e])}outWriteLine(e){return this.outWrite(e+"\n")}errWrite(e){return this.request(this.prefix+"err_write",[e])}errWriteLine(e){return this.request(this.prefix+"err_writeln",[e])}get uis(){return this.request(this.prefix+"list_uis")}uiAttach(e,t,n){return this.request(this.prefix+"ui_attach",[e,t,n])}uiDetach(){return this.request(this.prefix+"ui_detach",[])}uiTryResize(e,t){return this.request(this.prefix+"ui_try_resize",[e,t])}uiTryResizeGrid(e,t,n){return this.request(this.prefix+"ui_try_resize_grid",[e,t,n])}uiSetOption(e,t){return this.request(this.prefix+"ui_set_option",[e,t])}subscribe(e){return this.request(this.prefix+"subscribe",[e])}unsubscribe(e){return this.request(this.prefix+"unsubscribe",[e])}setClientInfo(e,t,n,r,i){this.request(this.prefix+"set_client_info",[e,t,n,r,i])}createNamespace(e=""){return this.request(this.prefix+"create_namespace",[e])}get namespaces(){return this.getNamespaces()}getNamespaces(){return this.request(this.prefix+"get_namespaces")}selectPopupmenuItem(e,t,n,r={}){return this.request(this.prefix+"select_popupmenu_item",[e,t,n,r])}createBuf(e,t){return this.request(this.prefix+"create_buf",[e,t])}createBuffer(e,t){return this.createBuf(e,t)}openWin(e,t,n){return this.request(this.prefix+"open_win",[e,t,n])}openWindow(e,t,n){return this.openWin(e,t,n)}winConfig(e,t={}){return e.config(t)}windowConfig(e,t={}){return this.winConfig(e,t)}winClose(e,t){return e.close(t)}windowClose(e,t){return this.winClose(e,t)}quit(){this.command("qa!")}}t.Neovim=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(16);function o(e){if("function"==typeof e)return e;if(Array.isArray(e)&&2===e.length)return function(...t){return e[1].apply(e[0],t)};throw new Error}t.callable=o;t.NvimPlugin=class{constructor(e,t,n){this.filename=e,this.nvim=n,this.dev=!1,this.alwaysInit=!1,this.autocmds={},this.commands={},this.functions={};try{this.instance=new t(this)}catch(e){if(!(e instanceof TypeError))throw e;this.instance=t(this)}}setOptions(e){this.dev=void 0===e.dev?this.dev:e.dev,this.alwaysInit=e.alwaysInit}get shouldCacheModule(){return!this.dev}registerAutocmd(e,t,n){if(!n.pattern)return void i.logger.error("registerAutocmd expected pattern option for "+e);const r={type:"autocmd",name:e,sync:n&&!!n.sync,opts:{}};["pattern","eval"].forEach(e=>{n&&void 0!==n[e]&&(r.opts[e]=n[e])});try{this.autocmds[`${e} ${n.pattern}`]={fn:o(t),spec:r}}catch(t){i.logger.error("registerAutocmd expected callable argument for "+e)}}registerCommand(e,t,n){const r={type:"command",name:e,sync:n&&!!n.sync,opts:{}};["range","nargs","complete"].forEach(e=>{n&&void 0!==n[e]&&(r.opts[e]=n[e])});try{this.commands[e]={fn:o(t),spec:r}}catch(t){i.logger.error("registerCommand expected callable argument for "+e)}}registerFunction(e,t,n){const r={type:"function",name:e,sync:n&&!!n.sync,opts:{}};["range","eval"].forEach(e=>{n&&void 0!==n[e]&&(r.opts[e]=n[e])});try{this.functions[e]={fn:o(t),spec:r}}catch(t){i.logger.error("registerFunction expected callable argument for "+e)}}get specs(){const e=Object.keys(this.autocmds).map(e=>this.autocmds[e].spec),t=Object.keys(this.commands).map(e=>this.commands[e].spec),n=Object.keys(this.functions).map(e=>this.functions[e].spec);return e.concat(t).concat(n)}handleRequest(e,t,n){return r(this,void 0,void 0,(function*(){let r;switch(t){case"autocmd":r=this.autocmds;break;case"command":r=this.commands;break;case"function":r=this.functions;break;default:const n=`No handler for unknown type ${t}: "${e}" in ${this.filename}`;throw i.logger.error(n),new Error(n)}if(!r.hasOwnProperty(e)){const n=`Missing handler for ${t}: "${e}" in ${this.filename}`;throw i.logger.error(n),new Error(n)}{const o=r[e];try{return o.spec.sync?o.fn(...n):yield o.fn(...n)}catch(n){const r=`Error in plugin for ${t}:${e}: ${n.message}`;throw i.logger.error(`${r} (file: ${this.filename}, stack: ${n.stack})`),new Error(n)}}}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(133),o=n(67);class s extends o.Neovim{constructor(e={}){super({logger:e.logger}),this.attachedBuffers=new Map;const t=e.transport||new i.Transport;this.setTransport(t),this.requestQueue=[],this.transportAttached=!1,this.handleRequest=this.handleRequest.bind(this),this.handleNotification=this.handleNotification.bind(this)}attach({reader:e,writer:t}){this.transport.attach(t,e,this),this.transportAttached=!0,this.setupTransport()}get isApiReady(){return this.transportAttached&&void 0!==this._channelId}get channelId(){return(()=>r(this,void 0,void 0,(function*(){return yield this._isReady,this._channelId})))()}isAttached(e){const t=""+e.data;return this.attachedBuffers.has(t)}handleRequest(e,t,n,...r){this.logger.info("handleRequest: ",e),this.isApiReady||"specs"===e?this.emit("request",e,t,n):this.requestQueue.push({type:"request",args:[e,t,n,...r]})}emitNotification(e,t){if(e.endsWith("_event")){if(!e.startsWith("nvim_buf_"))return void this.logger.error("Unhandled event: ",e);const n=e.replace(/nvim_buf_(.*)_event/,"$1"),[r]=t,i=""+r.data;if(!this.attachedBuffers.has(i))return;(this.attachedBuffers.get(i).get(n)||[]).forEach(e=>e(...t)),"detach"===n&&this.attachedBuffers.delete(i)}else this.emit("notification",e,t)}handleNotification(e,t,...n){this.logger.info("handleNotification: ",e),this.isApiReady?this.emitNotification(e,t):this.requestQueue.push({type:"notification",args:[e,t,...n]})}setupTransport(){if(!this.transportAttached)throw new Error("Not attached to input/output");this.transport.on("request",this.handleRequest),this.transport.on("notification",this.handleNotification),this.transport.on("detach",()=>{this.emit("disconnect"),this.transport.removeAllListeners("request"),this.transport.removeAllListeners("notification"),this.transport.removeAllListeners("detach")}),this._isReady=this.generateApi()}requestApi(){return new Promise((e,t)=>{this.transport.request("nvim_get_api_info",[],(n,r)=>{n?t(n):e(r)})})}generateApi(){return r(this,void 0,void 0,(function*(){let e;try{e=yield this.requestApi()}catch(e){this.logger.error("Could not get vim api results"),this.logger.error(e)}if(e)try{const[t]=e;return this._channelId=t,this.requestQueue.forEach(e=>{"notification"===e.type?this.emitNotification(e.args[0],e.args[1]):this.emit(e.type,...e.args)}),this.requestQueue=[],!0}catch(e){return this.logger.error("Could not dynamically generate neovim API: "+e,{error:e}),this.logger.error(e.stack),null}return null}))}attachBuffer(e,t,n){const r=""+e.data;this.attachedBuffers.has(r)||this.attachedBuffers.set(r,new Map);const i=this.attachedBuffers.get(r);i.get(t)||i.set(t,[]);const o=i.get(t);return-1!==o.indexOf(n)||(o.push(n),i.set(t,o),this.attachedBuffers.set(r,i)),n}detachBuffer(e,t,n){const r=""+e.data,i=this.attachedBuffers.get(r);if(!i)return!1;const o=(i.get(t)||[]).filter(e=>e!==n);return o.length?i.set(t,o):i.delete(t),!i.size&&(this.attachedBuffers.delete(r),!0)}}t.NeovimClient=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Encoder=t.DEFAULT_INITIAL_BUFFER_SIZE=t.DEFAULT_MAX_DEPTH=void 0;const r=n(36),i=n(37),o=n(38),s=n(73);t.DEFAULT_MAX_DEPTH=100,t.DEFAULT_INITIAL_BUFFER_SIZE=2048;t.Encoder=class{constructor(e=i.ExtensionCodec.defaultCodec,n,r=t.DEFAULT_MAX_DEPTH,o=t.DEFAULT_INITIAL_BUFFER_SIZE,s=!1,a=!1,u=!1){this.extensionCodec=e,this.context=n,this.maxDepth=r,this.initialBufferSize=o,this.sortKeys=s,this.forceFloat32=a,this.ignoreUndefined=u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}encode(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)}getUint8Array(){return this.bytes.subarray(0,this.pos)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=e.length;if(r.TEXT_ENCODING_AVAILABLE&&t>r.TEXT_ENCODER_THRESHOLD){const t=r.utf8Count(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),r.utf8EncodeTE(e,this.bytes,this.pos),this.pos+=t}else{const t=r.utf8Count(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),r.utf8EncodeJs(e,this.bytes,this.pos),this.pos+=t}}encodeObject(e,t){const n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}const n=s.ensureUint8Array(e);this.writeU8a(n)}encodeArray(e,t){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: "+n);this.writeU8(221),this.writeU32(n)}for(const n of e)this.encode(n,t+1)}countWithoutUndefined(e,t){let n=0;for(const r of t)void 0!==e[r]&&n++;return n}encodeMap(e,t){const n=Object.keys(e);this.sortKeys&&n.sort();const r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: "+r);this.writeU8(223),this.writeU32(r)}for(const r of n){const n=e[r];this.ignoreUndefined&&void 0===n||(this.encodeString(r),this.encode(n,t+1))}}encodeExtension(e){const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),o.setUint64(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),o.setInt64(this.view,this.pos,e),this.pos+=8}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtData=void 0;t.ExtData=class{constructor(e,t){this.type=e,this.data=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestampExtension=t.decodeTimestampExtension=t.decodeTimestampToTimeSpec=t.encodeTimestampExtension=t.encodeDateToTimeSpec=t.encodeTimeSpecToTimestamp=t.EXT_TIMESTAMP=void 0;const r=n(38);t.EXT_TIMESTAMP=-1;function i({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{const n=e/4294967296,r=4294967295&e,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,t<<2|3&n),o.setUint32(4,r),i}}{const n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,t),r.setInt64(i,4,e),n}}function o(e){const t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}function s(e){if(e instanceof Date){return i(o(e))}return null}function a(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:r.getInt64(t,4),nsec:t.getUint32(0)};default:throw new Error("Unrecognized data size for timestamp: "+e.length)}}function u(e){const t=a(e);return new Date(1e3*t.sec+t.nsec/1e6)}t.encodeTimeSpecToTimestamp=i,t.encodeDateToTimeSpec=o,t.encodeTimestampExtension=s,t.decodeTimestampToTimeSpec=a,t.decodeTimestampExtension=u,t.timestampExtension={type:t.EXT_TIMESTAMP,encode:s,decode:u}},function(e,t,n){"use strict";function r(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDataView=t.ensureUint8Array=void 0,t.ensureUint8Array=r,t.createDataView=function(e){if(e instanceof ArrayBuffer)return new DataView(e);const t=r(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.defaultDecodeOptions=void 0;const r=n(39);t.defaultDecodeOptions={},t.decode=function(e,n=t.defaultDecodeOptions){const i=new r.Decoder(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength);return i.setBuffer(e),i.decodeSingleSync()}},function(e,t,n){"use strict";const r=n(6),{warn:i}=n(94),o=t;o.version=n(165).version,o.transports=n(166),o.config=n(64),o.addColors=r.levels,o.format=r.format,o.createLogger=n(119),o.ExceptionHandler=n(120),o.RejectionHandler=n(124),o.Container=n(237),o.Transport=n(11),o.loggers=new o.Container;const s=o.createLogger();Object.keys(o.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure"]).forEach(e=>o[e]=(...t)=>s[e](...t)),Object.defineProperty(o,"level",{get:()=>s.level,set(e){s.level=e}}),Object.defineProperty(o,"exceptions",{get:()=>s.exceptions}),["exitOnError"].forEach(e=>{Object.defineProperty(o,e,{get:()=>s[e],set(t){s[e]=t}})}),Object.defineProperty(o,"default",{get:()=>({exceptionHandlers:s.exceptionHandlers,rejectionHandlers:s.rejectionHandlers,transports:s.transports})}),i.deprecated(o,"setLevels"),i.forFunctions(o,"useFormat",["cli"]),i.forProperties(o,"useFormat",["padLevels","stripColors"]),i.forFunctions(o,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(o,"deprecated",["emitErrs","levelLength"]),i.moved(o,"createLogger","Logger")},function(e,t,n){"use strict";const r=n(4);e.exports=r(e=>(e.message="\t"+e.message,e))},function(e,t,n){"use strict";const{Colorizer:r}=n(22),{Padder:i}=n(41),{configs:o,MESSAGE:s}=n(0);class a{constructor(e={}){e.levels||(e.levels=o.npm.levels),this.colorizer=new r(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[s]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},function(e,t,n){"use strict";const r=n(4);function i(e){if(e.every(o))return t=>{let n=t;for(let t=0;t<e.length;t++)if(n=e[t].transform(n,e[t].options),!n)return!1;return n}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=r(i(e)),n=t();return n.Format=t.Format,n},e.exports.cascade=i},function(e,t,n){"use strict";const r=n(4);e.exports=r((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))},function(e,t,n){"use strict";const r=n(4),{MESSAGE:i}=n(0),o=n(10);e.exports=r(e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e})},function(e,t,n){"use strict";const r=n(4);e.exports=r((e,t={})=>{let n="metadata";t.key&&(n=t.key);let r=[];return t.fillExcept||t.fillWith||(r.push("level"),r.push("message")),t.fillExcept&&(r=t.fillExcept),r.length>0?function(e,t,n){const r=t.reduce((t,n)=>(t[n]=e[n],delete e[n],t),{}),i=Object.keys(e).reduce((t,n)=>(t[n]=e[n],delete e[n],t),{});return Object.assign(e,r,{[n]:i}),e}(e,r,n):t.fillWith?function(e,t,n){return e[n]=t.reduce((t,n)=>(t[n]=e[n],delete e[n],t),{}),e}(e,t.fillWith,n):e})},function(e,t,n){"use strict";const r=n(2).inspect,i=n(4),{LEVEL:o,MESSAGE:s,SPLAT:a}=n(0);e.exports=i((e,t={})=>{const n=Object.assign({},e);return delete n[o],delete n[s],delete n[a],e[s]=r(n,!1,t.depth||null,t.colorize),e})},function(e,t,n){"use strict";const{MESSAGE:r}=n(0);class i{constructor(e){this.template=e}transform(e){return e[r]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},function(e,t,n){"use strict";const r=n(4),{MESSAGE:i}=n(0),o=n(10);e.exports=r(e=>{const t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),n=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${n} ${e.message} ${t}`:`${e.level}:${n} ${e.message}`,e})},function(e,t,n){"use strict";const r=n(2),{SPLAT:i}=n(0),o=/%[scdjifoO%]/g,s=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const n=e.message,o=e[i]||e.splat||[],a=n.match(s),u=a&&a.length||0,l=t.length-u-o.length,c=l<0?o.splice(l,-1*l):[],h=c.length;if(h)for(let t=0;t<h;t++)Object.assign(e,c[t]);return e.message=r.format(n,...o),e}transform(e){const t=e.message,n=e[i]||e.splat;if(!n||!n.length)return e;const r=t&&t.match&&t.match(o);if(!r&&(n||n.length)){const t=n.length>1?n.splice(0):n,r=t.length;if(r)for(let n=0;n<r;n++)Object.assign(e,t[n]);return e}return r?this._splat(e,r):e}}e.exports=e=>new a(e)},function(e,t,n){"use strict";const r=n(87),i=n(4);e.exports=i((e,t={})=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():r.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))},function(e,t,n){var r;!function(i){"use strict";var o={},s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=/\d\d?/,u=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,l=/\[([^]*?)\]/gm,c=function(){};function h(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}function f(e){return function(t,n,r){var i=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(t.month=i)}}function d(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],m=h(g,3),v=h(p,3);o.i18n={dayNamesShort:v,dayNames:p,monthNamesShort:m,monthNames:g,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var y={D:function(e){return e.getDate()},DD:function(e){return d(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return d(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return d(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return d(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return d(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return d(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return d(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return d(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return d(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return d(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+d(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},b={D:[a,function(e,t){e.day=t}],Do:[new RegExp(a.source+u.source),function(e,t){e.day=parseInt(t,10)}],M:[a,function(e,t){e.month=t-1}],YY:[a,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[a,function(e,t){e.hour=t}],m:[a,function(e,t){e.minute=t}],s:[a,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[a,c],ddd:[u,c],MMM:[u,f("monthNamesShort")],MMMM:[u,f("monthNames")],a:[u,function(e,t,n){var r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(e,t){"Z"===t&&(t="+00:00");var n,r=(t+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),e.timezoneOffset="+"===r[0]?n:-n)}]};b.dd=b.d,b.dddd=b.ddd,b.DD=b.D,b.mm=b.m,b.hh=b.H=b.HH=b.h,b.MM=b.M,b.ss=b.s,b.A=b.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,t,n){var r=n||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=o.masks[t]||t||o.masks.default;var i=[];return(t=(t=t.replace(l,(function(e,t){return i.push(t),"??"}))).replace(s,(function(t){return t in y?y[t](e,r):t.slice(1,t.length-1)}))).replace(/\?\?/g,(function(){return i.shift()}))},o.parse=function(e,t,n){var r=n||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return!1;var i=!0,a={};if(t.replace(s,(function(t){if(b[t]){var n=b[t],o=e.search(n[0]);~o?e.replace(n[0],(function(t){return n[1](a,t,r),e=e.substr(o+t.length),t})):i=!1}return b[t]?"":t.slice(1,t.length-1)})),!i)return!1;var u,l=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,u=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):u=new Date(a.year||l.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),u},e.exports?e.exports=o:void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";const r=n(23),i=n(4),{MESSAGE:o}=n(0);e.exports=i((e,t)=>(!1!==t.level&&(e.level=r.strip(e.level)),!1!==t.message&&(e.message=r.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=r.strip(e[o])),e))},function(e,t,n){"use strict";var r=t.format=n(3);t.levels=n(24),Object.defineProperty(r,"align",{value:n(43)}),Object.defineProperty(r,"cli",{value:n(44)}),Object.defineProperty(r,"combine",{value:n(45)}),Object.defineProperty(r,"colorize",{value:n(17)}),Object.defineProperty(r,"json",{value:n(46)}),Object.defineProperty(r,"label",{value:n(47)}),Object.defineProperty(r,"logstash",{value:n(48)}),Object.defineProperty(r,"metadata",{value:n(49)}),Object.defineProperty(r,"padLevels",{value:n(25)}),Object.defineProperty(r,"prettyPrint",{value:n(50)}),Object.defineProperty(r,"printf",{value:n(51)}),Object.defineProperty(r,"simple",{value:n(52)}),Object.defineProperty(r,"splat",{value:n(53)}),Object.defineProperty(r,"timestamp",{value:n(54)}),Object.defineProperty(r,"uncolorize",{value:n(55)})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(3),o=n(0),s=o.LEVEL,a=o.MESSAGE;e.exports=i((function(e,t){var n=t.stack;if(e instanceof Error){var i,o=Object.assign({},e,(r(i={level:e.level},s,e[s]||e.level),r(i,"message",e.message),r(i,a,e[a]||e.message),i));return n&&(o.stack=e.stack),o}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);var u=e.message;return e.message=u.message,e[a]=u.message,n&&(e.stack=u.stack),e}))},function(e,t,n){"use strict";var r=t.format=n(3);function i(e,t){t=t||e,Object.defineProperty(r,e,{get:function(){return n(156)("./".concat(t,".js"))},configurable:!0})}t.levels=n(24),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,n){"use strict";var r=n(3),i=n(93);e.exports=r((function(e){var t=+new Date;return(void 0).diff=t-((void 0).prevTime||t),(void 0).prevTime=t,e.ms="+".concat(i((void 0).diff)),e}))},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return s(e,t,o,"day");if(t>=i)return s(e,t,i,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";const{format:r}=n(2);t.warn={deprecated:e=>()=>{throw new Error(r("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([r("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,n,r){r.forEach(r=>{e[r]=t.warn[n](r)})},moved(e,t,n){function i(){return()=>{throw new Error([r("winston.%s was moved in winston@3.0.0.",n),r("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,n,{get:i,set:i})},forProperties(e,n,r){r.forEach(r=>{const i=t.warn[n](r);Object.defineProperty(e,r,{get:i,set:i})})}}},function(e,t,n){"use strict";var r=n(26);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;m.WritableState=g;var a=Object.create(n(56));a.inherits=n(7);var u={deprecate:n(96)},l=n(97),c=n(27).Buffer,h=global.Uint8Array||function(){};var f,d=n(98);function p(){}function g(e,t){o=o||n(28),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:a&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),E(e,t))}(e,n,i,t,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?s(y,e,n,a,o):y(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function m(e){if(o=o||n(28),!(f.call(m,this)||this instanceof o))return new m(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function v(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(v(e,t,!1,t.objectMode?1:l.length,l,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(m,l),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===m&&(e&&e._writableState instanceof g)}})):f=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof h);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=p),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,r,i,o);return u}(this,o,a,e,t,n)),s},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=d.destroy,m.prototype._undestroy=d.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){e.exports=n(2).deprecate},function(e,t,n){e.exports=n(18)},function(e,t,n){"use strict";var r=n(26);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(27).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var r=n(101).Symbol;e.exports=r},function(e,t,n){var r=n(102),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){(0,r.default)(t)(e,(0,i.default)(n),o)};var r=o(n(183)),i=o(n(30));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n,r,i){return e(n,t,r,i)}},e.exports=t.default},function(e,t,n){"use strict";var r;e.exports=C,C.ReadableState=x;n(13).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=n(111),s=n(19).Buffer,a=global.Uint8Array||function(){};var u,l=n(2);u=l&&l.debuglog?l.debuglog("stream"):function(){};var c,h,f,d=n(204),p=n(112),g=n(113).getHighWaterMark,m=n(8).codes,v=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(7)(C,o);var _=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function x(e,t,i){r=r||n(12),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=n(115).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function C(e){if(r=r||n(12),!(this instanceof C))return new C(e);var t=this instanceof r;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function S(e,t,n,r,i){u("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}(e,l);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(l,t)),o)_(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)l.endEmitted?_(e,new w):M(e,l,t,!0);else if(l.ended)_(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?M(e,l,t,!1):T(e,l)):M(e,l,t,!1)}else r||(l.reading=!1,T(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function M(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),T(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},C.prototype.unshift=function(e){return S(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){c||(c=n(115).StringDecoder);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(j,e))}function j(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function T(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(D,e,t))}function D(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){u("readable nexttick read 0"),e.read(0)}function B(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function L(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(R,t,e))}function R(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):k(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){_(this,new b("_read()"))},C.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,u("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:g;function s(t,i){u("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",s),n.removeListener("end",a),n.removeListener("end",g),n.removeListener("data",h),c=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function a(){u("onend"),e.end()}r.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",l);var c=!1;function h(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==N(r.pipes,e))&&!c&&(u("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===i(e,"error")&&_(e,t)}function d(){e.removeListener("finish",p),g()}function p(){u("onfinish"),e.removeListener("close",d),g()}function g(){u("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",n),r.flowing||(u("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=N(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,u("on readable",r.length,r.reading),r.length?k(this):r.reading||process.nextTick(F,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(O,this),n},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(O,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(B,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(206)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=I,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===f&&(f=n(207)),f(C,e,t)})},function(e,t,n){e.exports=n(18)},function(e,t,n){"use strict";function r(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?process.nextTick(i,n):(n._writableState.errorEmitted=!0,process.nextTick(r,n,e)):process.nextTick(r,n,e):t?(process.nextTick(i,n),t(e)):process.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,n){"use strict";var r=n(8).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=x;var o={deprecate:n(96)},s=n(111),a=n(19).Buffer,u=global.Uint8Array||function(){};var l,c=n(112),h=n(113).getHighWaterMark,f=n(8).codes,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,_=c.errorOrDestroy;function E(){}function x(e,t,o){i=i||n(12),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(T,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),T(e,t))}(e,n,r,t,i);else{var o=k(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(M,e,n,o,i):M(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(e){var t=this instanceof(i=i||n(12));if(!t&&!l.call(C,this))return new C(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function S(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,S(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(S(e,t,!1,t.objectMode?1:l.length,l,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function j(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=k(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(j,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(7)(C,s),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===C&&(e&&e._writableState instanceof x)}})):l=function(e){return e instanceof this},C.prototype.pipe=function(){_(this,new m)},C.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,a.isBuffer(r)||r instanceof u);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=E),i.ending?function(e,t){var n=new b;_(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new y:"string"==typeof n||t.objectMode||(i=new d("chunk",["string","Buffer"],n)),!i||(_(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var u=t.objectMode?1:r.length;t.length+=u;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,r,i,o);return l}(this,i,s,e,t,n)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=c.destroy,C.prototype._undestroy=c.undestroy,C.prototype._destroy=function(e,t){t(e)}},function(e,t,n){"use strict";var r=n(205).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=c;var r=n(8).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(12);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(7)(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new i("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){var r=n(217),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var u=s[a].channels,l=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:u}),Object.defineProperty(s[a],"labels",{value:l})}s.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(r,i,o),a=Math.max(r,i,o),u=a-s;return a===s?t=0:r===a?t=(i-o)/u:i===a?t=2+(o-r)/u:o===a&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(s+a)/2,[t,100*(a===s?0:n<=.5?u/(a+s):u/(2-a-s)),100*n]},s.rgb.hsv=function(e){var t,n,r,i,o,s=e[0]/255,a=e[1]/255,u=e[2]/255,l=Math.max(s,a,u),c=l-Math.min(s,a,u),h=function(e){return(l-e)/6/c+.5};return 0===c?i=o=0:(o=c/l,t=h(s),n=h(a),r=h(u),s===l?i=r-n:a===l?i=1/3+t-r:u===l&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},s.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[s.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},s.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,s,a=1/0;for(var u in r)if(r.hasOwnProperty(u)){var l=r[u],c=(o=e,s=l,Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));c<a&&(a=c,n=u)}return n},s.keyword.rgb=function(e){return r[e]},s.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.hsl.rgb=function(e){var t,n,r,i,o,s=e[0]/360,a=e[1]/100,u=e[2]/100;if(0===a)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+a):u+a-u*a),i=[0,0,0];for(var l=0;l<3;l++)(r=s+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i},s.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},s.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,s];case 1:return[a,r,s];case 2:return[s,r,u];case 3:return[s,a,r];case 4:return[u,s,r];case 5:return[r,s,a]}},s.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return r=(2-o)*s,n=o*a,[i,100*(n=(n/=(t=(2-o)*a)<=1?t:2-t)||0),100*(r/=2)]},s.hwb.rgb=function(e){var t,n,r,i,o,s,a,u=e[0]/360,l=e[1]/100,c=e[2]/100,h=l+c;switch(h>1&&(l/=h,c/=h),r=6*u-(t=Math.floor(6*u)),0!=(1&t)&&(r=1-r),i=l+r*((n=1-c)-l),t){default:case 6:case 0:o=n,s=i,a=l;break;case 1:o=i,s=n,a=l;break;case 2:o=l,s=n,a=i;break;case 3:o=l,s=i,a=n;break;case 4:o=i,s=l,a=n;break;case 5:o=n,s=l,a=i}return[255*o,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},s.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,s=e[2]/100;return n=-.9689*i+1.8758*o+.0415*s,r=.0557*i+-.204*o+1.057*s,t=(t=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},s.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},s.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),s=Math.pow(t,3),a=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},s.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},s.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},s.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),s=Math.min(Math.min(n,r),i),a=o-s;return t=a<=0?0:o===n?(r-i)/a%6:o===r?2+(i-n)/a:4+(n-r)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},s.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},s.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],s=t%1*6,a=s%1,u=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},s.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},s.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},s.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},s.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){"use strict";var r=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};r.writable=function(e){return r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},r.readable=function(e){return r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},r.duplex=function(e){return r.writable(e)&&r.readable(e)},r.transform=function(e){return r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,n){"use strict";const{LEVEL:r}=n(0),i=n(64),o=n(232),s=n(31)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends o{constructor(e){super(e)}}const n=new t(e);return Object.keys(e.levels).forEach((function(e){s('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||n;if(1===t.length){const[o]=t,s=o&&o.message&&o||{message:o};return s.level=s[r]=e,i._addDefaultMeta(s),i.write(s),this||n}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||n).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),n}},function(e,t,n){"use strict";const r=n(9),i=n(65),o=n(31)("winston:exception"),s=n(121),a=n(122),u=n(123);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["uncaughtException: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:r.loadavg(),uptime:r.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new u(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),n=this._getExceptionHandlers();let r,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function u(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(r&&clearTimeout(r),process.exit(1))}if(!n.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!n||0===n.length)return process.nextTick(u);i(n,(e,t)=>{const n=s(t),r=e.transport||e;function i(e){return()=>{o(e),n()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},()=>a&&u()),this.logger.log(t),a&&(r=setTimeout(u,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}},function(e,t,n){"use strict";e.exports=function(e){var t,n=0;function r(){return n||(n=1,t=e.apply(this,arguments),e=null),t}return r.displayName=e.displayName||e.name||r.displayName||r.name,r}},function(e,t){function n(e){for(var t in e)this[t]=e[t]}t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var o=r.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=n,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var r=null,i=null,o=null,s=null,a=null,u="native"===n[5];if(n[1]){var l=(o=n[1]).lastIndexOf(".");if("."==o[l-1]&&l--,l>0){r=o.substr(0,l),i=o.substr(l+1);var c=r.indexOf(".Module");c>0&&(o=o.substr(c+1),r=r.substr(0,c))}s=null}i&&(s=r,a=i),"<anonymous>"===i&&(a=null,o=null);var h={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(n[4],10)||null,native:u};return t._createParsedCallSite(h)}})).filter((function(e){return!!e}))};["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){n.prototype[e]=null,n.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){n.prototype[e]=!1,n.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new n(e)}},function(e,t,n){"use strict";const{Writable:r}=n(20);e.exports=class extends r{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,n){return e.exception?this.transport.log(e,n):(n(),!0)}}},function(e,t,n){"use strict";const r=n(9),i=n(65),o=n(31)("winston:rejection"),s=n(121),a=n(122),u=n(123);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["unhandledRejection: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:r.loadavg(),uptime:r.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new u(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),n=this._getRejectionHandlers();let r,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function u(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(r&&clearTimeout(r),process.exit(1))}if(!n.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!n||0===n.length)return process.nextTick(u);i(n,(e,t)=>{const n=s(t),r=e.transport||e;function i(e){return()=>{o(e),n()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},()=>a&&u()),this.logger.log(t),a&&(r=setTimeout(u,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}},function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",g="[object Number]",m="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",_="[object WeakMap]",E="[object ArrayBuffer]",x="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",j="[object Uint8Array]",T="[object Uint16Array]",D="[object Uint32Array]",O=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/&(?:amp|lt|gt|quot|#39);/g,I=/[&<>"']/g,L=RegExp(P.source),R=RegExp(I.source),N=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,V=RegExp(H.source),G=/^\s+|\s+$/g,Y=/^\s+/,K=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,ce=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",pe="["+fe+"]",ge="["+he+"]",me="\\d+",ve="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+fe+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+ye+"|"+be+")",Me="(?:"+Ce+"|"+be+")",Ae="(?:"+ge+"|"+we+")"+"?",ke="[\\ufe0e\\ufe0f]?"+Ae+("(?:\\u200d(?:"+[_e,Ee,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ae+")*"),je="(?:"+[ve,Ee,xe].join("|")+")"+ke,Te="(?:"+[_e+ge+"?",ge,Ee,xe,de].join("|")+")",De=RegExp("[']","g"),Oe=RegExp(ge,"g"),Fe=RegExp(we+"(?="+we+")|"+Te+ke,"g"),Be=RegExp([Ce+"?"+ye+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[pe,Ce,"$"].join("|")+")",Me+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[pe,Ce+Se,"$"].join("|")+")",Ce+"?"+Se+"+(?:['](?:d|ll|m|re|s|t|ve))?",Ce+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,je].join("|"),"g"),Pe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Re=-1,Ne={};Ne[C]=Ne[S]=Ne[M]=Ne[A]=Ne[k]=Ne[j]=Ne["[object Uint8ClampedArray]"]=Ne[T]=Ne[D]=!0,Ne[a]=Ne[u]=Ne[E]=Ne[l]=Ne[x]=Ne[c]=Ne[h]=Ne[f]=Ne[p]=Ne[g]=Ne[m]=Ne[v]=Ne[y]=Ne[b]=Ne[_]=!1;var $e={};$e[a]=$e[u]=$e[E]=$e[x]=$e[l]=$e[c]=$e[C]=$e[S]=$e[M]=$e[A]=$e[k]=$e[p]=$e[g]=$e[m]=$e[v]=$e[y]=$e[b]=$e[w]=$e[j]=$e["[object Uint8ClampedArray]"]=$e[T]=$e[D]=!0,$e[h]=$e[f]=$e[_]=!1;var qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ue=parseFloat,We=parseInt,ze="object"==typeof global&&global&&global.Object===Object&&global,He="object"==typeof self&&self&&self.Object===Object&&self,Ve=ze||He||Function("return this")(),Ge=t&&!t.nodeType&&t,Ye=Ge&&"object"==typeof e&&e&&!e.nodeType&&e,Ke=Ye&&Ye.exports===Ge,Je=Ke&&ze.process,Xe=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Ze=Xe&&Xe.isArrayBuffer,Qe=Xe&&Xe.isDate,et=Xe&&Xe.isMap,tt=Xe&&Xe.isRegExp,nt=Xe&&Xe.isSet,rt=Xe&&Xe.isTypedArray;function it(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function ct(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ft(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function pt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function gt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var vt=Ct("length");function yt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,Et,n)}function _t(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Et(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?At(e,t)/n:NaN}function Ct(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function Mt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function At(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function jt(e){return function(t){return e(t)}}function Tt(e,t){return ft(t,(function(t){return e[t]}))}function Dt(e,t){return e.has(t)}function Ot(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function Ft(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Bt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Pt=St({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),It=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+qe[e]}function Rt(e){return Pe.test(e)}function Nt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function $t(e,t){return function(n){return e(t(n))}}function qt(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function zt(e){return Rt(e)?function(e){var t=Fe.lastIndex=0;for(;Fe.test(e);)++t;return t}(e):vt(e)}function Ht(e){return Rt(e)?function(e){return e.match(Fe)||[]}(e):function(e){return e.split("")}(e)}var Vt=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Gt=function e(t){var n,r=(t=null==t?Ve:Gt.defaults(Ve.Object(),t,Gt.pick(Ve,Le))).Array,he=t.Date,fe=t.Error,de=t.Function,pe=t.Math,ge=t.Object,me=t.RegExp,ve=t.String,ye=t.TypeError,be=r.prototype,we=de.prototype,_e=ge.prototype,Ee=t["__core-js_shared__"],xe=we.toString,Ce=_e.hasOwnProperty,Se=0,Me=(n=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=_e.toString,ke=xe.call(ge),je=Ve._,Te=me("^"+xe.call(Ce).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=Ke?t.Buffer:void 0,Pe=t.Symbol,qe=t.Uint8Array,ze=Fe?Fe.allocUnsafe:void 0,He=$t(ge.getPrototypeOf,ge),Ge=ge.create,Ye=_e.propertyIsEnumerable,Je=be.splice,Xe=Pe?Pe.isConcatSpreadable:void 0,vt=Pe?Pe.iterator:void 0,St=Pe?Pe.toStringTag:void 0,Yt=function(){try{var e=Qi(ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),Kt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Jt=he&&he.now!==Ve.Date.now&&he.now,Xt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Zt=pe.ceil,Qt=pe.floor,en=ge.getOwnPropertySymbols,tn=Fe?Fe.isBuffer:void 0,nn=t.isFinite,rn=be.join,on=$t(ge.keys,ge),sn=pe.max,an=pe.min,un=he.now,ln=t.parseInt,cn=pe.random,hn=be.reverse,fn=Qi(t,"DataView"),dn=Qi(t,"Map"),pn=Qi(t,"Promise"),gn=Qi(t,"Set"),mn=Qi(t,"WeakMap"),vn=Qi(ge,"create"),yn=mn&&new mn,bn={},wn=Ao(fn),_n=Ao(dn),En=Ao(pn),xn=Ao(gn),Cn=Ao(mn),Sn=Pe?Pe.prototype:void 0,Mn=Sn?Sn.valueOf:void 0,An=Sn?Sn.toString:void 0;function kn(e){if(zs(e)&&!Fs(e)&&!(e instanceof On)){if(e instanceof Dn)return e;if(Ce.call(e,"__wrapped__"))return ko(e)}return new Dn(e)}var jn=function(){function e(){}return function(t){if(!Ws(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Tn(){}function Dn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function On(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function In(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pn;++t<n;)this.add(e[t])}function Ln(e){var t=this.__data__=new Bn(e);this.size=t.size}function Rn(e,t){var n=Fs(e),r=!n&&Os(e),i=!n&&!r&&Ls(e),o=!n&&!r&&!i&&Zs(e),s=n||r||i||o,a=s?kt(e.length,ve):[],u=a.length;for(var l in e)!t&&!Ce.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||so(l,u))||a.push(l);return a}function Nn(e){var t=e.length;return t?e[Ir(0,t-1)]:void 0}function $n(e,t){return Co(vi(e),Kn(t,0,e.length))}function qn(e){return Co(vi(e))}function Un(e,t,n){(void 0!==n&&!js(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function Wn(e,t,n){var r=e[t];Ce.call(e,t)&&js(r,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function zn(e,t){for(var n=e.length;n--;)if(js(e[n][0],t))return n;return-1}function Hn(e,t,n,r){return er(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Vn(e,t){return e&&yi(t,wa(t),e)}function Gn(e,t,n){"__proto__"==t&&Yt?Yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,i=t.length,o=r(i),s=null==e;++n<i;)o[n]=s?void 0:ga(e,t[n]);return o}function Kn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Jn(e,t,n,r,i,o){var s,u=1&t,h=2&t,_=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!Ws(e))return e;var O=Fs(e);if(O){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ce.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return vi(e,s)}else{var F=no(e),B=F==f||F==d;if(Ls(e))return hi(e,u);if(F==m||F==a||B&&!i){if(s=h||B?{}:io(e),!u)return h?function(e,t){return yi(e,to(e),t)}(e,function(e,t){return e&&yi(t,_a(t),e)}(s,e)):function(e,t){return yi(e,eo(e),t)}(e,Vn(s,e))}else{if(!$e[F])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case E:return fi(e);case l:case c:return new r(+e);case x:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case C:case S:case M:case A:case k:case j:case"[object Uint8ClampedArray]":case T:case D:return di(e,n);case p:return new r;case g:case b:return new r(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new r;case w:return i=e,Mn?ge(Mn.call(i)):{}}var i}(e,F,u)}}o||(o=new Ln);var P=o.get(e);if(P)return P;o.set(e,s),Ks(e)?e.forEach((function(r){s.add(Jn(r,t,n,r,e,o))})):Hs(e)&&e.forEach((function(r,i){s.set(i,Jn(r,t,n,i,e,o))}));var I=O?void 0:(_?h?Vi:Hi:h?_a:wa)(e);return st(I||e,(function(r,i){I&&(r=e[i=r]),Wn(s,i,Jn(r,t,n,i,e,o))})),s}function Xn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ge(e);r--;){var i=n[r],o=t[i],s=e[i];if(void 0===s&&!(i in e)||!o(s))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new ye(i);return wo((function(){e.apply(void 0,n)}),t)}function Qn(e,t,n,r){var i=-1,o=ct,s=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=ft(t,jt(n))),r?(o=ht,s=!1):t.length>=200&&(o=Dt,s=!1,t=new In(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var f=l;f--;)if(t[f]===h)continue e;u.push(c)}else o(t,h,r)||u.push(c)}return u}kn.templateSettings={escape:N,evaluate:$,interpolate:q,variable:"",imports:{_:kn}},kn.prototype=Tn.prototype,kn.prototype.constructor=kn,Dn.prototype=jn(Tn.prototype),Dn.prototype.constructor=Dn,On.prototype=jn(Tn.prototype),On.prototype.constructor=On,Fn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Fn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Fn.prototype.get=function(e){var t=this.__data__;if(vn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ce.call(t,e)?t[e]:void 0},Fn.prototype.has=function(e){var t=this.__data__;return vn?void 0!==t[e]:Ce.call(t,e)},Fn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&void 0===t?"__lodash_hash_undefined__":t,this},Bn.prototype.clear=function(){this.__data__=[],this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=zn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Bn.prototype.get=function(e){var t=this.__data__,n=zn(t,e);return n<0?void 0:t[n][1]},Bn.prototype.has=function(e){return zn(this.__data__,e)>-1},Bn.prototype.set=function(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new Fn,map:new(dn||Bn),string:new Fn}},Pn.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Pn.prototype.get=function(e){return Xi(this,e).get(e)},Pn.prototype.has=function(e){return Xi(this,e).has(e)},Pn.prototype.set=function(e,t){var n=Xi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},In.prototype.add=In.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},In.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.clear=function(){this.__data__=new Bn,this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ln.prototype.get=function(e){return this.__data__.get(e)},Ln.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Bn){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(e,t),this.size=n.size,this};var er=_i(ur),tr=_i(lr,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Xs(s):n(s,a)))var a=s,u=o}return u}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function or(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=oo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?or(a,t-1,n,r,i):dt(i,a):r||(i[i.length]=a)}return i}var sr=Ei(),ar=Ei(!0);function ur(e,t){return e&&sr(e,t,wa)}function lr(e,t){return e&&ar(e,t,wa)}function cr(e,t){return lt(t,(function(t){return $s(e[t])}))}function hr(e,t){for(var n=0,r=(t=ai(t,e)).length;null!=e&&n<r;)e=e[Mo(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Fs(e)?r:dt(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":St&&St in ge(e)?function(e){var t=Ce.call(e,St),n=e[St];try{e[St]=void 0;var r=!0}catch(e){}var i=Ae.call(e);r&&(t?e[St]=n:delete e[St]);return i}(e):function(e){return Ae.call(e)}(e)}function pr(e,t){return e>t}function gr(e,t){return null!=e&&Ce.call(e,t)}function mr(e,t){return null!=e&&t in ge(e)}function vr(e,t,n){for(var i=n?ht:ct,o=e[0].length,s=e.length,a=s,u=r(s),l=1/0,c=[];a--;){var h=e[a];a&&t&&(h=ft(h,jt(t))),l=an(h.length,l),u[a]=!n&&(t||o>=120&&h.length>=120)?new In(a&&h):void 0}h=e[0];var f=-1,d=u[0];e:for(;++f<o&&c.length<l;){var p=h[f],g=t?t(p):p;if(p=n||0!==p?p:0,!(d?Dt(d,g):i(c,g,n))){for(a=s;--a;){var m=u[a];if(!(m?Dt(m,g):i(e[a],g,n)))continue e}d&&d.push(g),c.push(p)}}return c}function yr(e,t,n){var r=null==(e=mo(e,t=ai(t,e)))?e:e[Mo(No(t))];return null==r?void 0:it(r,e,n)}function br(e){return zs(e)&&dr(e)==a}function wr(e,t,n,r,i){return e===t||(null==e||null==t||!zs(e)&&!zs(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var s=Fs(e),f=Fs(t),d=s?u:no(e),_=f?u:no(t),C=(d=d==a?m:d)==m,S=(_=_==a?m:_)==m,M=d==_;if(M&&Ls(e)){if(!Ls(t))return!1;s=!0,C=!1}if(M&&!C)return o||(o=new Ln),s||Zs(e)?Wi(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case l:case c:case g:return js(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case p:var a=Nt;case y:var u=1&r;if(a||(a=Ut),e.size!=t.size&&!u)return!1;var f=s.get(e);if(f)return f==t;r|=2,s.set(e,t);var d=Wi(a(e),a(t),r,i,o,s);return s.delete(e),d;case w:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var A=C&&Ce.call(e,"__wrapped__"),k=S&&Ce.call(t,"__wrapped__");if(A||k){var j=A?e.value():e,T=k?t.value():t;return o||(o=new Ln),i(j,T,n,r,o)}}if(!M)return!1;return o||(o=new Ln),function(e,t,n,r,i,o){var s=1&n,a=Hi(e),u=a.length,l=Hi(t).length;if(u!=l&&!s)return!1;var c=u;for(;c--;){var h=a[c];if(!(s?h in t:Ce.call(t,h)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);var g=s;for(;++c<u;){h=a[c];var m=e[h],v=t[h];if(r)var y=s?r(v,m,h,t,e,o):r(m,v,h,e,t,o);if(!(void 0===y?m===v||i(m,v,n,r,o):y)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,n,r,wr,i))}function _r(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=ge(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var u=(a=n[i])[0],l=e[u],c=a[1];if(s&&a[2]){if(void 0===l&&!(u in e))return!1}else{var h=new Ln;if(r)var f=r(l,c,u,e,t,h);if(!(void 0===f?wr(c,l,3,r,h):f))return!1}}return!0}function Er(e){return!(!Ws(e)||(t=e,Me&&Me in t))&&($s(e)?Te:oe).test(Ao(e));var t}function xr(e){return"function"==typeof e?e:null==e?Va:"object"==typeof e?Fs(e)?jr(e[0],e[1]):kr(e):tu(e)}function Cr(e){if(!ho(e))return on(e);var t=[];for(var n in ge(e))Ce.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Sr(e){if(!Ws(e))return function(e){var t=[];if(null!=e)for(var n in ge(e))t.push(n);return t}(e);var t=ho(e),n=[];for(var r in e)("constructor"!=r||!t&&Ce.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Ar(e,t){var n=-1,i=Ps(e)?r(e.length):[];return er(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function kr(e){var t=Zi(e);return 1==t.length&&t[0][2]?po(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function jr(e,t){return uo(e)&&fo(t)?po(Mo(e),t):function(n){var r=ga(n,e);return void 0===r&&r===t?ma(n,e):wr(t,r,3)}}function Tr(e,t,n,r,i){e!==t&&sr(t,(function(o,s){if(i||(i=new Ln),Ws(o))!function(e,t,n,r,i,o,s){var a=yo(e,n),u=yo(t,n),l=s.get(u);if(l)return void Un(e,n,l);var c=o?o(a,u,n+"",e,t,s):void 0,h=void 0===c;if(h){var f=Fs(u),d=!f&&Ls(u),p=!f&&!d&&Zs(u);c=u,f||d||p?Fs(a)?c=a:Is(a)?c=vi(a):d?(h=!1,c=hi(u,!0)):p?(h=!1,c=di(u,!0)):c=[]:Gs(u)||Os(u)?(c=a,Os(a)?c=sa(a):Ws(a)&&!$s(a)||(c=io(u))):h=!1}h&&(s.set(u,c),i(c,u,r,o,s),s.delete(u));Un(e,n,c)}(e,t,s,n,Tr,r,i);else{var a=r?r(yo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),Un(e,s,a)}}),_a)}function Dr(e,t){var n=e.length;if(n)return so(t+=t<0?n:0,n)?e[t]:void 0}function Or(e,t,n){t=t.length?ft(t,(function(e){return Fs(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e})):[Va];var r=-1;return t=ft(t,jt(Ji())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ar(e,(function(e,n,i){return{criteria:ft(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var u=pi(i[r],o[r]);if(u){if(r>=a)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Fr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=hr(e,s);n(a,s)&&qr(o,ai(s,e),a)}return o}function Br(e,t,n,r){var i=r?_t:wt,o=-1,s=t.length,a=e;for(e===t&&(t=vi(t)),n&&(a=ft(e,jt(n)));++o<s;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==e&&Je.call(a,u,1),Je.call(e,u,1);return e}function Pr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;so(i)?Je.call(e,i,1):Qr(e,i)}}return e}function Ir(e,t){return e+Qt(cn()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function Rr(e,t){return _o(go(e,t,Va),e+"")}function Nr(e){return Nn(ja(e))}function $r(e,t){var n=ja(e);return Co(n,Kn(t,0,n.length))}function qr(e,t,n,r){if(!Ws(e))return e;for(var i=-1,o=(t=ai(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var u=Mo(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var c=a[u];void 0===(l=r?r(c,u,a):void 0)&&(l=Ws(c)?c:so(t[i+1])?[]:{})}Wn(a,u,l),a=a[u]}return e}var Ur=yn?function(e,t){return yn.set(e,t),e}:Va,Wr=Yt?function(e,t){return Yt(e,"toString",{configurable:!0,enumerable:!1,value:Wa(t),writable:!0})}:Va;function zr(e){return Co(ja(e))}function Hr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function Vr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Gr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Xs(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Yr(e,t,Va,n)}function Yr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,u=Xs(t),l=void 0===t;i<o;){var c=Qt((i+o)/2),h=n(e[c]),f=void 0!==h,d=null===h,p=h==h,g=Xs(h);if(s)var m=r||p;else m=l?p&&(r||f):a?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):!d&&!g&&(r?h<=t:h<t);m?i=c+1:o=c}return an(o,4294967294)}function Kr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!js(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Jr(e){return"number"==typeof e?e:Xs(e)?NaN:+e}function Xr(e){if("string"==typeof e)return e;if(Fs(e))return ft(e,Xr)+"";if(Xs(e))return An?An.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,i=ct,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=ht;else if(o>=200){var l=t?null:Li(e);if(l)return Ut(l);s=!1,i=Dt,u=new In}else u=t?[]:a;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),a.push(c)}else i(u,h,n)||(u!==a&&u.push(h),a.push(c))}return a}function Qr(e,t){return null==(e=mo(e,t=ai(t,e)))||delete e[Mo(No(t))]}function ei(e,t,n,r){return qr(e,t,n(hr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Hr(e,r?0:o,r?o+1:i):Hr(e,r?o+1:0,r?i:o)}function ni(e,t){var n=e;return n instanceof On&&(n=n.value()),pt(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function ri(e,t,n){var i=e.length;if(i<2)return i?Zr(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=Qn(s[o]||a,e[u],t,n));return Zr(or(s,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a)}return s}function oi(e){return Is(e)?e:[]}function si(e){return"function"==typeof e?e:Va}function ai(e,t){return Fs(e)?e:uo(e,t)?[e]:So(aa(e))}var ui=Rr;function li(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Hr(e,t,n)}var ci=Kt||function(e){return Ve.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function di(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Xs(e),s=void 0!==t,a=null===t,u=t==t,l=Xs(t);if(!a&&!l&&!o&&e>t||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function gi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,u=-1,l=t.length,c=sn(s-a,0),h=r(l+c),f=!i;++u<l;)h[u]=t[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[u++]=e[o++];return h}function mi(e,t,n,i){for(var o=-1,s=e.length,a=-1,u=n.length,l=-1,c=t.length,h=sn(s-u,0),f=r(h+c),d=!i;++o<h;)f[o]=e[o];for(var p=o;++l<c;)f[p+l]=t[l];for(;++a<u;)(d||o<s)&&(f[p+n[a]]=e[o++]);return f}function vi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function yi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;void 0===u&&(u=e[a]),i?Gn(n,a,u):Wn(n,a,u)}return n}function bi(e,t){return function(n,r){var i=Fs(n)?ot:Hn,o=t?t():{};return i(n,e,Ji(r,2),o)}}function wi(e){return Rr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&ao(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=ge(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function _i(e,t){return function(n,r){if(null==n)return n;if(!Ps(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=ge(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=ge(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function xi(e){return function(t){var n=Rt(t=aa(t))?Ht(t):void 0,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function Ci(e){return function(t){return pt($a(Oa(t).replace(De,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return Ws(r)?r:n}}function Mi(e){return function(t,n,r){var i=ge(t);if(!Ps(t)){var o=Ji(n,3);t=wa(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function Ai(e){return zi((function(t){var n=t.length,r=n,o=Dn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new ye(i);if(o&&!a&&"wrapper"==Yi(s))var a=new Dn([],!0)}for(r=a?r:n;++r<n;){var u=Yi(s=t[r]),l="wrapper"==u?Gi(s):void 0;a=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Yi(l[0])].apply(a,l[3]):1==s.length&&lo(s)?a[u]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Fs(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ki(e,t,n,i,o,s,a,u,l,c){var h=128&t,f=1&t,d=2&t,p=24&t,g=512&t,m=d?void 0:Si(e);return function v(){for(var y=arguments.length,b=r(y),w=y;w--;)b[w]=arguments[w];if(p)var _=Ki(v),E=Bt(b,_);if(i&&(b=gi(b,i,o,p)),s&&(b=mi(b,s,a,p)),y-=E,p&&y<c){var x=qt(b,_);return Pi(e,t,ki,v.placeholder,n,b,x,u,l,c-y)}var C=f?n:this,S=d?C[e]:e;return y=b.length,u?b=vo(b,u):g&&y>1&&b.reverse(),h&&l<y&&(b.length=l),this&&this!==Ve&&this instanceof v&&(S=m||Si(S)),S.apply(C,b)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return ur(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ti(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Xr(n),r=Xr(r)):(n=Jr(n),r=Jr(r)),i=e(n,r)}return i}}function Di(e){return zi((function(t){return t=ft(t,jt(Ji())),Rr((function(n){var r=this;return e(t,(function(e){return it(e,r,n)}))}))}))}function Oi(e,t){var n=(t=void 0===t?" ":Xr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Zt(e/zt(t)));return Rt(t)?li(Ht(r),0,e).join(""):r.slice(0,e)}function Fi(e){return function(t,n,i){return i&&"number"!=typeof i&&ao(t,n,i)&&(n=i=void 0),t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n,i){for(var o=-1,s=sn(Zt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:na(i),e)}}function Bi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oa(t),n=oa(n)),e(t,n)}}function Pi(e,t,n,r,i,o,s,a,u,l){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var h=[e,t,i,c?o:void 0,c?s:void 0,c?void 0:o,c?void 0:s,a,u,l],f=n.apply(void 0,h);return lo(e)&&bo(f,h),f.placeholder=r,Eo(f,e,t)}function Ii(e){var t=pe[e];return function(e,n){if(e=oa(e),(n=null==n?0:an(ra(n),292))&&nn(e)){var r=(aa(e)+"e").split("e");return+((r=(aa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Li=gn&&1/Ut(new gn([,-0]))[1]==1/0?function(e){return new gn(e)}:Xa;function Ri(e){return function(t){var n=no(t);return n==p?Nt(t):n==y?Wt(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ni(e,t,n,s,a,u,l,c){var h=2&t;if(!h&&"function"!=typeof e)throw new ye(i);var f=s?s.length:0;if(f||(t&=-97,s=a=void 0),l=void 0===l?l:sn(ra(l),0),c=void 0===c?c:ra(c),f-=a?a.length:0,64&t){var d=s,p=a;s=a=void 0}var g=h?void 0:Gi(e),m=[e,t,n,s,a,d,p,u,l,c];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?gi(l,u,t[4]):u,e[4]=l?qt(e[3],o):t[4]}(u=t[5])&&(l=e[5],e[5]=l?mi(l,u,t[6]):u,e[6]=l?qt(e[5],o):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,g),e=m[0],t=m[1],n=m[2],s=m[3],a=m[4],!(c=m[9]=void 0===m[9]?h?0:e.length:sn(m[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Si(e);return function o(){for(var s=arguments.length,a=r(s),u=s,l=Ki(o);u--;)a[u]=arguments[u];var c=s<3&&a[0]!==l&&a[s-1]!==l?[]:qt(a,l);if((s-=c.length)<n)return Pi(e,t,ki,o.placeholder,void 0,a,c,void 0,void 0,n-s);var h=this&&this!==Ve&&this instanceof o?i:e;return it(h,this,a)}}(e,t,c):32!=t&&33!=t||a.length?ki.apply(void 0,m):function(e,t,n,i){var o=1&t,s=Si(e);return function t(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=r(c+u),f=this&&this!==Ve&&this instanceof t?s:e;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return it(f,o?n:this,h)}}(e,t,n,s);else var v=function(e,t,n){var r=1&t,i=Si(e);return function t(){var o=this&&this!==Ve&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return Eo((g?Ur:bo)(v,m),e,t)}function $i(e,t,n,r){return void 0===e||js(e,_e[n])&&!Ce.call(r,n)?t:e}function qi(e,t,n,r,i,o){return Ws(e)&&Ws(t)&&(o.set(t,e),Tr(e,t,void 0,qi,o),o.delete(t)),e}function Ui(e){return Gs(e)?void 0:e}function Wi(e,t,n,r,i,o){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var h=-1,f=!0,d=2&n?new In:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],g=t[h];if(r)var m=s?r(g,p,h,t,e,o):r(p,g,h,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!mt(t,(function(e,t){if(!Dt(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){f=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function zi(e){return _o(go(e,void 0,Bo),e+"")}function Hi(e){return fr(e,wa,eo)}function Vi(e){return fr(e,_a,to)}var Gi=yn?function(e){return yn.get(e)}:Xa;function Yi(e){for(var t=e.name+"",n=bn[t],r=Ce.call(bn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Ki(e){return(Ce.call(kn,"placeholder")?kn:e).placeholder}function Ji(){var e=kn.iteratee||Ga;return e=e===Ga?xr:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){for(var t=wa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function Qi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var eo=en?function(e){return null==e?[]:(e=ge(e),lt(en(e),(function(t){return Ye.call(e,t)})))}:iu,to=en?function(e){for(var t=[];e;)dt(t,eo(e)),e=He(e);return t}:iu,no=dr;function ro(e,t,n){for(var r=-1,i=(t=ai(t,e)).length,o=!1;++r<i;){var s=Mo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Us(i)&&so(s,i)&&(Fs(e)||Os(e))}function io(e){return"function"!=typeof e.constructor||ho(e)?{}:jn(He(e))}function oo(e){return Fs(e)||Os(e)||!!(Xe&&e&&e[Xe])}function so(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ae.test(e))&&e>-1&&e%1==0&&e<t}function ao(e,t,n){if(!Ws(n))return!1;var r=typeof t;return!!("number"==r?Ps(n)&&so(t,n.length):"string"==r&&t in n)&&js(n[t],e)}function uo(e,t){if(Fs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Xs(e))||(W.test(e)||!U.test(e)||null!=t&&e in ge(t))}function lo(e){var t=Yi(e),n=kn[t];if("function"!=typeof n||!(t in On.prototype))return!1;if(e===n)return!0;var r=Gi(n);return!!r&&e===r[0]}(fn&&no(new fn(new ArrayBuffer(1)))!=x||dn&&no(new dn)!=p||pn&&"[object Promise]"!=no(pn.resolve())||gn&&no(new gn)!=y||mn&&no(new mn)!=_)&&(no=function(e){var t=dr(e),n=t==m?e.constructor:void 0,r=n?Ao(n):"";if(r)switch(r){case wn:return x;case _n:return p;case En:return"[object Promise]";case xn:return y;case Cn:return _}return t});var co=Ee?$s:ou;function ho(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function fo(e){return e==e&&!Ws(e)}function po(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ge(n)))}}function go(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=sn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(a),it(e,this,u)}}function mo(e,t){return t.length<2?e:hr(e,Hr(t,0,-1))}function vo(e,t){for(var n=e.length,r=an(t.length,n),i=vi(e);r--;){var o=t[r];e[r]=so(o,n)?i[o]:void 0}return e}function yo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bo=xo(Ur),wo=Xt||function(e,t){return Ve.setTimeout(e,t)},_o=xo(Wr);function Eo(e,t,n){var r=t+"";return _o(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(J,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ct(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(Z):[]}(r),n)))}function xo(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Co(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Ir(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var So=function(e){var t=xs(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(z,(function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)})),t}));function Mo(e){if("string"==typeof e||Xs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ao(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ko(e){if(e instanceof On)return e.clone();var t=new Dn(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=Rr((function(e,t){return Is(e)?Qn(e,or(t,1,Is,!0)):[]})),To=Rr((function(e,t){var n=No(t);return Is(n)&&(n=void 0),Is(e)?Qn(e,or(t,1,Is,!0),Ji(n,2)):[]})),Do=Rr((function(e,t){var n=No(t);return Is(n)&&(n=void 0),Is(e)?Qn(e,or(t,1,Is,!0),void 0,n):[]}));function Oo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=sn(r+i,0)),bt(e,Ji(t,3),i)}function Fo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ra(n),i=n<0?sn(r+i,0):an(i,r-1)),bt(e,Ji(t,3),i,!0)}function Bo(e){return(null==e?0:e.length)?or(e,1):[]}function Po(e){return e&&e.length?e[0]:void 0}var Io=Rr((function(e){var t=ft(e,oi);return t.length&&t[0]===e[0]?vr(t):[]})),Lo=Rr((function(e){var t=No(e),n=ft(e,oi);return t===No(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?vr(n,Ji(t,2)):[]})),Ro=Rr((function(e){var t=No(e),n=ft(e,oi);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?vr(n,void 0,t):[]}));function No(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var $o=Rr(qo);function qo(e,t){return e&&e.length&&t&&t.length?Br(e,t):e}var Uo=zi((function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return Pr(e,ft(t,(function(e){return so(e,n)?+e:e})).sort(pi)),r}));function Wo(e){return null==e?e:hn.call(e)}var zo=Rr((function(e){return Zr(or(e,1,Is,!0))})),Ho=Rr((function(e){var t=No(e);return Is(t)&&(t=void 0),Zr(or(e,1,Is,!0),Ji(t,2))})),Vo=Rr((function(e){var t=No(e);return t="function"==typeof t?t:void 0,Zr(or(e,1,Is,!0),void 0,t)}));function Go(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Is(e))return t=sn(e.length,t),!0})),kt(t,(function(t){return ft(e,Ct(t))}))}function Yo(e,t){if(!e||!e.length)return[];var n=Go(e);return null==t?n:ft(n,(function(e){return it(t,void 0,e)}))}var Ko=Rr((function(e,t){return Is(e)?Qn(e,t):[]})),Jo=Rr((function(e){return ri(lt(e,Is))})),Xo=Rr((function(e){var t=No(e);return Is(t)&&(t=void 0),ri(lt(e,Is),Ji(t,2))})),Zo=Rr((function(e){var t=No(e);return t="function"==typeof t?t:void 0,ri(lt(e,Is),void 0,t)})),Qo=Rr(Go);var es=Rr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)}));function ts(e){var t=kn(e);return t.__chain__=!0,t}function ns(e,t){return t(e)}var rs=zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof On&&so(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ns,args:[i],thisArg:void 0}),new Dn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var is=bi((function(e,t,n){Ce.call(e,n)?++e[n]:Gn(e,n,1)}));var os=Mi(Oo),ss=Mi(Fo);function as(e,t){return(Fs(e)?st:er)(e,Ji(t,3))}function us(e,t){return(Fs(e)?at:tr)(e,Ji(t,3))}var ls=bi((function(e,t,n){Ce.call(e,n)?e[n].push(t):Gn(e,n,[t])}));var cs=Rr((function(e,t,n){var i=-1,o="function"==typeof t,s=Ps(e)?r(e.length):[];return er(e,(function(e){s[++i]=o?it(t,e,n):yr(e,t,n)})),s})),hs=bi((function(e,t,n){Gn(e,n,t)}));function fs(e,t){return(Fs(e)?ft:Ar)(e,Ji(t,3))}var ds=bi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ps=Rr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ao(e,t[0],t[1])?t=[]:n>2&&ao(t[0],t[1],t[2])&&(t=[t[0]]),Or(e,or(t,1),[])})),gs=Jt||function(){return Ve.Date.now()};function ms(e,t,n){return t=n?void 0:t,Ni(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vs(e,t){var n;if("function"!=typeof t)throw new ye(i);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ys=Rr((function(e,t,n){var r=1;if(n.length){var i=qt(n,Ki(ys));r|=32}return Ni(e,r,t,n,i)})),bs=Rr((function(e,t,n){var r=3;if(n.length){var i=qt(n,Ki(bs));r|=32}return Ni(t,r,e,n,i)}));function ws(e,t,n){var r,o,s,a,u,l,c=0,h=!1,f=!1,d=!0;if("function"!=typeof e)throw new ye(i);function p(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function g(e){return c=e,u=wo(v,t),h?p(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-c>=s}function v(){var e=gs();if(m(e))return y(e);u=wo(v,function(e){var n=t-(e-l);return f?an(n,s-(e-c)):n}(e))}function y(e){return u=void 0,d&&r?p(e):(r=o=void 0,a)}function b(){var e=gs(),n=m(e);if(r=arguments,o=this,l=e,n){if(void 0===u)return g(l);if(f)return ci(u),u=wo(v,t),p(l)}return void 0===u&&(u=wo(v,t)),a}return t=oa(t)||0,Ws(n)&&(h=!!n.leading,s=(f="maxWait"in n)?sn(oa(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ci(u),c=0,r=l=o=u=void 0},b.flush=function(){return void 0===u?a:y(gs())},b}var _s=Rr((function(e,t){return Zn(e,1,t)})),Es=Rr((function(e,t,n){return Zn(e,oa(t)||0,n)}));function xs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(xs.Cache||Pn),n}function Cs(e){if("function"!=typeof e)throw new ye(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xs.Cache=Pn;var Ss=ui((function(e,t){var n=(t=1==t.length&&Fs(t[0])?ft(t[0],jt(Ji())):ft(or(t,1),jt(Ji()))).length;return Rr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return it(e,this,r)}))})),Ms=Rr((function(e,t){return Ni(e,32,void 0,t,qt(t,Ki(Ms)))})),As=Rr((function(e,t){return Ni(e,64,void 0,t,qt(t,Ki(As)))})),ks=zi((function(e,t){return Ni(e,256,void 0,void 0,void 0,t)}));function js(e,t){return e===t||e!=e&&t!=t}var Ts=Bi(pr),Ds=Bi((function(e,t){return e>=t})),Os=br(function(){return arguments}())?br:function(e){return zs(e)&&Ce.call(e,"callee")&&!Ye.call(e,"callee")},Fs=r.isArray,Bs=Ze?jt(Ze):function(e){return zs(e)&&dr(e)==E};function Ps(e){return null!=e&&Us(e.length)&&!$s(e)}function Is(e){return zs(e)&&Ps(e)}var Ls=tn||ou,Rs=Qe?jt(Qe):function(e){return zs(e)&&dr(e)==c};function Ns(e){if(!zs(e))return!1;var t=dr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Gs(e)}function $s(e){if(!Ws(e))return!1;var t=dr(e);return t==f||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function qs(e){return"number"==typeof e&&e==ra(e)}function Us(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ws(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function zs(e){return null!=e&&"object"==typeof e}var Hs=et?jt(et):function(e){return zs(e)&&no(e)==p};function Vs(e){return"number"==typeof e||zs(e)&&dr(e)==g}function Gs(e){if(!zs(e)||dr(e)!=m)return!1;var t=He(e);if(null===t)return!0;var n=Ce.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==ke}var Ys=tt?jt(tt):function(e){return zs(e)&&dr(e)==v};var Ks=nt?jt(nt):function(e){return zs(e)&&no(e)==y};function Js(e){return"string"==typeof e||!Fs(e)&&zs(e)&&dr(e)==b}function Xs(e){return"symbol"==typeof e||zs(e)&&dr(e)==w}var Zs=rt?jt(rt):function(e){return zs(e)&&Us(e.length)&&!!Ne[dr(e)]};var Qs=Bi(Mr),ea=Bi((function(e,t){return e<=t}));function ta(e){if(!e)return[];if(Ps(e))return Js(e)?Ht(e):vi(e);if(vt&&e[vt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[vt]());var t=no(e);return(t==p?Nt:t==y?Ut:ja)(e)}function na(e){return e?(e=oa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=na(e),n=t%1;return t==t?n?t-n:t:0}function ia(e){return e?Kn(ra(e),0,4294967295):0}function oa(e){if("number"==typeof e)return e;if(Xs(e))return NaN;if(Ws(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ws(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(G,"");var n=ie.test(e);return n||se.test(e)?We(e.slice(2),n?2:8):re.test(e)?NaN:+e}function sa(e){return yi(e,_a(e))}function aa(e){return null==e?"":Xr(e)}var ua=wi((function(e,t){if(ho(t)||Ps(t))yi(t,wa(t),e);else for(var n in t)Ce.call(t,n)&&Wn(e,n,t[n])})),la=wi((function(e,t){yi(t,_a(t),e)})),ca=wi((function(e,t,n,r){yi(t,_a(t),e,r)})),ha=wi((function(e,t,n,r){yi(t,wa(t),e,r)})),fa=zi(Yn);var da=Rr((function(e,t){e=ge(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&ao(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=_a(o),a=-1,u=s.length;++a<u;){var l=s[a],c=e[l];(void 0===c||js(c,_e[l])&&!Ce.call(e,l))&&(e[l]=o[l])}return e})),pa=Rr((function(e){return e.push(void 0,qi),it(xa,void 0,e)}));function ga(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function ma(e,t){return null!=e&&ro(e,t,mr)}var va=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Wa(Va)),ya=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Ce.call(e,t)?e[t].push(n):e[t]=[n]}),Ji),ba=Rr(yr);function wa(e){return Ps(e)?Rn(e):Cr(e)}function _a(e){return Ps(e)?Rn(e,!0):Sr(e)}var Ea=wi((function(e,t,n){Tr(e,t,n)})),xa=wi((function(e,t,n,r){Tr(e,t,n,r)})),Ca=zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=ft(t,(function(t){return t=ai(t,e),r||(r=t.length>1),t})),yi(e,Vi(e),n),r&&(n=Jn(n,7,Ui));for(var i=t.length;i--;)Qr(n,t[i]);return n}));var Sa=zi((function(e,t){return null==e?{}:function(e,t){return Fr(e,t,(function(t,n){return ma(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=ft(Vi(e),(function(e){return[e]}));return t=Ji(t),Fr(e,n,(function(e,n){return t(e,n[0])}))}var Aa=Ri(wa),ka=Ri(_a);function ja(e){return null==e?[]:Tt(e,wa(e))}var Ta=Ci((function(e,t,n){return t=t.toLowerCase(),e+(n?Da(t):t)}));function Da(e){return Na(aa(e).toLowerCase())}function Oa(e){return(e=aa(e))&&e.replace(ue,Pt).replace(Oe,"")}var Fa=Ci((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ba=Ci((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Pa=xi("toLowerCase");var Ia=Ci((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var La=Ci((function(e,t,n){return e+(n?" ":"")+Na(t)}));var Ra=Ci((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Na=xi("toUpperCase");function $a(e,t,n){return e=aa(e),void 0===(t=n?void 0:t)?function(e){return Ie.test(e)}(e)?function(e){return e.match(Be)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var qa=Rr((function(e,t){try{return it(e,void 0,t)}catch(e){return Ns(e)?e:new fe(e)}})),Ua=zi((function(e,t){return st(t,(function(t){t=Mo(t),Gn(e,t,ys(e[t],e))})),e}));function Wa(e){return function(){return e}}var za=Ai(),Ha=Ai(!0);function Va(e){return e}function Ga(e){return xr("function"==typeof e?e:Jn(e,1))}var Ya=Rr((function(e,t){return function(n){return yr(n,e,t)}})),Ka=Rr((function(e,t){return function(n){return yr(e,n,t)}}));function Ja(e,t,n){var r=wa(t),i=cr(t,r);null!=n||Ws(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,wa(t)));var o=!(Ws(n)&&"chain"in n&&!n.chain),s=$s(e);return st(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=vi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function Xa(){}var Za=Di(ft),Qa=Di(ut),eu=Di(mt);function tu(e){return uo(e)?Ct(Mo(e)):function(e){return function(t){return hr(t,e)}}(e)}var nu=Fi(),ru=Fi(!0);function iu(){return[]}function ou(){return!1}var su=Ti((function(e,t){return e+t}),0),au=Ii("ceil"),uu=Ti((function(e,t){return e/t}),1),lu=Ii("floor");var cu,hu=Ti((function(e,t){return e*t}),1),fu=Ii("round"),du=Ti((function(e,t){return e-t}),0);return kn.after=function(e,t){if("function"!=typeof t)throw new ye(i);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},kn.ary=ms,kn.assign=ua,kn.assignIn=la,kn.assignInWith=ca,kn.assignWith=ha,kn.at=fa,kn.before=vs,kn.bind=ys,kn.bindAll=Ua,kn.bindKey=bs,kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Fs(e)?e:[e]},kn.chain=ts,kn.chunk=function(e,t,n){t=(n?ao(e,t,n):void 0===t)?1:sn(ra(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=r(Zt(i/t));o<i;)a[s++]=Hr(e,o,o+=t);return a},kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return dt(Fs(n)?vi(n):[n],or(t,1))},kn.cond=function(e){var t=null==e?0:e.length,n=Ji();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ye(i);return[n(e[0]),e[1]]})):[],Rr((function(n){for(var r=-1;++r<t;){var i=e[r];if(it(i[0],this,n))return it(i[1],this,n)}}))},kn.conforms=function(e){return function(e){var t=wa(e);return function(n){return Xn(n,e,t)}}(Jn(e,1))},kn.constant=Wa,kn.countBy=is,kn.create=function(e,t){var n=jn(e);return null==t?n:Vn(n,t)},kn.curry=function e(t,n,r){var i=Ni(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},kn.curryRight=function e(t,n,r){var i=Ni(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},kn.debounce=ws,kn.defaults=da,kn.defaultsDeep=pa,kn.defer=_s,kn.delay=Es,kn.difference=jo,kn.differenceBy=To,kn.differenceWith=Do,kn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=n||void 0===t?1:ra(t))<0?0:t,r):[]},kn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,0,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},kn.dropRightWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3),!0,!0):[]},kn.dropWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3),!0):[]},kn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ao(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ra(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ra(r))<0&&(r+=i),r=n>r?0:ia(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},kn.filter=function(e,t){return(Fs(e)?lt:ir)(e,Ji(t,3))},kn.flatMap=function(e,t){return or(fs(e,t),1)},kn.flatMapDeep=function(e,t){return or(fs(e,t),1/0)},kn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),or(fs(e,t),n)},kn.flatten=Bo,kn.flattenDeep=function(e){return(null==e?0:e.length)?or(e,1/0):[]},kn.flattenDepth=function(e,t){return(null==e?0:e.length)?or(e,t=void 0===t?1:ra(t)):[]},kn.flip=function(e){return Ni(e,512)},kn.flow=za,kn.flowRight=Ha,kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},kn.functions=function(e){return null==e?[]:cr(e,wa(e))},kn.functionsIn=function(e){return null==e?[]:cr(e,_a(e))},kn.groupBy=ls,kn.initial=function(e){return(null==e?0:e.length)?Hr(e,0,-1):[]},kn.intersection=Io,kn.intersectionBy=Lo,kn.intersectionWith=Ro,kn.invert=va,kn.invertBy=ya,kn.invokeMap=cs,kn.iteratee=Ga,kn.keyBy=hs,kn.keys=wa,kn.keysIn=_a,kn.map=fs,kn.mapKeys=function(e,t){var n={};return t=Ji(t,3),ur(e,(function(e,r,i){Gn(n,t(e,r,i),e)})),n},kn.mapValues=function(e,t){var n={};return t=Ji(t,3),ur(e,(function(e,r,i){Gn(n,r,t(e,r,i))})),n},kn.matches=function(e){return kr(Jn(e,1))},kn.matchesProperty=function(e,t){return jr(e,Jn(t,1))},kn.memoize=xs,kn.merge=Ea,kn.mergeWith=xa,kn.method=Ya,kn.methodOf=Ka,kn.mixin=Ja,kn.negate=Cs,kn.nthArg=function(e){return e=ra(e),Rr((function(t){return Dr(t,e)}))},kn.omit=Ca,kn.omitBy=function(e,t){return Ma(e,Cs(Ji(t)))},kn.once=function(e){return vs(2,e)},kn.orderBy=function(e,t,n,r){return null==e?[]:(Fs(t)||(t=null==t?[]:[t]),Fs(n=r?void 0:n)||(n=null==n?[]:[n]),Or(e,t,n))},kn.over=Za,kn.overArgs=Ss,kn.overEvery=Qa,kn.overSome=eu,kn.partial=Ms,kn.partialRight=As,kn.partition=ds,kn.pick=Sa,kn.pickBy=Ma,kn.property=tu,kn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},kn.pull=$o,kn.pullAll=qo,kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Br(e,t,Ji(n,2)):e},kn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Br(e,t,void 0,n):e},kn.pullAt=Uo,kn.range=nu,kn.rangeRight=ru,kn.rearg=ks,kn.reject=function(e,t){return(Fs(e)?lt:ir)(e,Cs(Ji(t,3)))},kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ji(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Pr(e,i),n},kn.rest=function(e,t){if("function"!=typeof e)throw new ye(i);return Rr(e,t=void 0===t?t:ra(t))},kn.reverse=Wo,kn.sampleSize=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ra(t),(Fs(e)?$n:$r)(e,t)},kn.set=function(e,t,n){return null==e?e:qr(e,t,n)},kn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:qr(e,t,n,r)},kn.shuffle=function(e){return(Fs(e)?qn:zr)(e)},kn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ao(e,t,n)?(t=0,n=r):(t=null==t?0:ra(t),n=void 0===n?r:ra(n)),Hr(e,t,n)):[]},kn.sortBy=ps,kn.sortedUniq=function(e){return e&&e.length?Kr(e):[]},kn.sortedUniqBy=function(e,t){return e&&e.length?Kr(e,Ji(t,2)):[]},kn.split=function(e,t,n){return n&&"number"!=typeof n&&ao(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=aa(e))&&("string"==typeof t||null!=t&&!Ys(t))&&!(t=Xr(t))&&Rt(e)?li(Ht(e),0,n):e.split(t,n):[]},kn.spread=function(e,t){if("function"!=typeof e)throw new ye(i);return t=null==t?0:sn(ra(t),0),Rr((function(n){var r=n[t],i=li(n,0,t);return r&&dt(i,r),it(e,this,i)}))},kn.tail=function(e){var t=null==e?0:e.length;return t?Hr(e,1,t):[]},kn.take=function(e,t,n){return e&&e.length?Hr(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},kn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t,r):[]},kn.takeRightWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3),!1,!0):[]},kn.takeWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3)):[]},kn.tap=function(e,t){return t(e),e},kn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ye(i);return Ws(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ws(e,t,{leading:r,maxWait:t,trailing:o})},kn.thru=ns,kn.toArray=ta,kn.toPairs=Aa,kn.toPairsIn=ka,kn.toPath=function(e){return Fs(e)?ft(e,Mo):Xs(e)?[e]:vi(So(aa(e)))},kn.toPlainObject=sa,kn.transform=function(e,t,n){var r=Fs(e),i=r||Ls(e)||Zs(e);if(t=Ji(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ws(e)&&$s(o)?jn(He(e)):{}}return(i?st:ur)(e,(function(e,r,i){return t(n,e,r,i)})),n},kn.unary=function(e){return ms(e,1)},kn.union=zo,kn.unionBy=Ho,kn.unionWith=Vo,kn.uniq=function(e){return e&&e.length?Zr(e):[]},kn.uniqBy=function(e,t){return e&&e.length?Zr(e,Ji(t,2)):[]},kn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},kn.unset=function(e,t){return null==e||Qr(e,t)},kn.unzip=Go,kn.unzipWith=Yo,kn.update=function(e,t,n){return null==e?e:ei(e,t,si(n))},kn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ei(e,t,si(n),r)},kn.values=ja,kn.valuesIn=function(e){return null==e?[]:Tt(e,_a(e))},kn.without=Ko,kn.words=$a,kn.wrap=function(e,t){return Ms(si(t),e)},kn.xor=Jo,kn.xorBy=Xo,kn.xorWith=Zo,kn.zip=Qo,kn.zipObject=function(e,t){return ii(e||[],t||[],Wn)},kn.zipObjectDeep=function(e,t){return ii(e||[],t||[],qr)},kn.zipWith=es,kn.entries=Aa,kn.entriesIn=ka,kn.extend=la,kn.extendWith=ca,Ja(kn,kn),kn.add=su,kn.attempt=qa,kn.camelCase=Ta,kn.capitalize=Da,kn.ceil=au,kn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==t&&(t=(t=oa(t))==t?t:0),Kn(oa(e),t,n)},kn.clone=function(e){return Jn(e,4)},kn.cloneDeep=function(e){return Jn(e,5)},kn.cloneDeepWith=function(e,t){return Jn(e,5,t="function"==typeof t?t:void 0)},kn.cloneWith=function(e,t){return Jn(e,4,t="function"==typeof t?t:void 0)},kn.conformsTo=function(e,t){return null==t||Xn(e,t,wa(t))},kn.deburr=Oa,kn.defaultTo=function(e,t){return null==e||e!=e?t:e},kn.divide=uu,kn.endsWith=function(e,t,n){e=aa(e),t=Xr(t);var r=e.length,i=n=void 0===n?r:Kn(ra(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},kn.eq=js,kn.escape=function(e){return(e=aa(e))&&R.test(e)?e.replace(I,It):e},kn.escapeRegExp=function(e){return(e=aa(e))&&V.test(e)?e.replace(H,"\\$&"):e},kn.every=function(e,t,n){var r=Fs(e)?ut:nr;return n&&ao(e,t,n)&&(t=void 0),r(e,Ji(t,3))},kn.find=os,kn.findIndex=Oo,kn.findKey=function(e,t){return yt(e,Ji(t,3),ur)},kn.findLast=ss,kn.findLastIndex=Fo,kn.findLastKey=function(e,t){return yt(e,Ji(t,3),lr)},kn.floor=lu,kn.forEach=as,kn.forEachRight=us,kn.forIn=function(e,t){return null==e?e:sr(e,Ji(t,3),_a)},kn.forInRight=function(e,t){return null==e?e:ar(e,Ji(t,3),_a)},kn.forOwn=function(e,t){return e&&ur(e,Ji(t,3))},kn.forOwnRight=function(e,t){return e&&lr(e,Ji(t,3))},kn.get=ga,kn.gt=Ts,kn.gte=Ds,kn.has=function(e,t){return null!=e&&ro(e,t,gr)},kn.hasIn=ma,kn.head=Po,kn.identity=Va,kn.includes=function(e,t,n,r){e=Ps(e)?e:ja(e),n=n&&!r?ra(n):0;var i=e.length;return n<0&&(n=sn(i+n,0)),Js(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&wt(e,t,n)>-1},kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=sn(r+i,0)),wt(e,t,i)},kn.inRange=function(e,t,n){return t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n){return e>=an(t,n)&&e<sn(t,n)}(e=oa(e),t,n)},kn.invoke=ba,kn.isArguments=Os,kn.isArray=Fs,kn.isArrayBuffer=Bs,kn.isArrayLike=Ps,kn.isArrayLikeObject=Is,kn.isBoolean=function(e){return!0===e||!1===e||zs(e)&&dr(e)==l},kn.isBuffer=Ls,kn.isDate=Rs,kn.isElement=function(e){return zs(e)&&1===e.nodeType&&!Gs(e)},kn.isEmpty=function(e){if(null==e)return!0;if(Ps(e)&&(Fs(e)||"string"==typeof e||"function"==typeof e.splice||Ls(e)||Zs(e)||Os(e)))return!e.length;var t=no(e);if(t==p||t==y)return!e.size;if(ho(e))return!Cr(e).length;for(var n in e)if(Ce.call(e,n))return!1;return!0},kn.isEqual=function(e,t){return wr(e,t)},kn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},kn.isError=Ns,kn.isFinite=function(e){return"number"==typeof e&&nn(e)},kn.isFunction=$s,kn.isInteger=qs,kn.isLength=Us,kn.isMap=Hs,kn.isMatch=function(e,t){return e===t||_r(e,t,Zi(t))},kn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,Zi(t),n)},kn.isNaN=function(e){return Vs(e)&&e!=+e},kn.isNative=function(e){if(co(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},kn.isNil=function(e){return null==e},kn.isNull=function(e){return null===e},kn.isNumber=Vs,kn.isObject=Ws,kn.isObjectLike=zs,kn.isPlainObject=Gs,kn.isRegExp=Ys,kn.isSafeInteger=function(e){return qs(e)&&e>=-9007199254740991&&e<=9007199254740991},kn.isSet=Ks,kn.isString=Js,kn.isSymbol=Xs,kn.isTypedArray=Zs,kn.isUndefined=function(e){return void 0===e},kn.isWeakMap=function(e){return zs(e)&&no(e)==_},kn.isWeakSet=function(e){return zs(e)&&"[object WeakSet]"==dr(e)},kn.join=function(e,t){return null==e?"":rn.call(e,t)},kn.kebabCase=Fa,kn.last=No,kn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ra(n))<0?sn(r+i,0):an(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,Et,i,!0)},kn.lowerCase=Ba,kn.lowerFirst=Pa,kn.lt=Qs,kn.lte=ea,kn.max=function(e){return e&&e.length?rr(e,Va,pr):void 0},kn.maxBy=function(e,t){return e&&e.length?rr(e,Ji(t,2),pr):void 0},kn.mean=function(e){return xt(e,Va)},kn.meanBy=function(e,t){return xt(e,Ji(t,2))},kn.min=function(e){return e&&e.length?rr(e,Va,Mr):void 0},kn.minBy=function(e,t){return e&&e.length?rr(e,Ji(t,2),Mr):void 0},kn.stubArray=iu,kn.stubFalse=ou,kn.stubObject=function(){return{}},kn.stubString=function(){return""},kn.stubTrue=function(){return!0},kn.multiply=hu,kn.nth=function(e,t){return e&&e.length?Dr(e,ra(t)):void 0},kn.noConflict=function(){return Ve._===this&&(Ve._=je),this},kn.noop=Xa,kn.now=gs,kn.pad=function(e,t,n){e=aa(e);var r=(t=ra(t))?zt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Oi(Qt(i),n)+e+Oi(Zt(i),n)},kn.padEnd=function(e,t,n){e=aa(e);var r=(t=ra(t))?zt(e):0;return t&&r<t?e+Oi(t-r,n):e},kn.padStart=function(e,t,n){e=aa(e);var r=(t=ra(t))?zt(e):0;return t&&r<t?Oi(t-r,n)+e:e},kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(aa(e).replace(Y,""),t||0)},kn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ao(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=na(e),void 0===t?(t=e,e=0):t=na(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return an(e+i*(t-e+Ue("1e-"+((i+"").length-1))),t)}return Ir(e,t)},kn.reduce=function(e,t,n){var r=Fs(e)?pt:Mt,i=arguments.length<3;return r(e,Ji(t,4),n,i,er)},kn.reduceRight=function(e,t,n){var r=Fs(e)?gt:Mt,i=arguments.length<3;return r(e,Ji(t,4),n,i,tr)},kn.repeat=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ra(t),Lr(aa(e),t)},kn.replace=function(){var e=arguments,t=aa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},kn.result=function(e,t,n){var r=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Mo(t[r])];void 0===o&&(r=i,o=n),e=$s(o)?o.call(e):o}return e},kn.round=fu,kn.runInContext=e,kn.sample=function(e){return(Fs(e)?Nn:Nr)(e)},kn.size=function(e){if(null==e)return 0;if(Ps(e))return Js(e)?zt(e):e.length;var t=no(e);return t==p||t==y?e.size:Cr(e).length},kn.snakeCase=Ia,kn.some=function(e,t,n){var r=Fs(e)?mt:Vr;return n&&ao(e,t,n)&&(t=void 0),r(e,Ji(t,3))},kn.sortedIndex=function(e,t){return Gr(e,t)},kn.sortedIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2))},kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Gr(e,t);if(r<n&&js(e[r],t))return r}return-1},kn.sortedLastIndex=function(e,t){return Gr(e,t,!0)},kn.sortedLastIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2),!0)},kn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Gr(e,t,!0)-1;if(js(e[n],t))return n}return-1},kn.startCase=La,kn.startsWith=function(e,t,n){return e=aa(e),n=null==n?0:Kn(ra(n),0,e.length),t=Xr(t),e.slice(n,n+t.length)==t},kn.subtract=du,kn.sum=function(e){return e&&e.length?At(e,Va):0},kn.sumBy=function(e,t){return e&&e.length?At(e,Ji(t,2)):0},kn.template=function(e,t,n){var r=kn.templateSettings;n&&ao(e,t,n)&&(t=void 0),e=aa(e),t=ca({},t,r,$i);var i,o,s=ca({},t.imports,r.imports,$i),a=wa(s),u=Tt(s,a),l=0,c=t.interpolate||le,h="__p += '",f=me((t.escape||le).source+"|"+c.source+"|"+(c===q?te:le).source+"|"+(t.evaluate||le).source+"|$","g"),d="//# sourceURL="+(Ce.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Re+"]")+"\n";e.replace(f,(function(t,n,r,s,a,u){return r||(r=s),h+=e.slice(l,u).replace(ce,Lt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var p=Ce.call(t,"variable")&&t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(O,""):h).replace(F,"$1").replace(B,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=qa((function(){return de(a,d+"return "+h).apply(void 0,u)}));if(g.source=h,Ns(g))throw g;return g},kn.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=kt(r,t=Ji(t));++n<e;)t(n);return i},kn.toFinite=na,kn.toInteger=ra,kn.toLength=ia,kn.toLower=function(e){return aa(e).toLowerCase()},kn.toNumber=oa,kn.toSafeInteger=function(e){return e?Kn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},kn.toString=aa,kn.toUpper=function(e){return aa(e).toUpperCase()},kn.trim=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Xr(t)))return e;var r=Ht(e),i=Ht(t);return li(r,Ot(r,i),Ft(r,i)+1).join("")},kn.trimEnd=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Xr(t)))return e;var r=Ht(e);return li(r,0,Ft(r,Ht(t))+1).join("")},kn.trimStart=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Xr(t)))return e;var r=Ht(e);return li(r,Ot(r,Ht(t))).join("")},kn.truncate=function(e,t){var n=30,r="...";if(Ws(t)){var i="separator"in t?t.separator:i;n="length"in t?ra(t.length):n,r="omission"in t?Xr(t.omission):r}var o=(e=aa(e)).length;if(Rt(e)){var s=Ht(e);o=s.length}if(n>=o)return e;var a=n-zt(r);if(a<1)return r;var u=s?li(s,0,a).join(""):e.slice(0,a);if(void 0===i)return u+r;if(s&&(a+=u.length-a),Ys(i)){if(e.slice(a).search(i)){var l,c=u;for(i.global||(i=me(i.source,aa(ne.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,void 0===h?a:h)}}else if(e.indexOf(Xr(i),a)!=a){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},kn.unescape=function(e){return(e=aa(e))&&L.test(e)?e.replace(P,Vt):e},kn.uniqueId=function(e){var t=++Se;return aa(e)+t},kn.upperCase=Ra,kn.upperFirst=Na,kn.each=as,kn.eachRight=us,kn.first=Po,Ja(kn,(cu={},ur(kn,(function(e,t){Ce.call(kn.prototype,t)||(cu[t]=e)})),cu),{chain:!1}),kn.VERSION="4.17.19",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){kn[e].placeholder=kn})),st(["drop","take"],(function(e,t){On.prototype[e]=function(n){n=void 0===n?1:sn(ra(n),0);var r=this.__filtered__&&!t?new On(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},On.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;On.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");On.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");On.prototype[e]=function(){return this.__filtered__?new On(this):this[n](1)}})),On.prototype.compact=function(){return this.filter(Va)},On.prototype.find=function(e){return this.filter(e).head()},On.prototype.findLast=function(e){return this.reverse().find(e)},On.prototype.invokeMap=Rr((function(e,t){return"function"==typeof e?new On(this):this.map((function(n){return yr(n,e,t)}))})),On.prototype.reject=function(e){return this.filter(Cs(Ji(e)))},On.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new On(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},On.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},ur(On.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=kn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(kn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof On,u=s[0],l=a||Fs(t),c=function(e){var t=i.apply(kn,dt([e],s));return r&&h?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(a=l=!1);var h=this.__chain__,f=!!this.__actions__.length,d=o&&!h,p=a&&!f;if(!o&&l){t=p?t:new On(this);var g=e.apply(t,s);return g.__actions__.push({func:ns,args:[c],thisArg:void 0}),new Dn(g,h)}return d&&p?e.apply(this,s):(g=this.thru(c),d?r?g.value()[0]:g.value():g)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Fs(i)?i:[],e)}return this[n]((function(n){return t.apply(Fs(n)?n:[],e)}))}})),ur(On.prototype,(function(e,t){var n=kn[t];if(n){var r=n.name+"";Ce.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var e=new On(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},On.prototype.reverse=function(){if(this.__filtered__){var e=new On(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},On.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Fs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=an(t,e+s);break;case"takeRight":e=sn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=an(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ni(e,this.__actions__);var p=[];e:for(;u--&&f<d;){for(var g=-1,m=e[l+=t];++g<h;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[f++]=m}return p},kn.prototype.at=rs,kn.prototype.chain=function(){return ts(this)},kn.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},kn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ta(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},kn.prototype.plant=function(e){for(var t,n=this;n instanceof Tn;){var r=ko(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},kn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof On){var t=e;return this.__actions__.length&&(t=new On(this)),(t=t.reverse()).__actions__.push({func:ns,args:[Wo],thisArg:void 0}),new Dn(t,this.__chain__)}return this.thru(Wo)},kn.prototype.toJSON=kn.prototype.valueOf=kn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},kn.prototype.first=kn.prototype.head,vt&&(kn.prototype[vt]=function(){return this}),kn}();Ve._=Gt,void 0===(r=function(){return Gt}.call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n(62)(e))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const a=o(n(1)),u=n(127),l=n(5);t.activate=function(e){var t;return s(this,void 0,void 0,(function*(){const n=a.extensions.getExtension(l.EXT_ID),r=a.workspace.getConfiguration(l.EXT_NAME),i=l.getNeovimPath();if(!i)return void a.window.showErrorMessage("Neovim: configure the path to neovim and restart the editor");const o=r.get("highlightGroups.ignoreHighlights"),s=r.get("highlightGroups.highlights"),c=r.get("highlightGroups.unknownHighlight"),h=r.get("mouseSelectionStartVisualMode",!1),f=r.get("useCtrlKeysForNormalMode",!0),d=r.get("useCtrlKeysForInsertMode",!0),p=r.get("useWSL",!1),g=r.get("revealCursorScrollLine",!1),m=r.get("neovimWidth",1e3),v=null!==(t=l.getNeovimInitPath())&&void 0!==t?t:"",y=r.get("logPath",""),b=r.get("logLevel","none"),w=r.get("logOutputToConsole",!1),_=r.get("textDecorationsAtTop",!1);a.commands.executeCommand("setContext","neovim.ctrlKeysNormal",f),a.commands.executeCommand("setContext","neovim.ctrlKeysInsert",d);try{const t=new u.MainController({customInitFile:v,extensionPath:e.extensionPath,highlightsConfiguration:{highlights:s,ignoreHighlights:o,unknownHighlight:c},mouseSelection:h,neovimPath:i,neovimViewportHeight:201,useWsl:n.extensionKind!==a.ExtensionKind.Workspace&&p,neovimViewportWidth:m,textDecorationsAtTop:_,revealCursorScrollLine:g,logConf:{logPath:y,outputToConsole:w,level:b}});e.subscriptions.push(t),yield t.init()}catch(e){a.window.showErrorMessage("Unable to init vscode-neovim: "+e.message)}}))},t.deactivate=function(){}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MainController=void 0;const o=n(128),s=i(n(35)),a=i(n(1)),u=n(129),l=n(75),c=n(252),h=n(253),f=n(254),d=n(255),p=n(256),g=n(257),m=n(258),v=n(260),y=n(263),b=n(265),w=n(267),_=n(5),E=n(268),x="MainController";t.MainController=class{constructor(e){if(this.NEOVIM_WIN_HEIGHT=201,this.NEOVIM_WIN_WIDTH=1e3,this.disposables=[],this.currentRedrawBatch=[],this.onNeovimNotification=(e,t)=>{const n=[this.modeManager,this.bufferManager,this.cursorManager,this.commandLineManager,this.statusLineManager,this.highlightManager,this.multilineMessagesManager],i=[this.modeManager,this.changeManager,this.commandsController,this.bufferManager,this.highlightManager,this.cursorManager],o=[this.customCommandsManager],s=[this.cursorManager];if("vscode-command"===e){const[e,n]=t;return void o.forEach(t=>r(this,void 0,void 0,(function*(){try{yield t.handleVSCodeCommand(e,Array.isArray(n)?n:[n])}catch(t){this.logger.error(`${e} failed, args: ${JSON.stringify(n)} error: ${t.message}`)}})))}if("vscode-range-command"===e){const[e,n,r,i,o,a,u]=t;return void s.forEach(t=>{try{t.handleVSCodeRangeCommand(e,n,r,i,o,!!a,Array.isArray(u)?u:[u])}catch(t){this.logger.error(`${e} failed, range: [${n}, ${r}, ${i}, ${o}] args: ${JSON.stringify(u)} error: ${t.message}`)}})}if("vscode-neovim"===e){const[e,n]=t;return void i.forEach(t=>{try{t.handleExtensionRequest(e,n)}catch(t){this.logger.error(`${e} failed, args: ${JSON.stringify(n)} error: ${t.message}`)}})}if("redraw"!==e)return;const a=t;if(_.findLastEvent("flush",t)){const e=[...this.currentRedrawBatch.splice(0),...a];n.forEach(t=>t.handleRedrawBatch(e))}else this.currentRedrawBatch.push(...a)},this.handleCustomRequest=(e,t,n)=>r(this,void 0,void 0,(function*(){const r=[this.modeManager,this.changeManager,this.commandsController,this.bufferManager,this.highlightManager,this.cursorManager],i=[this.customCommandsManager],o=[this.cursorManager];try{let s;if("vscode-command"===e){const[e,n]=t;s=(yield Promise.all(i.map(t=>t.handleVSCodeCommand(e,Array.isArray(n)?n:[n])))).find(e=>null!=e)}else if("vscode-range-command"===e){const[e,n,r,i,a,u,l]=t;s=(yield Promise.all(o.map(t=>t.handleVSCodeRangeCommand(e,n,r,i,a,!!u,Array.isArray(l)?l:[l])))).find(e=>null!=e)}else if("vscode-neovim"===e){const[e,n]=t;s=(yield Promise.all(r.map(t=>t.handleExtensionRequest(e,n)))).find(e=>null!=e)}n.send(s||"",!1)}catch(e){n.send(e.message,!0)}})),this.settings=e,this.NEOVIM_WIN_HEIGHT=e.neovimViewportHeight,this.NEOVIM_WIN_WIDTH=e.neovimViewportWidth,!e.neovimPath)throw new Error("Neovim path is not defined");this.logger=new g.Logger(g.LogLevel[e.logConf.level],e.logConf.logPath,e.logConf.outputToConsole),this.disposables.push(this.logger);const t=s.default.join(e.extensionPath,"vim","vscode-neovim.vim"),n=s.default.join(e.extensionPath,"vim","vscode-options.vim"),i=["-N","--embed","-c",e.useWsl?`source $(wslpath '${n}')`:"source "+n,"--cmd",e.useWsl?`source $(wslpath '${t}')`:"source "+t];e.useWsl&&i.unshift(e.neovimPath),1===parseInt(process.env.NEOVIM_DEBUG||"",10)&&i.push("-u","NONE","--listen",`${process.env.NEOVIM_DEBUG_HOST||"127.0.0.1"}:${process.env.NEOVIM_DEBUG_PORT||4e3}`),e.customInitFile&&i.push("-u",e.customInitFile),this.logger.debug(`${x}: Spawning nvim, path: ${e.neovimPath}, useWsl: ${e.useWsl}, args: ${JSON.stringify(i)}`),this.nvimProc=o.spawn(e.useWsl?"C:\\Windows\\system32\\wsl.exe":e.neovimPath,i,{}),this.nvimProc.on("close",e=>{this.logger.error(`${x}: Neovim exited with code: ${e}`)}),this.nvimProc.on("error",e=>{this.logger.error(`${x}: Neovim spawn error: ${e.message}`)}),this.logger.debug(x+": Attaching to neovim"),this.client=u.attach({proc:this.nvimProc,options:{logger:l.createLogger({transports:[new l.transports.Console],level:"error",exitOnError:!1})}})}init(){return r(this,void 0,void 0,(function*(){this.logger.debug(x+": Init"),this.logger.debug(x+": Attaching to neovim notifications"),this.client.on("disconnect",()=>{this.logger.error(x+": Neovim was disconnected")}),this.client.on("notification",this.onNeovimNotification),this.client.on("request",this.handleCustomRequest),yield this.client.setClientInfo("vscode-neovim",{major:0,minor:1,patch:0},"embedder",{},{}),yield this.checkNeovimVersion();const e=yield this.client.channelId;yield this.client.setVar("vscode_channel",e),this.commandsController=new c.CommandsController(this.client,this.settings.revealCursorScrollLine),this.disposables.push(this.commandsController),this.modeManager=new h.ModeManager(this.logger),this.disposables.push(this.modeManager),this.bufferManager=new f.BufferManager(this.logger,this.client,{neovimViewportHeight:201,neovimViewportWidth:1e3}),this.disposables.push(this.bufferManager),this.highlightManager=new b.HighlightManager(this.logger,this.bufferManager,{highlight:this.settings.highlightsConfiguration,viewportHeight:this.settings.neovimViewportHeight,textDecorationsAtTop:this.settings.textDecorationsAtTop}),this.disposables.push(this.highlightManager),this.changeManager=new m.DocumentChangeManager(this.logger,this.client,this.bufferManager,this.modeManager),this.disposables.push(this.changeManager),this.cursorManager=new p.CursorManager(this.logger,this.client,this.modeManager,this.bufferManager,this.changeManager,{mouseSelectionEnabled:!1}),this.disposables.push(this.cursorManager),this.typingManager=new d.TypingManager(this.logger,this.client,this.modeManager,this.changeManager),this.disposables.push(this.typingManager),this.commandLineManager=new v.CommandLineManager(this.logger,this.client),this.disposables.push(this.commandLineManager),this.statusLineManager=new y.StatusLineManager(this.logger,this.client),this.disposables.push(this.statusLineManager),this.customCommandsManager=new w.CustomCommandsManager(this.logger),this.disposables.push(this.customCommandsManager),this.multilineMessagesManager=new E.MutlilineMessagesManager(this.logger),this.disposables.push(this.multilineMessagesManager),this.logger.debug(x+": UIAttach"),yield this.client.uiAttach(this.NEOVIM_WIN_WIDTH,this.NEOVIM_WIN_HEIGHT,{rgb:!0,ext_cmdline:!0,ext_linegrid:!0,ext_hlstate:!0,ext_messages:!0,ext_multigrid:!0,ext_popupmenu:!0,ext_tabline:!0,ext_wildmenu:!0}),yield this.bufferManager.forceResync(),yield a.default.commands.executeCommand("setContext","neovim.init",!0),this.logger.debug(x+": Init completed")}))}dispose(){for(const e of this.disposables)e.dispose();this.client.quit()}checkNeovimVersion(){return r(this,void 0,void 0,(function*(){const[,e]=yield this.client.apiInfo;(0===e.version.major&&e.version.minor<5||!e.ui_events.find(e=>"win_viewport"===e.name))&&a.default.window.showErrorMessage("The extension requires neovim 0.5 nightly or greater")}))}}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(130);t.attach=r.attach;var i=n(238);t.Neovim=i.Neovim,t.NeovimClient=i.NeovimClient,t.Buffer=i.Buffer,t.Tabpage=i.Tabpage,t.Window=i.Window;var o=n(239);t.Plugin=o.Plugin,t.Function=o.Function,t.Autocmd=o.Autocmd,t.Command=o.Command;var s=n(68);t.NvimPlugin=s.NvimPlugin;var a=n(245);t.loadPlugin=a.loadPlugin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);t.attach=r.attach},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(132),i=n(69);t.attach=function({reader:e,writer:t,proc:o,socket:s,options:a={}}){let u,l;if(s){const e=r.createConnection(s);u=e,l=e}else e&&t?(u=t,l=e):o&&(u=o.stdin,l=o.stdout);if(u&&l){const e=a.logger||n(16).logger,t=new i.NeovimClient({logger:e});return t.attach({writer:u,reader:l}),t}throw new Error("Invalid arguments, could not attach")}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),i=n(134),o=n(21);class s{constructor(e,t){this.encoder=e,this.requestId=t}send(e,t){if(this.sent)throw new Error(`Response to id ${this.requestId} already sent`);const n=i.encode([1,this.requestId,t?e:null,t?null:e]);this.encoder.write(Buffer.from(n.buffer,n.byteOffset,n.byteLength)),this.sent=!0}}class a extends r.EventEmitter{constructor(){super(...arguments),this.pending=new Map,this.nextRequestId=1,this.extensionCodec=this.initializeExtensionCodec()}initializeExtensionCodec(){const e=new i.ExtensionCodec;return o.Metadata.forEach(({constructor:t},n)=>{e.register({type:n,encode:e=>e instanceof t?i.encode(e.data):null,decode:e=>new t({transport:this,client:this.client,data:i.decode(e)})})}),e}encodeToBuffer(e){const t=i.encode(e,{extensionCodec:this.extensionCodec});return Buffer.from(t.buffer,t.byteOffset,t.byteLength)}attach(e,t,n){this.writer=e,this.reader=t,this.client=n,this.reader.on("end",()=>{this.emit("detach")});const r=i.decodeStream(this.reader,{extensionCodec:this.extensionCodec}),o=e=>{e.next().then(t=>t.done?Promise.resolve():(this.parseMessage(t.value),o(e)))};o(r)}request(e,t,n){this.nextRequestId=this.nextRequestId+1,this.writer.write(this.encodeToBuffer([0,this.nextRequestId,e,t])),this.pending.set(this.nextRequestId,n)}notify(e,t){this.writer.write(this.encodeToBuffer([2,e,t]))}parseMessage(e){const t=e[0];if(0===t)this.emit("request",e[2].toString(),e[3],new s(this.writer,e[1]));else if(1===t){const t=e[1],n=this.pending.get(t);this.pending.delete(t),n(e[2],e[3])}else 2===t?this.emit("notification",e[1].toString(),e[2]):this.writer.write(this.encodeToBuffer([1,0,"Invalid message type",null]))}}t.Transport=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(135);Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return r.encode}});var i=n(74);Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return i.decode}});var o=n(138);Object.defineProperty(t,"decodeAsync",{enumerable:!0,get:function(){return o.decodeAsync}}),Object.defineProperty(t,"decodeArrayStream",{enumerable:!0,get:function(){return o.decodeArrayStream}}),Object.defineProperty(t,"decodeStream",{enumerable:!0,get:function(){return o.decodeStream}});var s=n(39);Object.defineProperty(t,"Decoder",{enumerable:!0,get:function(){return s.Decoder}});var a=n(70);Object.defineProperty(t,"Encoder",{enumerable:!0,get:function(){return a.Encoder}});var u=n(37);Object.defineProperty(t,"ExtensionCodec",{enumerable:!0,get:function(){return u.ExtensionCodec}});var l=n(71);Object.defineProperty(t,"ExtData",{enumerable:!0,get:function(){return l.ExtData}});var c=n(72);Object.defineProperty(t,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return c.EXT_TIMESTAMP}}),Object.defineProperty(t,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return c.encodeDateToTimeSpec}}),Object.defineProperty(t,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return c.encodeTimeSpecToTimestamp}}),Object.defineProperty(t,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return c.decodeTimestampToTimeSpec}}),Object.defineProperty(t,"encodeTimestampExtension",{enumerable:!0,get:function(){return c.encodeTimestampExtension}}),Object.defineProperty(t,"decodeTimestampExtension",{enumerable:!0,get:function(){return c.decodeTimestampExtension}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;const r=n(70),i={};t.encode=function(e,t=i){const n=new r.Encoder(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined);return n.encode(e,1),n.getUint8Array()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prettyByte=void 0,t.prettyByte=function(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CachedKeyDecoder=void 0;const r=n(36);t.CachedKeyDecoder=class{constructor(e=16,t=16){this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}get(e,t,n){const r=this.caches[n-1],i=r.length;e:for(let o=0;o<i;o++){const i=r[o],s=i.bytes;for(let r=0;r<n;r++)if(s[r]!==e[t+r])continue e;return i.value}return null}store(e,t){const n=this.caches[e.length-1],r={bytes:e,value:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(e,t,n){const i=this.get(e,t,n);if(null!=i)return i;const o=r.utf8DecodeJs(e,t,n),s=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(s,o),o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeStream=t.decodeArrayStream=t.decodeAsync=void 0;const r=n(39),i=n(74),o=n(139);t.decodeAsync=async function(e,t=i.defaultDecodeOptions){const n=o.ensureAsyncIterabe(e);return new r.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeSingleAsync(n)},t.decodeArrayStream=function(e,t=i.defaultDecodeOptions){const n=o.ensureAsyncIterabe(e);return new r.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(n)},t.decodeStream=function(e,t=i.defaultDecodeOptions){const n=o.ensureAsyncIterabe(e);return new r.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(n)}},function(e,t,n){"use strict";function r(e){return null!=e[Symbol.asyncIterator]}function i(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}async function*o(e){const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)return;i(n),yield n}}finally{t.releaseLock()}}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureAsyncIterabe=t.asyncIterableFromStream=t.isAsyncIterable=void 0,t.isAsyncIterable=r,t.asyncIterableFromStream=o,t.ensureAsyncIterabe=function(e){return r(e)?e:o(e)}},function(e,t,n){var r={};e.exports=r,r.themes={};var i=n(2),o=r.styles=n(141),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);r.supportsColor=n(142).supportsColor,void 0===r.enabled&&(r.enabled=!1!==r.supportsColor()),r.enable=function(){r.enabled=!0},r.disable=function(){r.enabled=!1},r.stripColors=r.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};r.stylize=function(e,t){if(!r.enabled)return e+"";var n=o[t];return!n&&t in r?r[t](e):n.open+e+n.close};var u=/[|\\{}()[\]^$+*?.]/g;function l(e){var t=function e(){return d.apply(e,arguments)};return t._styles=e,t.__proto__=f,t}var c,h=(c={},o.grey=o.gray,Object.keys(o).forEach((function(e){o[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(u,"\\$&")}(o[e].close),"g"),c[e]={get:function(){return l(this._styles.concat(e))}}})),c),f=s((function(){}),h);function d(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return null!=e&&e.constructor===String?e:i.inspect(e)})).join(" ");if(!r.enabled||!t)return t;for(var n=-1!=t.indexOf("\n"),s=this._styles,u=s.length;u--;){var l=o[s[u]];t=l.open+t.replace(l.closeRe,l.open)+l.close,n&&(t=t.replace(a,(function(e){return l.close+e+l.open})))}return t}r.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){r[t]=function(n){if("object"==typeof e[t]){var i=n;for(var o in e[t])i=r[e[t][o]](i);return i}return r[e[t]](n)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var p=function(e,t){var n=t.split("");return(n=n.map(e)).join("")};for(var g in r.trap=n(144),r.zalgo=n(145),r.maps={},r.maps.america=n(146)(r),r.maps.zebra=n(147)(r),r.maps.rainbow=n(148)(r),r.maps.random=n(149)(r),r.maps)!function(e){r[e]=function(t){return p(r.maps[e],t)}}(g);s(r,function(){var e={};return Object.keys(h).forEach((function(t){e[t]={get:function(){return l([t])}}})),e}())},function(e,t){var n={};e.exports=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(e){var t=r[e],i=n[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"}))},function(e,t,n){"use strict";var r=n(9),i=n(143),o=process.env,s=void 0;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;var t=s?1:0;if("win32"===process.platform){var n=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in o}))||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in o){var a=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=(t=t||process.argv).indexOf("--"),r=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(r+e);return-1!==i&&(-1===n||i<n)}},function(e,t){e.exports=function(e,t){var n="";e=(e=e||"Run the trap, drop the bass").split("");var r={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach((function(e){e=e.toLowerCase();var t=r[e]||[" "],i=Math.floor(Math.random()*t.length);n+=void 0!==r[e]?r[e][i]:e})),n}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var n={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},r=[].concat(n.up,n.down,n.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return r.filter((function(n){t=n===e})),t}return function(e,t){var r,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],r={up:0,down:0,mid:0},t.size){case"mini":r.up=i(8),r.mid=i(2),r.down=i(8);break;case"maxi":r.up=i(16)+3,r.mid=i(4)+1,r.down=i(64)+3;break;default:r.up=i(8)+1,r.mid=i(6)/2,r.down=i(8)+1}var u=["up","mid","down"];for(var l in u)for(var c=u[l],h=0;h<=r[c];h++)t[c]&&(a+=n[c][i(n[c].length)])}return a}(e,t)}},function(e,t){e.exports=function(e){return function(t,n,r){if(" "===t)return t;switch(n%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e.exports=function(e){return function(t,n,r){return n%2==0?t:e.inverse(t)}}},function(e,t){e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(n,r,i){return" "===n?n:e[t[r++%t.length]](n)}}},function(e,t){e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,r,i){return" "===n?n:e[t[Math.round(Math.random()*(t.length-2))]](n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"cli",{value:n(151)}),Object.defineProperty(t,"npm",{value:n(152)}),Object.defineProperty(t,"syslog",{value:n(153)})},function(e,t,n){"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,t,n){"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,t,n){"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,t,n){var r={"./align.js":76,"./browser.js":155,"./cli.js":77,"./colorize.js":22,"./combine.js":78,"./dist/align.js":43,"./dist/browser.js":89,"./dist/cli.js":44,"./dist/colorize.js":17,"./dist/combine.js":45,"./dist/errors.js":90,"./dist/format.js":3,"./dist/index.js":91,"./dist/json.js":46,"./dist/label.js":47,"./dist/levels.js":24,"./dist/logstash.js":48,"./dist/metadata.js":49,"./dist/ms.js":92,"./dist/pad-levels.js":25,"./dist/pretty-print.js":50,"./dist/printf.js":51,"./dist/simple.js":52,"./dist/splat.js":53,"./dist/timestamp.js":54,"./dist/uncolorize.js":55,"./errors.js":157,"./examples/combine.js":158,"./examples/filter.js":159,"./examples/invalid.js":160,"./examples/metadata.js":161,"./examples/padLevels.js":162,"./examples/volume.js":163,"./format.js":4,"./index.js":6,"./json.js":42,"./label.js":79,"./levels.js":40,"./logstash.js":80,"./metadata.js":81,"./ms.js":164,"./pad-levels.js":41,"./pretty-print.js":82,"./printf.js":83,"./simple.js":84,"./splat.js":85,"./timestamp.js":86,"./uncolorize.js":88};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=154},function(e,t,n){"use strict";const r=t.format=n(4);t.levels=n(40),Object.defineProperty(r,"align",{value:n(76)}),Object.defineProperty(r,"cli",{value:n(77)}),Object.defineProperty(r,"combine",{value:n(78)}),Object.defineProperty(r,"colorize",{value:n(22)}),Object.defineProperty(r,"json",{value:n(42)}),Object.defineProperty(r,"label",{value:n(79)}),Object.defineProperty(r,"logstash",{value:n(80)}),Object.defineProperty(r,"metadata",{value:n(81)}),Object.defineProperty(r,"padLevels",{value:n(41)}),Object.defineProperty(r,"prettyPrint",{value:n(82)}),Object.defineProperty(r,"printf",{value:n(83)}),Object.defineProperty(r,"simple",{value:n(84)}),Object.defineProperty(r,"splat",{value:n(85)}),Object.defineProperty(r,"timestamp",{value:n(86)}),Object.defineProperty(r,"uncolorize",{value:n(88)})},function(e,t,n){var r={"./align.js":43,"./browser.js":89,"./cli.js":44,"./colorize.js":17,"./combine.js":45,"./errors.js":90,"./format.js":3,"./index.js":91,"./json.js":46,"./label.js":47,"./levels.js":24,"./logstash.js":48,"./metadata.js":49,"./ms.js":92,"./pad-levels.js":25,"./pretty-print.js":50,"./printf.js":51,"./simple.js":52,"./splat.js":53,"./timestamp.js":54,"./uncolorize.js":55};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=156},function(e,t,n){"use strict";const r=n(4),{LEVEL:i,MESSAGE:o}=n(0);e.exports=r((e,{stack:t})=>{if(e instanceof Error){const n=Object.assign({},e,{level:e.level,[i]:e[i]||e.level,message:e.message,[o]:e[o]||e.message});return t&&(n.stack=e.stack),n}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);const n=e.message;return e.message=n.message,e[o]=n.message,t&&(e.stack=n.stack),e})},function(e,t,n){const{format:r}=n(6),{combine:i,timestamp:o,label:s}=r,a=i(s({label:"right meow!"}),o()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},function(e,t,n){const{format:r}=n(6),{combine:i,timestamp:o,label:s}=r,a=r((e,t)=>!e.private&&e)();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const u=r.combine(r(e=>!1)(),r(e=>{throw new Error("Never reached")})());console.dir(u.transform({level:"info",message:"wow such testing"}))},function(e,t,n){const{format:r}=n(6);r((function(e,t,n,r){return e}))},function(e,t,n){const{format:r}=n(6),{combine:i,json:o,metadata:s,timestamp:a}=r,u=i(a(),s(),o()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(u);const l=i(a(),s({fillExcept:["message","level","timestamp"]}),o()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(l);const c=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(c);const h=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),s({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),s({fillExcept:["level","message","label","timestamp"]}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(h)},function(e,t,n){const{format:r}=n(6),{combine:i,padLevels:o,simple:s}=r,{MESSAGE:a}=n(0),u=i(o({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),s()),l=u.transform({level:"info",message:"This is an info level message."}),c=u.transform({level:"error",message:"This is an error level message."}),h=u.transform({level:"verbose",message:"This is a verbose level message."});console.dir(l[a]),console.dir(c[a]),console.dir(h[a])},function(e,t,n){const{format:r}=n(6),i=r((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e)),o=i({yell:!0});console.dir(o.transform({level:"info",message:"sorry for making you YELL in your head!"},o.options));const s=i({whisper:!0});console.dir(s.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},s.options))},function(e,t,n){"use strict";const r=n(4),i=n(93);e.exports=r(e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms="+"+i(this.diff),e})},function(e){e.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.2.1","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^2.6.1","diagnostics":"^1.1.1","is-stream":"^1.1.0","logform":"^2.1.1","one-time":"0.0.4","readable-stream":"^3.1.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.3.0"},"devDependencies":{"@babel/cli":"^7.2.3","@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@types/node":"^10.12.19","abstract-winston-transport":">= 0.5.1","assume":"^2.1.0","colors":"^1.3.3","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.3.3","mocha":"^5.2.0","nyc":"^13.1.0","rimraf":"^2.6.3","split2":"^3.1.0","std-mocks":"^1.0.1","through2":"^3.0.0","winston-compat":"^0.1.4"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(e,t,n){"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>n(167)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>n(173)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>n(228)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>n(231)})},function(e,t,n){"use strict";const r=n(9),{LEVEL:i,MESSAGE:o}=n(0),s=n(11);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||r.EOL,this.setMaxListeners(30)}log(e,t){return setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.error(e[o]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.warn(e[o]),void(t&&t())):(console._stdout?console._stdout.write(`${e[o]}${this.eol}`):console.log(e[o]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((e,n)=>{if("string"!=typeof n)throw new Error(t);return e[n]=!0,e},{})}}},function(e,t,n){var r=n(18),i=n(95);"disable"===process.env.READABLE_STREAM?e.exports=r&&r.Writable||i:e.exports=i},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var r=n(26);e.exports=y;var i,o=n(171);y.ReadableState=v;n(13).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(97),u=n(27).Buffer,l=global.Uint8Array||function(){};var c=Object.create(n(56));c.inherits=n(7);var h=n(2),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var d,p=n(172),g=n(98);c.inherits(y,a);var m=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(28));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(99).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||n(28),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}(e,s)):(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):C(e,s)):w(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),C(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return d||(d=n(99).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(x,e):x(e))}function x(e){f("emit readable"),e.emit("readable"),k(e)}function C(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(S,e,t))}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function M(e){f("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):E(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&T(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:y;function u(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",p),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){f("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",u);var c=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,k(e))}}(n);e.on("drain",c);var h=!1;var d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==O(i.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(t){f("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",v),y()}function v(){f("onfinish"),e.removeListener("close",m),y()}function y(){f("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",m),e.once("finish",v),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=O(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&E(this):r.nextTick(M,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(A,e,t))}(this,e)),this},y.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=j},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(27).Buffer,i=n(2);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";const r=n(57),i=n(35),o=n(174),s=n(203),{MESSAGE:a}=n(0),{Stream:u,PassThrough:l}=n(20),c=n(11),h=n(31)("winston:file"),f=n(9),d=n(226);e.exports=class extends c{constructor(e={}){function t(t,...n){n.slice(1).forEach(n=>{if(e[n])throw new Error(`Cannot set ${n} and ${t} together`)})}if(super(e),this.name=e.name||"file",this._stream=new l,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||f.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});if(this._rotate)return void this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,t)});const n=`${e[a]}${this.eol}`,r=Buffer.byteLength(n);this._pendingSize+=r,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(n,function(){this._size+=r,this._pendingSize-=r,h("logged %s %s",this._size,n),this.emit("logged",e),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(()=>this._rotateFile()))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),h("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until));e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from));return e.order=e.order||"desc",e.fields=e.fields,e}(e);const n=i.join(this.dirname,this.filename);let o="",s=[],a=0;const u=r.createReadStream(n,{encoding:"utf8"});function l(t,n){try{const n=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const n=new Date(t.timestamp);if(e.from&&n<e.from||e.until&&n>e.until||e.level&&e.level!==t.level)return;return!0})(n)&&function(t){if(e.rows&&s.length>=e.rows&&"desc"!==e.order)return void(u.readable&&u.destroy());e.fields&&(t=e.fields.reduce((e,n)=>(e[n]=t[n],e),{}));"desc"===e.order&&s.length>=e.rows&&s.shift();s.push(t)}(n)}catch(e){n||u.emit("error",e)}}u.on("error",e=>{if(u.readable&&u.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)}),u.on("data",t=>{const n=(t=(o+t).split(/\n+/)).length-1;let r=0;for(;r<n;r++)(!e.start||a>=e.start)&&l(t[r]),a++;o=t[n]}),u.on("close",()=>{o&&l(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)})}stream(e={}){const t=i.join(this.dirname,this.filename),n=new u,r={file:t,start:e.start};return n.destroy=d(r,(e,t)=>{if(e)return n.emit("error",e);try{n.emit("data",t),t=JSON.parse(t),n.emit("log",t)}catch(e){n.emit("error",e)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);h("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){const t=this._getFile(),n=i.join(this.dirname,t);r.stat(n,(r,i)=>r&&"ENOENT"===r.code?(h("ENOENTok",n),this.filename=t,e(null,0)):r?(h(`err ${r.code} ${n}`),e(r)):!i||this._needsNewFile(i.size)?this._incFile(()=>this.stat(e)):(this.filename=t,void e(null,i.size)))}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){const t=i.join(this.dirname,this.filename);h("create stream start",t,this.options);const n=r.createWriteStream(t,this.options).on("error",e=>h(e)).on("close",()=>h("close",n.path,n.bytesWritten)).on("open",()=>{h("file open ok",t),this.emit("open",t),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new l,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});if(h("create stream ok",t),this.zippedArchive){const e=s.createGzip();return e.pipe(n),e}return n}_incFile(e){h("_incFile",this.filename);const t=i.extname(this._basename),n=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,n,e):(this._created+=1,this._checkMaxFilesIncrementing(t,n,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created,r=!this.tailable&&this._created?`${t}${n}${e}`:`${t}${e}`;return this.zippedArchive&&!this.tailable?r+".gz":r}_checkMaxFilesIncrementing(e,t,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);const o=this._created-this.maxFiles,s=`${t}${0!==o?o:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,s);r.unlink(a,n)}_checkMaxFilesTailable(e,t,n){const s=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let n=this.maxFiles-1;n>1;n--)s.push(function(n,o){let s=`${t}${n-1}${e}${a}`;const u=i.join(this.dirname,s);r.exists(u,l=>{if(!l)return o(null);s=`${t}${n}${e}${a}`,r.rename(u,i.join(this.dirname,s),o)})}.bind(this,n));o(s,()=>{r.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),n)})}_createLogDirIfNotExist(e){r.existsSync(e)||r.mkdirSync(e,{recursive:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(i.default,e,t)};var r=o(n(175)),i=o(n(182));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){n=n||r.default;var a=(0,i.default)(t)?[]:{};e(t,(function(e,t,n){(0,s.default)(e)((function(e,r){arguments.length>2&&(r=(0,o.default)(arguments,1)),a[t]=r,n(e)}))}),(function(e){n(e,a)}))};var r=a(n(58)),i=a(n(29)),o=a(n(60)),s=a(n(30));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){var r=n(59),i=n(103);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(100),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)((function(t,n){var i;try{i=e.apply(this,t)}catch(e){return n(e)}(0,r.default)(i)&&"function"==typeof i.then?i.then((function(e){a(n,null,e)}),(function(e){a(n,e.message?e:new Error(e))})):n(null,i)}))};var r=s(n(103)),i=s(n(180)),o=s(n(181));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){try{e(t,n)}catch(e){(0,o.default)(u,e)}}function u(e){throw e}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,o.default)(arguments),n=t.pop();e.call(this,t,n)}};var r,i=n(60),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=l,t.wrap=c;var r,i=n(60),o=(r=i)&&r.__esModule?r:{default:r};var s,a=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,u=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function l(e){setTimeout(e,0)}function c(e){return function(t){var n=(0,o.default)(arguments,1);e((function(){t.apply(null,n)}))}}s=a?setImmediate:u?process.nextTick:l,t.default=c(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(105)),i=o(n(109));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(r.default,1),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,u){if(u=(0,i.default)(u||r.default),e<=0||!t)return u(null);var l=(0,o.default)(t),c=!1,h=0,f=!1;function d(e,t){if(h-=1,e)c=!0,u(e);else{if(t===a.default||c&&h<=0)return c=!0,u(null);f||p()}}function p(){for(f=!0;h<e&&!c;){var t=l();if(null===t)return c=!0,void(h<=0&&u(null));h+=1,n(t.value,t.key,(0,s.default)(d))}f=!1}p()}};var r=u(n(58)),i=u(n(106)),o=u(n(184)),s=u(n(107)),a=u(n(108));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):(n=e,s=(0,o.default)(n),a=-1,u=s.length,function(){var e=s[++a];return a<u?{value:n[e],key:e}:null});var n,s,a,u};var r=s(n(29)),i=s(n(185)),o=s(n(186));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},function(e,t,n){var r=n(187),i=n(199),o=n(29);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(188),i=n(189),o=n(191),s=n(192),a=n(194),u=n(195),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&s(e),f=!n&&!c&&!h&&u(e),d=n||c||h||f,p=d?r(e.length,String):[],g=p.length;for(var m in e)!t&&!l.call(e,m)||d&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||p.push(m);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(190),i=n(61),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(59),i=n(61);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(101),i=n(193),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;e.exports=u}).call(this,n(62)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(196),i=n(197),o=n(198),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(59),i=n(104),o=n(61),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(102),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(62)(e))},function(e,t,n){var r=n(200),i=n(201),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(202)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(19).Buffer,a=n(2).inspect,u=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,l;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),l&&o(t,l),e}()},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(19),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(63),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[f].read();null!==n&&(e[c]=null,e[s]=null,e[a]=null,t(d(n,!1)))}}function g(e){process.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[u]?n(e[u]):t(d(void 0,!0))}))}));var n,r=this[c];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(d(void 0,!0)):t[h](n,r)}),r)}}(r,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(d(i,!1));n=new Promise(this[h])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(d(void 0,!0))}))}))})),r),m);e.exports=function(e){var t,n=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[f].read();r?(n[c]=null,n[s]=null,n[a]=null,e(d(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[c]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[c]=null,n[s]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[s];null!==r&&(n[c]=null,n[s]=null,n[a]=null,r(d(void 0,!0))),n[l]=!0})),e.on("readable",g.bind(null,n)),n}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,u,"next",e)}function u(e){r(s,i,o,a,u,"throw",e)}a(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(8).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"==typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var u=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),l=!1;function c(){return h.apply(this,arguments)}function h(){return(h=i((function*(){try{var e=yield r.next(),t=e.value;e.done?u.push(null):u.push(yield t)?c():l=!1}catch(e){u.destroy(e)}}))).apply(this,arguments)}return u._read=function(){l||(l=!0,c())},u}},function(e,t,n){"use strict";e.exports=i;var r=n(116);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(7)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(8).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(63)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function l(e){e()}function c(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(l),o||(s.forEach(l),i(r))}))}));return t.reduce(c)}},function(e,t,n){"use strict";var r=n(211),i=n(219);e.exports=function(e,t){var n=e.split(t||":"),o=i(n[0]);if(!n.length)return o;for(var s=0,a=n.length-1;s<a;s++)o=r(o).mix(r(i(n[s+1]))).saturate(1).hex();return o}},function(e,t,n){"use strict";var r=n(212),i=n(216),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(i).forEach((function(e){a[o.call(i[e].labels).sort().join("")]=e}));var u={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in s&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,c;if(e)if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var h=r.get(e);if(null===h)throw new Error("Unable to parse color from string: "+e);this.model=h.model,c=i[this.model].channels,this.color=h.value.slice(0,c),this.valpha="number"==typeof h.value[c]?h.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var f=o.call(e,0,c);this.color=d(f,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var g=p.sort().join("");if(!(g in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[g];var m=i[this.model].labels,v=[];for(n=0;n<m.length;n++)v.push(e[m[n]]);this.color=d(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(u[e]||(u[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function h(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e){return Array.isArray(e)?e:[e]}function d(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,s=n.alpha()-r.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return l.rgb(a*n.red()+u*r.red(),a*n.green()+u*r.green(),a*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===s.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new l(f(i[this.model][e].raw(this.color)).concat(n),e)},l[e]=function(n){return"number"==typeof n&&(n=d(o.call(arguments),t)),new l(n,e)}}})),e.exports=l},function(e,t,n){var r=n(213),i=n(214),o={};for(var s in r)r.hasOwnProperty(s)&&(o[r[s]]=s);var a=e.exports={to:{},get:{}};function u(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),n="hsl";break;case"hwb":t=a.get.hwb(e),n="hwb";break;default:t=a.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;o[n]=parseInt(t.slice(s,s+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=r[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=u(o[n],0,255);return o[3]=u(o[3],0,1),o},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){"use strict";var r=n(215),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],n=0,s=e.length;n<s;n++){var a=e[n];r(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){var r=n(117),i=n(218),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(117);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),s=o.length,a=0;a<s;a++){var u=o[a],l=t[u];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(u))}return t}function o(e,t){return function(n){return t(e(n))}}function s(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],s=t[e].parent;t[s].parent;)n.unshift(t[s].parent),i=o(r[t[s].parent][s],i),s=t[s].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,a=0;a<o;a++){var u=r[a];null!==t[u].parent&&(n[u]=s(u,t))}return n}},function(e,t,n){"use strict";e.exports=function(e){for(var t=0,n=0;t<e.length;n=e.charCodeAt(t++)+((n<<5)-n));var r=Math.floor(Math.abs(1e4*Math.sin(n)%1*16777216)).toString(16);return"#"+Array(6-r.length+1).join("0")+r}},function(e,t,n){"use strict";var r=n(221);e.exports=function(e,t){var n,i=r(),o=0;for(t=t||["diagnostics","debug"];o<t.length&&!(n=i[t[o]]);o++);if(!n)return!1;for(t=n.split(/[\s,]+/),o=0;o<t.length;o++)if("-"!==(n=t[o].replace("*",".*?")).charAt(0)){if(new RegExp("^"+n+"$").test(e))return!0}else if(new RegExp("^"+n.substr(1)+"$").test(e))return!1;return!1}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){if(e=e||{},"object"==typeof process&&"object"==typeof process.env&&i.merge(e,process.env),"undefined"!=typeof window){"string"===window.name&&window.name.length&&i.merge(e,i.parse(window.name));try{window.localStorage&&i.merge(e,i.parse(window.localStorage.env||window.localStorage.debug))}catch(e){}"object"==typeof window.location&&"string"==typeof window.location.hash&&window.location.hash.length&&i.merge(e,i.parse("#"===window.location.hash.charAt(0)?window.location.hash.slice(1):window.location.hash))}var t,n;for(t in e)(n=t.toLowerCase())in e||(e[n]=e[t]);return e}i.merge=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},i.parse=function(e){var t,n=/([^=?&]+)=([^&]*)/g,r={};if(!e)return r;for(;t=n.exec(e);r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return r.env||r},e.exports=i},function(e,t,n){"use strict";var r=n(223);function i(e,t){return t?new i(e).style(t):this instanceof i?void(this.text=e):new i(e)}i.prototype.prefix="[",i.prototype.suffix="m",i.prototype.hex=function(e){3===(e="#"===e[0]?e.substring(1):e).length&&((e=e.split(""))[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),n=e.substring(2,4),r=e.substring(4,6);return[parseInt(t,16),parseInt(n,16),parseInt(r,16)]},i.prototype.rgb=function(e,t,n){var r=e/255*5,i=t/255*5,o=n/255*5;return this.ansi(r,i,o)},i.prototype.ansi=function(e,t,n){return 16+36*Math.round(e)+6*Math.round(t)+Math.round(n)},i.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},i.prototype.style=function(e){return/^#?(?:[0-9a-fA-F]{3}){1,2}$/.test(e)||(e=r(e)),this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()},e.exports=i},function(e,t,n){var r=n(224),i=r.filter((function(e){return!!e.css})),o=r.filter((function(e){return!!e.vga}));e.exports=function(t){var n=e.exports.get(t);return n&&n.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),r.filter((function(t){return t.name.toLowerCase()===e})).pop()},e.exports.all=e.exports.get.all=function(){return r},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter((function(t){return t.name.toLowerCase()===e})).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),o.filter((function(t){return t.name.toLowerCase()===e})).pop()):o}},function(e,t){e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(57),{StringDecoder:i}=n(227),{Stream:o}=n(20);function s(){}e.exports=(e,t)=>{const n=Buffer.alloc(65536),a=new i("utf8"),u=new o;let l="",c=0,h=0;return-1===e.start&&delete e.start,u.readable=!0,u.destroy=()=>{u.destroyed=!0,u.emit("end"),u.emit("close")},r.open(e.file,"a+","0644",(i,o)=>{if(i)return t?t(i):u.emit("error",i),void u.destroy();!function i(){if(!u.destroyed)return r.read(o,n,0,n.length,c,(r,o)=>{if(r)return t?t(r):u.emit("error",r),void u.destroy();if(!o)return l&&((null==e.start||h>e.start)&&(t?t(null,l):u.emit("line",l)),h++,l=""),setTimeout(i,1e3);let s=a.write(n.slice(0,o));t||u.emit("data",s),s=(l+s).split(/\n+/);const f=s.length-1;let d=0;for(;d<f;d++)(null==e.start||h>e.start)&&(t?t(null,s[d]):u.emit("line",s[d])),h++;return l=s[f],c+=o,i()});r.close(o,s)}()}),t?u.destroy:u}},function(e,t){e.exports=require("string_decoder")},function(e,t,n){"use strict";const r=n(229),i=n(230),{Stream:o}=n(20),s=n(11);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,(t,n)=>{n&&200!==n.statusCode&&(t=new Error("Invalid HTTP Status Code: "+n.statusCode)),t?this.emit("warn",t):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(e,n,r)=>{if(n&&200!==n.statusCode&&(e=new Error("Invalid HTTP Status Code: "+n.statusCode)),e)return t(e);if("string"==typeof r)try{r=JSON.parse(r)}catch(e){return t(e)}t(null,r)})}stream(e={}){const t=new o;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let n="";const r=this._request(e);return t.destroy=()=>r.destroy(),r.on("data",e=>{const r=(e=(n+e).split(/\n+/)).length-1;let i=0;for(;i<r;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}n=e[r]}),r.on("error",e=>t.emit("error",e)),t}_request(e,t){const n=(e=e||{}).auth||this.auth,o=e.path||this.path||"";delete e.auth,delete e.path;const s=(this.ssl?i:r).request({method:"POST",host:this.host,port:this.port,path:"/"+o.replace(/^\//,""),headers:this.headers,auth:n?`${n.username}:${n.password}`:"",agent:this.agent});s.on("error",t),s.on("response",e=>e.on("end",()=>t(null,e)).resume()),s.end(Buffer.from(JSON.stringify(e),"utf8"))}}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";const r=n(118),{MESSAGE:i}=n(0),o=n(9),s=n(11);e.exports=class extends s{constructor(e={}){if(super(e),!e.stream||!r(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||o.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},function(e,t,n){"use strict";const{Stream:r,Transform:i}=n(20),o=n(65),{LEVEL:s,SPLAT:a}=n(0),u=n(118),l=n(120),c=n(124),h=n(235),f=n(236),{warn:d}=n(94),p=n(64),g=/%[scdjifoO%]/g;class m extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(n){const r=Object.assign({},e,n);n instanceof Error&&(r.stack=n.stack,r.message=n.message),t.write(r)}}})}configure({silent:e,format:t,defaultMeta:r,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:u,emitErrs:h,formatters:f,padLevels:d,rewriters:g,stripColors:m,exceptionHandlers:v,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||n(42)(),this.defaultMeta=r||null,this.levels=i||this.levels||p.npm.levels,this.level=o,this.exceptions=new l(this),this.rejections=new c(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a]).forEach(e=>this.add(e)),u||h||f||d||g||m)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));v&&this.exceptions.handle(v),y&&this.rejections.handle(y)}isLevelEnabled(e){const t=v(this.levels,e);if(null===t)return!1;const n=v(this.levels,this.level);if(null===n)return!1;if(!this.transports||0===this.transports.length)return n>=t;return-1!==this.transports.findIndex(e=>{let r=v(this.levels,e.level);return null===r&&(r=n),r>=t})}log(e,t,...n){if(1===arguments.length)return e[s]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[s]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(this.write({[s]:e,level:e,message:t}),this);const[r]=n;if("object"==typeof r&&null!==r){if(!(t&&t.match&&t.match(g))){const i=Object.assign({},this.defaultMeta,r,{[s]:e,[a]:n,level:e,message:t});return r.message&&(i.message+=""+r.message),r.stack&&(i.stack=r.stack),this.write(i),this}}return this.write(Object.assign({},this.defaultMeta,{[s]:e,[a]:n,level:e,message:t})),this}_transform(e,t,n){if(this.silent)return n();e[s]||(e[s]=e.level),this.levels[e[s]]||0===this.levels[e[s]]||console.error("[winston] Unknown logger level: %s",e[s]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{n()}}_final(e){const t=this.transports.slice();o(t,(e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}add(e){const t=!u(e)||e.log.length>2?new h({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){let t=e;return(!u(e)||e.log.length>2)&&(t=this.transports.filter(t=>t.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){d.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const n={},r=Object.assign({},e.query||{});o(this.transports.filter(e=>!!e.query),(function(t,i){!function(t,n){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(r)),t.query(e,(r,i)=>{if(r)return n(r);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),n(null,i)})}(t,(e,r)=>{i&&((r=e||r)&&(n[t.name]=r),i()),i=null})}),()=>t(null,n))}stream(e={}){const t=new r,n=[];return t._streams=n,t.destroy=()=>{let e=n.length;for(;e--;)n[e].destroy()},this.transports.filter(e=>!!e.stream).forEach(r=>{const i=r.stream(e);i&&(n.push(i),i.on("log",e=>{e.transport=e.transport||[],e.transport.push(r.name),t.emit("log",e)}),i.on("error",e=>{e.transport=e.transport||[],e.transport.push(r.name),t.emit("error",e)}))}),t}startTimer(){return new f(this)}profile(e,...t){const n=Date.now();if(this.profilers[e]){const r=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=n-r,i.message=i.message||e,this.write(i)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(n){this.emit(e,n,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function v(e,t){const n=e[t];return n||0===n?n:null}Object.defineProperty(m.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){((0,r.default)(e)?f:d)(e,(0,c.default)(t),n)};var r=h(n(29)),i=h(n(108)),o=h(n(105)),s=h(n(109)),a=h(n(58)),u=h(n(106)),l=h(n(107)),c=h(n(30));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){n=(0,u.default)(n||a.default);var r=0,o=0,s=e.length;function c(e,t){e?n(e):++o!==s&&t!==i.default||n(null)}for(0===s&&n(null);r<s;r++)t(e[r],r,(0,l.default)(c))}var d=(0,s.default)(o.default,1/0);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){return e(t,r)}},e.exports=t.default},function(e,t,n){"use strict";const r=n(2),{LEVEL:i}=n(0),o=n(11),s=e.exports=function(e={}){if(o.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};r.inherits(s,o),s.prototype._write=function(e,t,n){if(this.silent||!0===e.exception&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),n(null)},s.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},s.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},s.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,t,n){"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},function(e,t,n){"use strict";const r=n(119);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const n=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=n?n.slice():[];const i=r(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((e,t)=>this._removeLogger(t))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);t.Neovim=r.Neovim;var i=n(69);t.NeovimClient=i.NeovimClient;var o=n(14);t.Buffer=o.Buffer;var s=n(32);t.Window=s.Window;var a=n(33);t.Tabpage=a.Tabpage},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(240);t.Plugin=r.Plugin,t.Function=r.Function,t.Autocmd=r.Autocmd,t.Command=r.Command},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(241);t.Plugin=r.plugin;var i=n(242);t.Function=i.nvimFunction;var o=n(243);t.Autocmd=o.autocmd;var s=n(244);t.Command=s.command},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(34),o=n(67);t.Neovim=o.Neovim;const s=n(68);function a(e,t){return r.logger.info("Decorating class "+e),class extends e{constructor(...n){const o=n[0];super(o.nvim,o),this.setApi(o.nvim),t&&o.setOptions(t),Object.getOwnPropertyNames(e.prototype).forEach(t=>{r.logger.info("Method name "+t),r.logger.info(`${e.prototype[t]} ${typeof e.prototype[t]}`),r.logger.info(`${this} ${typeof this}`);const n=e.prototype[t];if(n&&n[i.NVIM_SPEC]){const e=n[i.NVIM_SPEC];switch(e.type){case"autocmd":const t={pattern:e.opts.pattern,sync:e.sync};void 0!==e.opts.eval&&(t.eval=e.opts.eval),o.registerAutocmd(e.name,[this,n],t);break;case"command":const r={sync:e.sync};void 0!==e.opts.range&&(r.range=e.opts.range),void 0!==e.opts.nargs&&(r.nargs=e.opts.nargs),void 0!==e.opts.complete&&(r.complete=e.opts.complete),o.registerCommand(e.name,[this,n],r);break;case"function":const i={sync:e.sync};void 0!==e.opts.range&&(i.range=e.opts.range),void 0!==e.opts.eval&&(i.eval=e.opts.eval),o.registerFunction(e.name,[this,n],i)}}})}setApi(e){this.nvim=e}}}t.NvimPlugin=s.NvimPlugin,t.plugin=function(e){return"function"!=typeof e?t=>a(t,e):a(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34);t.nvimFunction=function(e,t={}){return function(n,i){const o=t&&!!t.sync,s="string"==typeof i,a=s?n[i]:n,u={};return t&&t.range&&(u.range=t.range),t&&t.eval&&(u.eval=t.eval),Object.defineProperty(a,r.NVIM_METHOD_NAME,{value:"function:"+e}),Object.defineProperty(a,r.NVIM_SYNC,{value:!!o}),Object.defineProperty(a,r.NVIM_SPEC,{value:{type:"function",name:e,sync:!!o,opts:u}}),s&&(n[i]=a),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34);t.autocmd=function(e,t){return function(n,i){const o=t&&!!t.sync,s="string"==typeof i,a=s?n[i]:n,u={pattern:""};["pattern","eval"].forEach(e=>{t&&void 0!==t[e]&&(u[e]=t[e])});const l=`${e}${t.pattern?":"+t.pattern:""}`;return Object.defineProperty(a,r.NVIM_METHOD_NAME,{value:"autocmd:"+l}),Object.defineProperty(a,r.NVIM_SYNC,{value:!!o}),Object.defineProperty(a,r.NVIM_SPEC,{value:{type:"autocmd",name:e,sync:!!o,opts:u}}),s&&(n[i]=a),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34);t.command=function(e,t){return function(n,i){const o=t&&!!t.sync,s="string"==typeof i,a=s?n[i]:n,u={};return["range","nargs","complete"].forEach(e=>{t&&void 0!==t[e]&&(u[e]=t[e])}),Object.defineProperty(a,r.NVIM_METHOD_NAME,{value:"command:"+e}),Object.defineProperty(a,r.NVIM_SYNC,{value:!!o}),Object.defineProperty(a,r.NVIM_SPEC,{value:{type:"command",name:e,sync:!!o,opts:u}}),s&&(n[i]=a),n}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(35)),s=r(n(2)),a=r(n(246)),u=i(n(247)),l=i(n(248)),c=n(16),h=n(249),f=n(68),d=n(250),p=["reallyExit","abort","chdir","umask","setuid","setgid","setgroups","_kill","EventEmitter","_maxListeners","_fatalException","exit","kill"];function g(){const e=e=>this.require(e);return e.resolve=e=>d._resolveFilename(e,this),e.main=process.mainModule,e.extensions=d._extensions,e.cache=d._cache,e}function m(e){return function(t,n){const r=g.call(this),i=o.dirname(n),s=t.replace(/^\#\!.*/,""),u=d.wrap(s),l=a.runInContext(u,e,{filename:n}),c=[this.exports,r,this,n,i];return l.apply(this.exports,c)}}function v(e){const t=new d(e);t.paths=d._nodeModulePaths(e);const n=a.createContext({module:t,console:{}});u.default(n,global),Object.keys(console).forEach(t=>{"log"===t?n.console.log=function(e){return(...t)=>{const n=o.basename(e),r=s.format.apply(null,[`[${n}]`].concat(t));c.logger.info(r)}}(e):t in c.logger&&(n.console[t]=c.logger[t])}),n.require=function(e){const t=d.prototype._compile;d.prototype._compile=m(n);const r=n.module.require(e);return d.prototype._compile=t,r},n.process=l.default(process,p),p.forEach(e=>{n.process[e]=function(e){return()=>{throw new Error(`process.${e}() is not allowed in Plugin sandbox`)}}(e)});const r=new h.DevNull;return n.process.umask=e=>{if(void 0!==e)throw new Error("Cannot use process.umask() to change mask (read-only)");return process.umask()},n.process.stdin=r,n.process.stdout=r,n.process.stderr=r,n.Buffer=global.Buffer,n}t.loadPlugin=function(e,t,r={}){try{return function(e,t,r={}){try{const i=v(e);if(c.logger.debug(`createPlugin.${e}.clearCache: ${r&&!r.cache}`),r&&!r.cache)try{delete d._cache[n(251).resolve(e)]}catch(e){}const o=i.require(e),s=o&&o.default||o;if("function"==typeof s)return new f.NvimPlugin(e,s,t)}catch(t){const n=o.basename(e);c.logger.error(`[${n}] ${t.stack}`),c.logger.error(`[${n}] Error loading child ChildPlugin ${e}`)}return null}(e,t,r)}catch(e){return null}}},function(e,t){e.exports=require("vm")},function(e,t){var n=/^(?:0|[1-9]\d*)$/;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=i.propertyIsEnumerable,u=Math.max;function l(e,t){var n=m(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&v(e)}(e)&&o.call(e,"callee")&&(!a.call(e,"callee")||"[object Arguments]"==s.call(e))}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var u in e)!t&&!o.call(e,u)||i&&("length"==u||p(u,r))||n.push(u);return n}function c(e,t,n,r){return void 0===e||g(e,i[n])&&!o.call(r,n)?t:e}function h(e,t,n){var r=e[t];o.call(e,t)&&g(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function f(e){if(!y(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,s=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||i,t===r),a=[];for(var u in e)("constructor"!=u||!s&&o.call(e,u))&&a.push(u);return a}function d(e,t){return t=u(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=u(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=s,r(e,this,a)}}function p(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}function g(e,t){return e===t||e!=e&&t!=t}var m=Array.isArray;function v(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=y(e)?s.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var b,w=(b=function(e,t,n,r){!function(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;h(n,s,void 0===a?e[s]:a)}}(t,function(e){return v(e)?l(e,!0):f(e)}(t),e,r)},d((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=b.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!y(n))return!1;var r=typeof t;return!!("number"==r?v(n)&&p(t,n.length):"string"==r&&t in n)&&g(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var s=t[n];s&&b(e,s,n,i)}return e}))),_=d((function(e){return e.push(void 0,c),r(w,void 0,e)}));e.exports=_},function(e,t){var n=/^\[object .+?Constructor\]$/,r=/^(?:0|[1-9]\d*)$/,i="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,s=i||o||Function("return this")();function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,f,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function l(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function h(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function f(e){return e!=e}function d(e,t){return e.has(t)}function p(e,t){return function(n){return e(t(n))}}var g,m=Array.prototype,v=Function.prototype,y=Object.prototype,b=s["__core-js_shared__"],w=(g=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",_=v.toString,E=y.hasOwnProperty,x=y.toString,C=RegExp("^"+_.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=s.Symbol,M=p(Object.getPrototypeOf,Object),A=y.propertyIsEnumerable,k=m.splice,j=S?S.isConcatSpreadable:void 0,T=Object.getOwnPropertySymbols,D=Math.max,O=z(s,"Map"),F=z(Object,"create");function B(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.__data__=new I;++t<n;)this.add(e[t])}function R(e,t){var n=X(e)||J(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!E.call(e,o)||i&&("length"==o||Y(o,r))||n.push(o);return n}function N(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function $(e){return!(!ee(e)||(t=e,w&&w in t))&&(Q(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:n).test(function(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function q(e){if(!ee(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,i=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||y,t===r),o=[];for(var s in e)("constructor"!=s||!i&&E.call(e,s))&&o.push(s);return o}function U(e){return function(e,t,n){var r=t(e);return X(e)?r:h(r,n(e))}(e,ne,V)}function W(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function z(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return $(n)?n:void 0}B.prototype.clear=function(){this.__data__=F?F(null):{}},B.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},B.prototype.get=function(e){var t=this.__data__;if(F){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return E.call(t,e)?t[e]:void 0},B.prototype.has=function(e){var t=this.__data__;return F?void 0!==t[e]:E.call(t,e)},B.prototype.set=function(e,t){return this.__data__[e]=F&&void 0===t?"__lodash_hash_undefined__":t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,n=N(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},P.prototype.get=function(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]},P.prototype.has=function(e){return N(this.__data__,e)>-1},P.prototype.set=function(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},I.prototype.clear=function(){this.__data__={hash:new B,map:new(O||P),string:new B}},I.prototype.delete=function(e){return W(this,e).delete(e)},I.prototype.get=function(e){return W(this,e).get(e)},I.prototype.has=function(e){return W(this,e).has(e)},I.prototype.set=function(e,t){return W(this,e).set(e,t),this},L.prototype.add=L.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},L.prototype.has=function(e){return this.__data__.has(e)};var H=T?p(T,Object):se,V=T?function(e){for(var t=[];e;)h(t,H(e)),e=M(e);return t}:se;function G(e){return X(e)||J(e)||!!(j&&e&&e[j])}function Y(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}function K(e){if("string"==typeof e||function(e){return"symbol"==typeof e||te(e)&&"[object Symbol]"==x.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function J(e){return function(e){return te(e)&&Z(e)}(e)&&E.call(e,"callee")&&(!A.call(e,"callee")||"[object Arguments]"==x.call(e))}var X=Array.isArray;function Z(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Q(e)}function Q(e){var t=ee(e)?x.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function te(e){return!!e&&"object"==typeof e}function ne(e){return Z(e)?R(e,!0):q(e)}var re,ie,oe=(re=function(e,t){return null==e?{}:(t=c(function e(t,n,r,i,o){var s=-1,a=t.length;for(r||(r=G),o||(o=[]);++s<a;){var u=t[s];n>0&&r(u)?n>1?e(u,n-1,r,i,o):h(o,u):i||(o[o.length]=u)}return o}(t,1),K),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=e[s];n(a,s)&&(o[s]=a)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var i,o=-1,s=u,a=!0,h=e.length,f=[],p=t.length;if(!h)return f;n&&(t=c(t,(i=n,function(e){return i(e)}))),r?(s=l,a=!1):t.length>=200&&(s=d,a=!1,t=new L(t));e:for(;++o<h;){var g=e[o],m=n?n(g):g;if(g=r||0!==g?g:0,a&&m==m){for(var v=p;v--;)if(t[v]===m)continue e;f.push(g)}else s(t,m,r)||f.push(g)}return f}(U(e),t)))},ie=D(void 0===ie?re.length-1:ie,0),function(){for(var e=arguments,t=-1,n=D(e.length-ie,0),r=Array(n);++t<n;)r[t]=e[ie+t];t=-1;for(var i=Array(ie+1);++t<ie;)i[t]=e[t];return i[ie]=r,a(re,this,i)});function se(){return[]}e.exports=oe},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18);class i extends r.Duplex{_read(){}_write(e,t,n){n()}}t.DevNull=i},function(e,t){e.exports=require("module")},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=251},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandsController=void 0;const o=i(n(1));t.CommandsController=class{constructor(e,t){this.disposables=[],this.sendToVim=e=>{this.client.input(e)},this.ctrlAInsert=()=>r(this,void 0,void 0,(function*(){const e=o.default.window.activeTextEditor;if(!e)return;const t=yield this.client.callFunction("VSCodeGetLastInsertText");t.length&&(yield e.edit(n=>n.insert(e.selection.active,t.join("\n"))))})),this.scrollPage=(e,t)=>{o.default.commands.executeCommand("editorScroll",{to:t,by:e,revealCursor:!0})},this.scrollLine=e=>{o.default.commands.executeCommand("editorScroll",{to:e,by:"line",revealCursor:this.revealCursorScrollLine})},this.goToLine=e=>{const t=o.default.window.activeTextEditor;if(!t)return;const n=t.visibleRanges[0].start.line,r=t.visibleRanges[0].end.line,i="top"===e?n:"bottom"===e?r:Math.floor(n+(r-n)/2),s=t.document.lineAt(i);t.selections=[new o.default.Selection(i,s.firstNonWhitespaceCharacterIndex,i,s.firstNonWhitespaceCharacterIndex)]},this.revealLine=(e,t=!1)=>{const n=o.default.window.activeTextEditor;if(!n)return;const r=n.selection.active;if(o.default.commands.executeCommand("revealLine",{lineNumber:r.line,at:e}),t){const e=n.document.lineAt(r.line);n.selections=[new o.default.Selection(r.line,e.firstNonWhitespaceCharacterIndex,r.line,e.firstNonWhitespaceCharacterIndex)]}},this.client=e,this.revealCursorScrollLine=t,this.disposables.push(o.default.commands.registerCommand("vscode-neovim.ctrl-a-insert",this.ctrlAInsert)),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.send",e=>this.sendToVim(e))),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.paste-register",e=>this.pasteFromRegister(e))),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.ctrl-f",()=>this.scrollPage("page","down"))),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.ctrl-b",()=>this.scrollPage("page","up"))),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.ctrl-d",()=>this.scrollPage("halfPage","down"))),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.ctrl-u",()=>this.scrollPage("halfPage","up"))),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.ctrl-e",()=>this.scrollLine("down"))),this.disposables.push(o.default.commands.registerCommand("vscode-neovim.ctrl-y",()=>this.scrollLine("up")))}dispose(){for(const e of this.disposables)e.dispose()}handleExtensionRequest(e,t){return r(this,void 0,void 0,(function*(){switch(e){case"reveal":{const[e,n]=t;this.revealLine(e,!!n);break}case"move-cursor":{const[e]=t;this.goToLine(e);break}case"scroll":{const[e,n]=t;this.scrollPage(e,n);break}case"scroll-line":{const[e]=t;this.scrollLine(e);break}case"insert-line":{const[e]=t;yield this.client.command("startinsert"),yield o.default.commands.executeCommand("before"===e?"editor.action.insertLineBefore":"editor.action.insertLineAfter");break}}}))}pasteFromRegister(e){return r(this,void 0,void 0,(function*(){const t=o.default.window.activeTextEditor;if(!t)return;const n=yield this.client.callFunction("VSCodeGetRegister",[e]);""!==n&&(yield t.edit(e=>e.insert(t.selection.active,n)))}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ModeManager=void 0;const i=n(13),o=n(1),s=n(5);t.ModeManager=class{constructor(e){this.logger=e,this.disposables=[],this.mode="",this.isRecording=!1,this.eventEmitter=new i.EventEmitter}dispose(){this.disposables.forEach(e=>e.dispose())}get currentMode(){return this.mode}get isInsertMode(){return"insert"===this.mode}get isVisualMode(){return"visual"===this.mode}get isNormalMode(){return"normal"===this.mode}get isRecordingInInsertMode(){return this.isRecording}onModeChange(e){this.eventEmitter.on("neovimModeChanged",e)}handleRedrawBatch(e){const t=s.findLastEvent("mode_change",e);if(t){const e=t[1];if(e&&e[0]&&e[0]!==this.mode){const t=e[0];this.logger.debug("ModeManager: Changing mode to "+t),this.mode=t,!this.isInsertMode&&this.isRecording&&(this.isRecording=!1,o.commands.executeCommand("setContext","neovim.recording",!1)),o.commands.executeCommand("setContext","neovim.mode",this.mode),this.eventEmitter.emit("neovimModeChanged",t)}}}handleExtensionRequest(e){return r(this,void 0,void 0,(function*(){"notify-recording"===e&&(this.logger.debug("ModeManager: setting recording flag"),this.isRecording=!0,o.commands.executeCommand("setContext","neovim.recording",!0))}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferManager=void 0;const i=n(125),o=n(14),s=n(1),a=n(5),u="BufferManager";t.BufferManager=class{constructor(e,t,n){this.logger=e,this.client=t,this.settings=n,this.disposables=[],this.openedEditors=[],this.externalTextDocuments=new Set,this.textDocumentToBufferId=new Map,this.editorColumnsToWinId=new Map,this.noColumnEditorsToWinId=new Map,this.winIdToEditor=new Map,this.grids=new Map,this.editorTabConfiguration=new WeakMap,this.onDidCloseTextDocument=e=>{!!this.openedEditors.find(t=>t.document===e)||this.textDocumentToBufferId.delete(e)},this.onDidChangeVisibleTextEditors=()=>{this.logger.debug(u+": onDidChangeVisibleTextEditors"),this.changeLayoutPromise||(this.changeLayoutPromise=new Promise(e=>this.changeLayoutPromiseResolve=e)),this.syncLayoutDebounced()},this.onDidChangeActiveTextEditor=()=>{this.logger.debug(u+": onDidChangeActiveTextEditor"),this.syncActiveEditorDebounced()},this.syncLayout=()=>r(this,void 0,void 0,(function*(){this.logger.debug(u+": syncing layout");const e=[...s.window.visibleTextEditors],t=this.openedEditors,n=[];this.logger.debug(u+": new/changed editors/windows");const r=new Set;for(const t of e){if(this.logger.debug(`${u}: Visible editor, viewColumn: ${t.viewColumn}, doc: ${t.document.uri.toString()}`),!this.textDocumentToBufferId.has(t.document)){this.logger.debug(u+": Document not known, init in neovim");const e=yield this.client.createBuffer(!1,!0);if("number"==typeof e){this.logger.error(`${u}: Cannot create a buffer, code: ${e}`);continue}yield this.initBufferForDocument(t.document,e,t),this.logger.debug(`${u}: Document: ${t.document.uri.toString()}, BufId: ${e.id}`),this.textDocumentToBufferId.set(t.document,e.id)}const e=this.textDocumentToBufferId.get(t.document);let i;try{if(!t.viewColumn&&!this.noColumnEditorsToWinId.has(t)||t.viewColumn&&!this.editorColumnsToWinId.has(t.viewColumn)?(this.logger.debug(`${u}: Creating new neovim window for ${t.viewColumn} column (undefined is OK here)`),i=yield this.createNeovimWindow(),this.logger.debug(`${u}: Created new window: ${i}`),t.viewColumn?this.editorColumnsToWinId.set(t.viewColumn,i):this.noColumnEditorsToWinId.set(t,i),this.logger.debug(`${u}: ViewColumn: ${t.viewColumn} - WinId: ${i}`)):(i=t.viewColumn?this.editorColumnsToWinId.get(t.viewColumn):this.noColumnEditorsToWinId.get(t),this.logger.debug(`${u}: Using existing window: ${i}`)),!i)throw new Error("Invalid neovim window for editor");this.winIdToEditor.set(i,t),t.viewColumn&&r.add(t.viewColumn);const o=a.getNeovimCursorPosFromEditor(t);this.logger.debug(`${u}: Setting buffer: ${e} to win: ${i}, cursor: [${o[0]}, ${o[1]}]`),n.push(["nvim_win_set_buf",[i,e]],["nvim_win_set_cursor",[i,a.getNeovimCursorPosFromEditor(t)]])}catch(e){this.logger.error(`${u}: ${e.message}`);continue}}this.logger.debug(u+": Closing non visible editors");for(const i of t){if(e.includes(i)){this.logger.debug(`${u}: Editor viewColumn: ${i.viewColumn}, visibility hasn't changed, skip`);continue}const t=i.document;if(!e.find(e=>e.document===t)&&t.isClosed){this.logger.debug(`${u}: Document ${t.uri.toString()} is not visible and closed, unloading buffer id: ${this.textDocumentToBufferId.get(t)}`);this.textDocumentToBufferId.get(t);this.textDocumentToBufferId.delete(t)}if(!i.viewColumn||!r.has(i.viewColumn)){const e=i.viewColumn?this.editorColumnsToWinId.get(i.viewColumn):this.noColumnEditorsToWinId.get(i);if(!e)continue;i.viewColumn?this.editorColumnsToWinId.delete(i.viewColumn):this.noColumnEditorsToWinId.delete(i),this.logger.debug(`${u}: Editor viewColumn: ${i.viewColumn}, winId: ${e}, closing`),this.winIdToEditor.delete(e),n.push(["nvim_win_close",[e,!0]])}}yield a.callAtomic(this.client,n,this.logger,u),this.openedEditors=e,this.changeLayoutPromiseResolve&&this.changeLayoutPromiseResolve(),this.changeLayoutPromise=void 0})),this.syncLayoutDebounced=i.debounce(this.syncLayout,100,{leading:!1,trailing:!0}),this.syncActiveEditor=()=>r(this,void 0,void 0,(function*(){this.logger.debug(u+": syncing active editor"),yield this.waitForLayoutSync();const e=s.window.activeTextEditor;if(!e)return;const t=e.viewColumn?this.editorColumnsToWinId.get(e.viewColumn):this.noColumnEditorsToWinId.get(e);t?(this.logger.debug(`${u}: Setting active editor - viewColumn: ${e.viewColumn}, winId: ${t}`),yield this.client.request("nvim_set_current_win",[t])):this.logger.error(`${u}: Unable to determine neovim windows id for editor viewColumn: ${e.viewColumn}, docUri: ${e.document.uri.toString()}`)})),this.syncActiveEditorDebounced=i.debounce(this.syncActiveEditor,50,{leading:!1,trailing:!0}),this.onDidChangeEditorOptions=e=>{this.logger.debug(u+": Received onDidChangeEditorOptions");const t=this.textDocumentToBufferId.get(e.textEditor.document);if(!t)return void this.logger.warn(u+": No buffer for onDidChangeEditorOptions, skipping");const n=this.editorTabConfiguration.get(e.textEditor);n&&n.insertSpaces===e.options.insertSpaces&&n.tabSize===e.options.tabSize||(this.logger.debug(`${u}: Updating tab options for bufferId: ${t}`),this.editorTabConfiguration.set(e.textEditor,{insertSpaces:e.options.insertSpaces,tabSize:e.options.tabSize}),this.resyncBufferTabOptions(e.textEditor,t))},this.receivedBufferEvent=(e,t,n,r,i,o)=>{this.onBufferEvent&&this.onBufferEvent(e.id,t,n,r,i,o)},this.disposables.push(s.window.onDidChangeVisibleTextEditors(this.onDidChangeVisibleTextEditors)),this.disposables.push(s.window.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditor)),this.disposables.push(s.workspace.onDidCloseTextDocument(this.onDidCloseTextDocument)),this.disposables.push(s.window.onDidChangeTextEditorOptions(this.onDidChangeEditorOptions))}dispose(){this.disposables.forEach(e=>e.dispose())}forceResync(){return r(this,void 0,void 0,(function*(){this.logger.debug(u+": force resyncing layout"),yield this.syncLayout(),yield this.syncActiveEditor()}))}waitForLayoutSync(){return r(this,void 0,void 0,(function*(){this.changeLayoutPromise&&(this.logger.debug(u+": Waiting for completing layout resyncing"),yield this.changeLayoutPromise,this.logger.debug(u+": Waiting done"))}))}getTextDocumentForBufferId(e){var t;const n=null===(t=[...this.textDocumentToBufferId].find(([,t])=>e===t))||void 0===t?void 0:t[0];return n&&!n.isClosed?n:void 0}getBufferIdForTextDocument(e){return this.textDocumentToBufferId.get(e)}getGridIdForWinId(e){const t=[...this.grids].reverse().find(([,t])=>t.winId===e);return t?t[0]:void 0}getWinIdForGridId(e){var t;return null===(t=this.grids.get(e))||void 0===t?void 0:t.winId}getWinIdForTextEditor(e){return e.viewColumn?this.editorColumnsToWinId.get(e.viewColumn):this.noColumnEditorsToWinId.get(e)}getEditorFromWinId(e){const t=[...this.noColumnEditorsToWinId].find(([,t])=>t===e);return t?t[0]:this.winIdToEditor.get(e)}getGridIdFromEditor(e){return this.getGridIdForWinId(this.getWinIdForTextEditor(e)||0)}getEditorFromGridId(e){const t=this.getWinIdForGridId(e);if(t)return this.getEditorFromWinId(t)}isExternalTextDocument(e){return"output"===e.uri.scheme||this.externalTextDocuments.has(e)}handleRedrawBatch(e){for(const[t,...n]of e)switch(t){case"win_external_pos":case"win_pos":for(const[e,t]of n)this.grids.set(e,{winId:t.id});break;case"win_close":for(const[e]of n)this.grids.delete(e)}}handleExtensionRequest(e,t){return r(this,void 0,void 0,(function*(){switch(e){case"open-file":{const[e,n]=t,r=s.window.activeTextEditor;let i,o;if(i="__vscode_new__"===e?yield s.workspace.openTextDocument():yield s.workspace.openTextDocument(e.trim()),!i)return;n&&"all"!==n&&r&&(o=r.viewColumn,yield s.commands.executeCommand("workbench.action.revertAndCloseActiveEditor")),yield s.window.showTextDocument(i,o),"all"===n&&(yield s.commands.executeCommand("workbench.action.closeOtherEditors"));break}case"external-buffer":{const[e,n,r,i,o]=t,a=parseInt(n,10);if(e&&this.isVscodeUriName(e)){if(o&&e){this.logger.debug(`${u}: Opening a ${e} because of jump`);try{let t=this.findDocFromUri(e);t||(this.logger.debug(`${u}: Opening a doc: ${e}`),t=yield s.workspace.openTextDocument(s.Uri.parse(e,!0)));let n=!1;if(!this.textDocumentToBufferId.has(t)){this.logger.debug(u+": No doc -> buffer mapping exists, assigning mapping and init buffer options");const e=(yield this.client.buffers).find(e=>e.id===a);e&&(n=!0,yield this.initBufferForDocument(t,e)),this.textDocumentToBufferId.set(t,a)}const r=yield s.window.showTextDocument(t,{viewColumn:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.Active,preserveFocus:!1,preview:!1});this.editorTabConfiguration.set(r,{insertSpaces:r.options.insertSpaces,tabSize:r.options.tabSize}),n&&(yield this.resyncBufferTabOptions(r,a))}catch(e){}}}else{if(this.logger.debug(`${u}: Attaching new external buffer: ${e}, id: ${a}`),1===a)return void this.logger.debug(`${u}: ${a} is the first neovim buffer, skipping`);yield this.attachNeovimExternalBuffer(e,a,!!r,i)}break}}}))}initBufferForDocument(e,t,n){return r(this,void 0,void 0,(function*(){const r=t.id;this.logger.debug(`${u}: Init buffer for ${r}, doc: ${e.uri.toString()}`);const{options:{insertSpaces:i,tabSize:o}}=n||{options:{insertSpaces:!0,tabSize:4}},l=e.eol===s.EndOfLine.LF?"\n":"\r\n",c=e.getText().split(l);n&&this.editorTabConfiguration.set(n,{tabSize:o,insertSpaces:i});const h=[["nvim_buf_set_option",[r,"expandtab",i]],["nvim_buf_set_option",[r,"tabstop",o]],["nvim_buf_set_option",[r,"shiftwidth",o]],["nvim_buf_set_lines",[r,0,-1,!1,c]],["nvim_buf_set_var",[r,"vscode_controlled",!0]],["nvim_buf_set_name",[r,e.uri.toString()]],["nvim_buf_set_option",[r,"modifiable",!this.isExternalTextDocument(e)]],["nvim_buf_set_option",[r,"buftype","nofile"]],["nvim_buf_set_option",[r,"buflisted",!0]]];yield a.callAtomic(this.client,h,this.logger,u),this.isExternalTextDocument(e)||(yield this.client.callFunction("VSCodeClearUndo",r)),this.onBufferInit&&this.onBufferInit(r,e),t.listen("lines",this.receivedBufferEvent)}))}resyncBufferTabOptions(e,t){return r(this,void 0,void 0,(function*(){const{options:{insertSpaces:n,tabSize:r}}=e,i=[["nvim_buf_set_option",[t,"expandtab",n]],["nvim_buf_set_option",[t,"tabstop",r]],["nvim_buf_set_option",[t,"shiftwidth",r]]];yield a.callAtomic(this.client,i,this.logger,u)}))}createNeovimWindow(){return r(this,void 0,void 0,(function*(){const e=yield this.client.createBuffer(!1,!0);if("number"==typeof e)throw new Error("Unable to create a temporary buffer for new neovim window, code: "+e);const t=yield this.client.openWindow(e,!1,{external:!0,width:this.settings.neovimViewportWidth,height:this.settings.neovimViewportHeight});if("number"==typeof t)throw new Error("Unable to create a new neovim window, code: "+t);return yield a.callAtomic(this.client,[["nvim_win_set_var",[t.id,"vscode_clearjumps",!0]],["nvim_buf_set_option",[e.id,"vscode_temp",!0]],["nvim_buf_set_option",[e.id,"hidden",!0]],["nvim_buf_set_option",[e.id,"bufhidden","wipe"]]],this.logger,u),t.id}))}unloadBuffer(e){return r(this,void 0,void 0,(function*(){try{yield this.client.command("bunload! "+e)}catch(t){this.logger.warn(`${u}: Can't unload the buffer: ${e}, err: ${null==t?void 0:t.message}`)}}))}isVscodeUriName(e){return!!/:\/\//.test(e)||(!!e.startsWith("output:")||!!e.startsWith("/search-editor:"))}findDocFromUri(e){return e.startsWith("/search-editor")&&(e=e.slice(1)),s.workspace.textDocuments.find(t=>t.uri.toString()===e)}attachNeovimExternalBuffer(e,t,n,i){return r(this,void 0,void 0,(function*(){const e=(yield this.client.buffers).find(e=>e.id===t);if(!e)return;const l=yield e.lines;if(!l.length||1===l.length&&!l[0])return void this.logger.debug(`${u}: Skipping empty external buffer ${t}`);const c=yield s.workspace.openTextDocument({content:l.join("\n")});this.externalTextDocuments.add(c),this.textDocumentToBufferId.set(c,t),this.onBufferInit&&this.onBufferInit(t,c),e.listen("lines",this.receivedBufferEvent),yield e[o.ATTACH](!0);const h=yield this.client.windows;let f=0;for(const e of h){(yield e.buffer).id===t&&(this.logger.debug(`${u}: Found window assigned to external buffer ${t}, winId: ${e.id}, isKnownWindow: ${this.winIdToEditor.has(e.id)}`),this.winIdToEditor.has(e.id)||(f=e.id))}const d=yield s.window.showTextDocument(c,{preserveFocus:!1,preview:!0,viewColumn:s.ViewColumn.Active});this.editorTabConfiguration.set(d,{tabSize:i,insertSpaces:n}),d.options.insertSpaces=n,d.options.tabSize=i,f&&(setTimeout(()=>r(this,void 0,void 0,(function*(){const e=yield this.client.request("nvim_win_get_cursor",[f]);if(e){this.logger.debug(`${u}: Adjusting cursor pos for external buffer: ${t}, originalPos: [${e[0]}, ${e[1]}]`);const n=e[0]-1;let r=e[1];try{r=a.calculateEditorColFromVimScreenCol(c.lineAt(n).text,e[1],1,!0),this.logger.debug(`${u}: Adjusted cursor: [${n}, ${r}]`)}catch(e){this.logger.warn(`${u}: Unable to get cursor pos for external buffer: ${t}`)}d.selections=[new s.Selection(n,r,n,r)]}})),1e3),setTimeout(()=>{this.logger.debug(`${u}: Closing window ${f} for external buffer: ${t}`);try{this.client.request("nvim_win_close",[f,!0])}catch(e){this.logger.warn(`${u}: Closing the window: ${f} for external buffer failed: ${e.message}`)}},5e3))}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TypingManager=void 0;const i=n(1),o=n(5),s="TypingManager";t.TypingManager=class{constructor(e,t,n,a){this.logger=e,this.client=t,this.modeManager=n,this.changeManager=a,this.disposables=[],this.isExitingInsertMode=!1,this.isEnteringInsertMode=!1,this.pendingKeysAfterExit="",this.pendingKeysAfterEnter="",this.onModeChange=()=>{var e;if(this.modeManager.isInsertMode&&this.typeHandlerDisposable&&!this.modeManager.isRecordingInInsertMode){this.pendingKeysAfterEnter="";const t=i.window.activeTextEditor;t&&this.changeManager.hasDocumentChangeCompletionLock(t.document)?(this.isEnteringInsertMode=!0,this.logger.debug(s+": Waiting for document completion operation before disposing type handler"),null===(e=this.changeManager.getDocumentChangeCompletionLock(t.document))||void 0===e||e.then(()=>{this.isEnteringInsertMode=!1,this.typeHandlerDisposable&&(this.logger.debug(s+": Waiting done, disposing type handler"),this.typeHandlerDisposable.dispose(),this.typeHandlerDisposable=void 0,this.pendingKeysAfterEnter&&(i.commands.executeCommand("default:type",{text:this.pendingKeysAfterEnter}),this.pendingKeysAfterEnter=""))})):(this.logger.debug(s+": Disposing type handler"),this.typeHandlerDisposable.dispose(),this.typeHandlerDisposable=void 0)}else this.modeManager.isInsertMode||(this.isEnteringInsertMode=!1,this.isExitingInsertMode=!1,this.typeHandlerDisposable||(this.logger.debug(s+": Enabling type handler"),this.typeHandlerDisposable=i.commands.registerTextEditorCommand("type",this.onVSCodeType)))},this.onVSCodeType=(e,t,n)=>{!this.modeManager.isInsertMode||this.modeManager.isRecordingInInsertMode||this.isEnteringInsertMode?this.isEnteringInsertMode?this.pendingKeysAfterEnter+=n.text:this.client.input(o.normalizeInputString(n.text,!this.modeManager.isRecordingInInsertMode)):this.isExitingInsertMode?this.pendingKeysAfterExit+=n.text:i.commands.executeCommand("default:type",{text:n.text})},this.onEscapeKeyCommand=()=>r(this,void 0,void 0,(function*(){this.logger.debug(s+": Escape key"),this.modeManager.isInsertMode&&(this.logger.debug(s+": Syncing buffers with neovim"),this.isExitingInsertMode=!0,this.typeHandlerDisposable||(this.typeHandlerDisposable=i.commands.registerTextEditorCommand("type",this.onVSCodeType)),yield this.changeManager.syncDocumentsWithNeovim(),yield this.changeManager.syncDotRepatWithNeovim());const e=o.normalizeInputString(this.pendingKeysAfterExit);this.logger.debug(`${s}: Pending keys sent with <Esc>: ${e}`),this.pendingKeysAfterExit="",yield this.client.input("<Esc>"+e)})),this.handleCompositeEscapeFirstKey=e=>r(this,void 0,void 0,(function*(){const t=(new Date).getTime();this.compositeEscapeFirstPressTimestamp&&t-this.compositeEscapeFirstPressTimestamp<=200?(this.compositeEscapeFirstPressTimestamp=void 0,yield i.commands.executeCommand("deleteLeft"),this.onEscapeKeyCommand()):(this.compositeEscapeFirstPressTimestamp=t,yield i.commands.executeCommand("default:type",{text:e}))})),this.handleCompositeEscapeSecondKey=e=>r(this,void 0,void 0,(function*(){const t=(new Date).getTime();this.compositeEscapeFirstPressTimestamp&&t-this.compositeEscapeFirstPressTimestamp<=200?(this.compositeEscapeFirstPressTimestamp=void 0,yield i.commands.executeCommand("deleteLeft"),this.onEscapeKeyCommand()):yield i.commands.executeCommand("default:type",{text:e})})),this.typeHandlerDisposable=i.commands.registerTextEditorCommand("type",this.onVSCodeType),this.disposables.push(i.commands.registerCommand("vscode-neovim.escape",this.onEscapeKeyCommand)),this.disposables.push(i.commands.registerCommand("vscode-neovim.compositeEscape1",e=>this.handleCompositeEscapeFirstKey(e))),this.disposables.push(i.commands.registerCommand("vscode-neovim.compositeEscape2",e=>this.handleCompositeEscapeSecondKey(e))),this.modeManager.onModeChange(this.onModeChange)}dispose(){var e;null===(e=this.typeHandlerDisposable)||void 0===e||e.dispose(),this.disposables.forEach(e=>e.dispose())}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorManager=void 0;const i=n(125),o=n(1),s=n(5),a="CursorManager";t.CursorManager=class{constructor(e,t,n,u,l,c){this.logger=e,this.client=t,this.modeManager=n,this.bufferManager=u,this.changeManager=l,this.settings=c,this.disposables=[],this.cursorModes=new Map,this.neovimCursorPosition=new WeakMap,this.ignoreSelectionEvents=!1,this.onDidChangeVisibleTextEditors=()=>{this.updateCursorStyle(this.modeManager.currentMode)},this.onSelectionChanged=i.debounce(e=>r(this,void 0,void 0,(function*(){if(this.modeManager.isInsertMode)return;if(this.ignoreSelectionEvents)return;const{textEditor:t,kind:n,selections:r}=e;this.logger.debug(a+": SelectionChanged"),this.logger.debug(a+": Waiting for possible layout completion operation"),yield this.bufferManager.waitForLayoutSync(),this.logger.debug(a+": Waiting for possible document change completion operation"),yield this.changeManager.getDocumentChangeCompletionLock(t.document),this.logger.debug(a+": Waiting done");const i=this.bufferManager.getWinIdForTextEditor(t),u=r[0].active;if(this.logger.debug(`${a}: kind: ${n}, WinId: ${i}, cursor: [${u.line}, ${u.character}], isMultiSelection: ${r.length>1}`),!i)return;const l=this.neovimCursorPosition.get(t);if(l&&l.col===u.character&&l.line===u.line)this.logger.debug(a+": Skipping event since neovim has same cursor pos");else if(e.selections.length>1||e.kind===o.TextEditorSelectionChangeKind.Mouse&&!e.selections[0].active.isEqual(e.selections[0].anchor)||this.modeManager.isVisualMode){if(e.kind!==o.TextEditorSelectionChangeKind.Mouse||!this.settings.mouseSelectionEnabled)return;{const n=this.bufferManager.getGridIdForWinId(i);this.logger.debug(`${a}: Processing multi-selection, gridId: ${n}`);const r=[];if(!this.modeManager.isVisualMode&&n){const i=e.selections[0].anchor,o=s.editorPositionToNeovimPosition(t,i);this.logger.debug(`${a}: Starting visual mode from: [${o[0]}, ${o[1]}]`),r.push(["nvim_input_mouse",["left","press","",n,o[0]-1,o[1]]]),r.push(["nvim_input",["v"]])}const o=e.selections.slice(-1)[0];if(!o)return;const u=s.editorPositionToNeovimPosition(e.textEditor,o.active);this.logger.debug(`${a}: Updating cursor pos, winId: ${i}, pos: [${u[0]}, ${u[1]}]`),r.push(["nvim_win_set_cursor",[i,u]]),yield s.callAtomic(this.client,r,this.logger,a)}}else{const e=s.getNeovimCursorPosFromEditor(t);this.logger.debug(`${a}: Updating cursor pos, winId: ${i}, pos: [${e[0]}, ${e[1]}]`);const n=[["nvim_win_set_cursor",[i,e]]];yield s.callAtomic(this.client,n,this.logger,a)}})),50,{leading:!1,trailing:!0}),this.updateCursorPosInEditor=(e,t,n)=>{if(this.ignoreSelectionEvents)return;if(this.logger.debug(`${a}: Updating cursor in editor, viewColumn: ${e.viewColumn}, pos: [${t}, ${n}]`),e!==o.window.activeTextEditor)return void this.logger.debug(`${a}: Editor, viewColumn: ${e.viewColumn} is not active text editor, skipping cursor setting`);const r=e.visibleRanges[0],i=new o.Selection(t,n,t,n);e.selections=[i];const s=r.end.line-r.start.line;if(r.contains(i))e.revealRange(new o.Range(i.active,i.active),o.TextEditorRevealType.Default);else if(i.active.line<r.start.line){const t=r.start.line-i.active.line>=s/2?o.TextEditorRevealType.Default:o.TextEditorRevealType.AtTop;e.revealRange(new o.Range(i.active,i.active),t)}else if(i.active.line>r.end.line){const t=i.active.line-r.end.line>=s/2?o.TextEditorRevealType.InCenter:o.TextEditorRevealType.Default;e.revealRange(new o.Range(i.active,i.active),t)}},this.disposables.push(o.window.onDidChangeTextEditorSelection(this.onSelectionChanged)),this.disposables.push(o.window.onDidChangeVisibleTextEditors(this.onDidChangeVisibleTextEditors))}dispose(){this.disposables.forEach(e=>e.dispose())}handleExtensionRequest(e,t){return r(this,void 0,void 0,(function*(){switch(e){case"visual-edit":{const[e,n,r,i,o,s]=t;this.multipleCursorFromVisualMode(!!e,n,r-1,i-1,o,!!s);break}}}))}handleRedrawBatch(e){const t=new Map;for(const[n,...r]of e){const e=r[0]||[];switch(n){case"win_viewport":for(const[e,n,i,o,s,a]of r)t.set(n.id,{line:s,col:a});break;case"mode_info_set":{const[,t]=e;for(const e of t)e.name&&e.cursor_shape&&this.cursorModes.set(e.name,{cursorShape:e.cursor_shape});break}case"mode_change":{const[t]=e;this.updateCursorStyle(t);break}}}for(const[e,n]of t){this.logger.debug(`${a}: Received cursor update from neovim, winId: ${e}, pos: [${n.line}, ${n.col}]`);const t=this.bufferManager.getEditorFromWinId(e);if(!t){this.logger.warn(`${a}: No editor for winId: ${e}`);continue}const r=this.changeManager.getDocumentChangeCompletionLock(t.document);if(r)this.logger.debug(`${a}: Waiting for document change completion before setting the cursor, winId: ${e}`),r.then(()=>{try{this.logger.debug(`${a}: Waiting document change completion done, winId: ${e}`);const r=s.calculateEditorColFromVimScreenCol(t.document.lineAt(n.line).text,n.col,1,!0);this.neovimCursorPosition.set(t,{line:n.line,col:r}),this.updateCursorPosInEditor(t,n.line,r)}catch(e){this.logger.warn(`${a}: ${e.message}`)}});else{this.logger.debug(`${a}: No pending document changes, winId: ${e}`);try{const e=s.calculateEditorColFromVimScreenCol(t.document.lineAt(n.line).text,n.col,1,!0);this.neovimCursorPosition.set(t,{line:n.line,col:e}),this.updateCursorPosInEditor(t,n.line,e)}catch(e){this.logger.warn(`${a}: ${e.message}`)}}}t.clear()}handleVSCodeRangeCommand(e,t,n,i,s,u,l){return r(this,void 0,void 0,(function*(){const r=o.window.activeTextEditor;if(this.logger.debug(`${a}: Range command: ${e}, range: [${t}, ${i}] - [${n}, ${s}], leaveSelection: ${u}`),r){if(n>t)try{const e=r.document.lineAt(t-1);i>0&&i-1>=e.range.end.character&&(t++,i=0)}catch(e){}const c=[...r.selections];this.ignoreSelectionEvents=!0,r.selections=t>n?[new o.Selection(t-1,i>0?i-1:9999999,n-1,s>0?s-1:0)]:[new o.Selection(t-1,i>0?i-1:0,n-1,s>0?s-1:9999999)];const h=yield o.commands.executeCommand(e,...l);return this.logger.debug(a+": Range command completed"),u||(r.selections=c),this.ignoreSelectionEvents=!1,h}}))}updateCursorStyle(e){const t=this.cursorModes.get(e);if(t)for(const e of o.window.visibleTextEditors)"block"===t.cursorShape?e.options.cursorStyle=o.TextEditorCursorStyle.Block:"horizontal"===t.cursorShape?e.options.cursorStyle=o.TextEditorCursorStyle.Underline:e.options.cursorStyle=o.TextEditorCursorStyle.Line}multipleCursorFromVisualMode(e,t,n,r,i,s){if(!o.window.activeTextEditor)return;this.logger.debug(`${a}: Spawning multiple cursors from lines: [${n}, ${r}], endCol: ${i} mode: ${t}, append: ${e}, skipEmpty: ${s}`);const u=o.window.activeTextEditor.selection.active.character,l=[],c=o.window.activeTextEditor.document;for(let h=n;h<=r;h++){const n=c.lineAt(h);if(""===n.text.trim()&&(s||"V"!==t))continue;let r=0;r="V"===t?e?n.range.end.character:n.firstNonWhitespaceCharacterIndex:e?i:u,this.logger.debug(`${a}: Multiple cursor at: [${h}, ${r}]`),l.push(new o.Selection(h,r,h,r))}o.window.activeTextEditor.selections=l}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0;const i=r(n(57)),o=n(1);var s;!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug"}(s=t.LogLevel||(t.LogLevel={}));t.Logger=class{constructor(e,t,n=!1){if(this.logLevel=e,this.outputToConsole=n,this.disposables=[],this.fd=0,e!==s.none)try{this.fd=i.default.openSync(t,"w")}catch(e){}}dispose(){this.fd&&i.default.closeSync(this.fd),this.disposables.forEach(e=>e.dispose())}debug(e){e=`${this.getTimestamp()} ${e}`,this.logLevel>=s.debug&&(this.fd&&i.default.appendFileSync(this.fd,e+"\n"),this.outputToConsole&&console.log(e))}warn(e){e=`${this.getTimestamp()} ${e}`,this.logLevel>=s.warn&&(this.fd&&i.default.appendFileSync(this.fd,e+"\n"),this.outputToConsole&&console.log(e))}error(e){e=`${this.getTimestamp()} ${e}`,this.logLevel>=s.error&&(this.fd&&i.default.appendFileSync(this.fd,e+"\n"),this.outputToConsole&&console.log(e)),o.window.showErrorMessage(e)}getTimestamp(){return(new Date).toISOString()}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentChangeManager=void 0;const o=i(n(259)),s=n(1),a=n(5),u="DocumentChangeManager";t.DocumentChangeManager=class{constructor(e,t,n,i){this.logger=e,this.client=t,this.bufferManager=n,this.modeManager=i,this.disposables=[],this.pendingEvents=[],this.bufferSkipTicks=new Map,this.documentSkipVersionOnChange=new WeakMap,this.textDocumentChangePromise=new Map,this.documentContentInNeovim=new WeakMap,this.changedDocuments=new Set,this.applyingEdits=!1,this.onBufferInit=(e,t)=>{this.logger.debug(`${u}: Init buffer content for bufId: ${e}, uri: ${t.uri.toString()}`),this.documentContentInNeovim.set(t,t.getText())},this.onNeovimChangeEvent=(e,t,n,r,i,o)=>{this.logger.debug(`${u}: Received neovim buffer changed event for bufId: ${e}, tick: ${t}`);const s=this.bufferManager.getTextDocumentForBufferId(e);if(!s)return void this.logger.debug(`${u}: No text document for buffer: ${e}`);if((this.bufferSkipTicks.get(e)||0)>=t)return void this.logger.debug(`${u}: BufId: ${e} skipping tick: ${t}`);if(n===r&&0===i.length)return void this.logger.debug(`${u}: BufId: ${e} empty change, skipping`);this.textDocumentChangePromise.has(s)||this.textDocumentChangePromise.set(s,[]);const a=this.textDocumentChangePromise.get(s),l={};l.promise=new Promise((e,t)=>{l.resolve=e,l.reject=t}),l.promise.catch(e=>{this.logger.error(e)}),a.push(l),this.pendingEvents.push([e,t,n,r,i,o]),this.applyingEdits||this.applyEdits()},this.applyEdits=()=>r(this,void 0,void 0,(function*(){var e,t;let n;this.applyingEdits=!0,this.logger.debug(u+": Applying neovim edits");const r=setTimeout(()=>{s.window.withProgress({location:s.ProgressLocation.Notification,title:"Applying neovim edits"},()=>new Promise(e=>n=e))},1e3);for(;this.pendingEvents.length;){const n=new Map;let r=this.pendingEvents.shift();for(;r;){const[e,t,i,o,s,l]=r,c=this.bufferManager.getTextDocumentForBufferId(e);if(!c){this.logger.warn(`${u}: No document for ${e}, skip`);continue}this.logger.debug(`${u}: Accumulating edits for ${c.uri.toString()}, bufId: ${e}`),n.get(c)||n.set(c,a.getDocumentLineArray(c));let h=n.get(c);if(i!==o&&o===i+1&&1===s.length&&""===s[0])for(let e=i;e<o;e++)h[e]="";else if(i!==o&&1===s.length&&""===s[0])for(let e=1;e<o-i;e++)h.splice(i,1);else if(i===o||s.length)i===o?(i>h.length&&s.unshift(""),0===i?h.unshift(...s):h=[...h.slice(0,i),...s,...h.slice(i)]):(i>=h.length&&s.unshift(""),h=[...h.slice(0,i),...s,...h.slice(o)]);else for(let e=0;e<o-i;e++)h.splice(i,1);n.set(c,h),r=this.pendingEvents.shift()}for(const[r,i]of n){const n=(null===(e=this.textDocumentChangePromise.get(r))||void 0===e?void 0:e.length)||0;try{if(this.logger.debug(`${u}: Applying edits for ${r.uri.toString()}`),r.isClosed){this.logger.debug(u+": Document was closed, skippnig");continue}const e=s.window.visibleTextEditors.find(e=>e.document===r);if(!e){this.logger.debug(u+": No visible text editor for document, skipping");continue}let l=r.getText();const c=r.eol===s.EndOfLine.CRLF?"\r\n":"\n";let h=i.join(c);l+=`${c}end${c}end`,h+=`${c}end${c}end`;const f=a.diffLineToChars(l,h),d=o.default(f.chars1,f.chars2),p=a.prepareEditRangesFromDiff(d);if(!p.length)continue;this.documentSkipVersionOnChange.set(r,r.version+1);const g=yield e.edit(t=>{for(const n of p){const r=i.slice(n.newStart,n.newEnd+1);if("removed"===n.type)if(n.end>=e.document.lineCount-1&&n.start>0){const r=e.document.lineAt(n.start-1).range.end.character;t.delete(new s.Range(n.start-1,r,n.end,999999))}else t.delete(new s.Range(n.start,0,n.end+1,0));else"changed"===n.type?t.replace(new s.Range(n.start,0,n.end,999999),r.join("\n")):"added"===n.type&&(n.start>=e.document.lineCount?r.unshift(...new Array(n.start-(e.document.lineCount-1)).fill("")):r.push(""),t.replace(new s.Position(n.start,0),r.join("\n")))}}),m=(null===(t=this.textDocumentChangePromise.get(r))||void 0===t?void 0:t.splice(0,n))||[];g?(m.forEach(e=>e.resolve&&e.resolve()),this.logger.debug(`${u}: Changes succesfully applied for ${r.uri.toString()}`),this.documentContentInNeovim.set(r,r.getText())):(m.forEach(e=>{var t;null===(t=e.promise)||void 0===t||t.catch(()=>this.logger.warn(`${u}: Edit was canceled for doc: ${r.uri.toString()}`)),e.reject&&e.reject()}),this.logger.warn(`${u}: Changes were not applied for ${r.uri.toString()}`))}catch(e){this.logger.error(`${u}: Error applying neovim edits, error: ${e.message}`)}}}const i=[...this.textDocumentChangePromise.values()].flatMap(e=>e);this.textDocumentChangePromise.clear(),i.forEach(e=>e.resolve&&e.resolve()),r&&clearTimeout(r),n&&n(),this.pendingEvents.length&&this.applyEdits(),this.applyingEdits=!1})),this.onChangeTextDocument=e=>{const{document:t,contentChanges:n}=e;if(this.logger.debug(`${u}: Change text document for uri: ${t.uri.toString()}`),this.documentSkipVersionOnChange.get(t)===t.version)return void this.logger.debug(u+": Skipping a change since versions equals");const r=this.dotRepeatStartModeInsertHint,i=s.window.activeTextEditor;if(i&&i.document===t&&this.modeManager.isInsertMode){this.dotRepeatStartModeInsertHint=void 0;const e=t.eol===s.EndOfLine.LF?"\n":"\r\n",o=i.selection.active;for(const t of n)a.isCursorChange(t,o,e)&&(this.dotRepeatChange&&a.isChangeSubsequentToChange(t,this.dotRepeatChange)?this.dotRepeatChange=a.accumulateDotRepeatChange(t,this.dotRepeatChange):this.dotRepeatChange=a.normalizeDotRepeatChange(t,e,r))}this.changedDocuments.add(t),this.modeManager.isInsertMode||this.syncDocumentsWithNeovim()},this.bufferManager.onBufferEvent=this.onNeovimChangeEvent,this.bufferManager.onBufferInit=this.onBufferInit,this.disposables.push(s.workspace.onDidChangeTextDocument(this.onChangeTextDocument))}dispose(){this.disposables.forEach(e=>e.dispose())}getDocumentChangeCompletionLock(e){const t=this.textDocumentChangePromise.get(e);if(t&&t.length)return Promise.all(t.map(e=>e.promise).filter(Boolean))}hasDocumentChangeCompletionLock(e){var t;return((null===(t=this.textDocumentChangePromise.get(e))||void 0===t?void 0:t.length)||0)>0}handleExtensionRequest(e,t){return r(this,void 0,void 0,(function*(){if("insert-line"===e){const[e]=t;this.dotRepeatStartModeInsertHint="before"===e?"O":"o",this.logger.debug(`${u}: Setting start insert mode hint - ${this.dotRepeatStartModeInsertHint}`)}}))}syncDocumentsWithNeovim(){return r(this,void 0,void 0,(function*(){this.logger.debug(u+": Syncing document changes with neovim");const e=[],t=[...this.changedDocuments];this.changedDocuments.clear();for(const n of t){if(this.logger.debug(`${u}: Processing document ${n.uri.toString()}`),n.isClosed){this.logger.warn(`${u}: Document ${n.uri.toString()} is closed, skipping`);continue}let t=this.documentContentInNeovim.get(n);if(null==t){this.logger.warn(`${u}: Can't get last known neovim content for ${n.uri.toString()}, skipping`);continue}const r=this.bufferManager.getBufferIdForTextDocument(n);if(!r){this.logger.warn(`${u}: No neovim buffer for ${n.uri.toString()}`);continue}let i=n.getText();this.documentContentInNeovim.set(n,i);const l=n.eol===s.EndOfLine.LF?"\n":"\r\n";t+=`${l}end${l}end`,i+=`${l}end${l}end`;const c=a.diffLineToChars(t,i),h=o.default(c.chars1,c.chars2),f=a.prepareEditRangesFromDiff(h);if(!f.length){this.logger.debug(`${u}: No diff ranges for ${n.uri.toString()}, skipping`);continue}const d=[];let p=0;for(const e of f){let o=n.getText(new s.Range(e.newStart,0,e.newEnd,999999)).split(l);const a=e.start+p;let u=e.end+p;"removed"===e.type?(o=[],u++,p--):"changed"===e.type?("\n"!==i.slice(-1)&&"\r\n"!==i.slice(-1)||t.includes(l)||o.push(""),u++):"added"===e.type&&(0!==e.start||t||u++,p++),d.push(["nvim_buf_set_lines",[r,a,u,!1,o]]),p+=e.newEnd-e.newStart-(e.end-e.start)}const g=yield this.client.request("nvim_buf_get_changedtick",[r]);g?(this.logger.debug(`${u}: BufId: ${r}, lineChanges: ${d.length}, tick: ${g}, skipTick: ${g+d.length}`),this.bufferSkipTicks.set(r,g+d.length),e.push(...d)):this.logger.warn(`${u}: Can't get changed tick for bufId: ${r}, deleted?`)}s.window.activeTextEditor&&e.push(["nvim_win_set_cursor",[0,a.getNeovimCursorPosFromEditor(s.window.activeTextEditor)]]),e.length&&(yield a.callAtomic(this.client,e,this.logger,u))}))}syncDotRepatWithNeovim(){return r(this,void 0,void 0,(function*(){if(!this.dotRepeatChange)return;this.logger.debug(u+": Syncing dot repeat");const e=Object.assign({},this.dotRepeatChange);this.dotRepeatChange=void 0;const t=yield this.client.window,n=yield this.client.createBuffer(!1,!0);if("number"==typeof n)return;const r=yield this.client.openWindow(n,!0,{external:!0,width:100,height:100});if("number"==typeof r)return;const i=[],o=e.rangeLength;if(o){const e=new Array(o).fill("x").join("");i.push(["nvim_buf_set_lines",[n.id,0,0,!1,[e]]],["nvim_win_set_cursor",[r.id,[1,o]]])}let s="";e.startMode&&(s+="<Esc>"+e.startMode,e.text.startsWith(e.eol)&&(e.text=e.text.slice(e.eol.length))),e.rangeLength&&(s+=[...new Array(e.rangeLength).keys()].map(()=>"<BS>").join("")),s+=e.text.split(e.eol).join("\n").replace("<","<LT>"),i.push(["nvim_input",[s]]),yield a.callAtomic(this.client,i,this.logger,u);const l=[];l.push(["nvim_set_current_win",[t.id]]),l.push(["nvim_win_close",[r.id,!0]]),yield a.callAtomic(this.client,l,this.logger,u)}))}}},function(e,t){function n(e,t,s,a){if(e===t)return e?[[0,e]]:[];if(null!=s){var h=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,s=t.length;if(0===r.length&&(null===i||0===i.length)){var a=r.index,u=e.slice(0,a),l=e.slice(a),h=i?i.index:null,f=a+s-o;if((null===h||h===f)&&!(f<0||f>s)){var d=t.slice(0,f);if((w=t.slice(f))===l){var p=Math.min(a,f),g=u.slice(0,p),m=d.slice(0,p);if(g===m){var v=u.slice(p),y=d.slice(p);return c(g,v,y,l)}}}if(null===h||h===a){var b=a,w=(d=t.slice(0,b),t.slice(b));if(d===u){var _=Math.min(o-b,s-b),E=l.slice(l.length-_),x=w.slice(w.length-_);if(E===x){v=l.slice(0,l.length-_),y=w.slice(0,w.length-_);return c(u,v,y,E)}}}}if(r.length>0&&i&&0===i.length){g=e.slice(0,r.index),E=e.slice(r.index+r.length),p=g.length,_=E.length;if(!(s<p+_)){m=t.slice(0,p),x=t.slice(s-_);if(g===m&&E===x){v=e.slice(p,o-_),y=t.slice(p,s-_);return c(g,v,y,E)}}}return null}(e,t,s);if(h)return h}var f=i(e,t),d=e.substring(0,f);f=o(e=e.substring(f),t=t.substring(f));var p=e.substring(e.length-f),g=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[-1,e]];var a=e.length>t.length?e:t,u=e.length>t.length?t:e,l=a.indexOf(u);if(-1!==l)return s=[[1,a.substring(0,l)],[0,u],[1,a.substring(l+u.length)]],e.length>t.length&&(s[0][0]=s[2][0]=-1),s;if(1===u.length)return[[-1,e],[1,t]];var c=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function s(e,t,n){for(var r,s,a,u,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,h="";-1!==(c=t.indexOf(l,c+1));){var f=i(e.substring(n),t.substring(c)),d=o(e.substring(0,n),t.substring(0,c));h.length<d+f&&(h=t.substring(c-d,c)+t.substring(c,c+f),r=e.substring(0,n-d),s=e.substring(n+f),a=t.substring(0,c-d),u=t.substring(c+f))}return 2*h.length>=e.length?[r,s,a,u,h]:null}var a,u,l,c,h,f=s(n,r,Math.ceil(n.length/4)),d=s(n,r,Math.ceil(n.length/2));if(!f&&!d)return null;a=d?f&&f[4].length>d[4].length?f:d:f;e.length>t.length?(u=a[0],l=a[1],c=a[2],h=a[3]):(c=a[0],h=a[1],u=a[2],l=a[3]);var p=a[4];return[u,l,c,h,p]}(e,t);if(c){var h=c[0],f=c[1],d=c[2],p=c[3],g=c[4],m=n(h,d),v=n(f,p);return m.concat([[0,g]],v)}return function(e,t){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,a=2*o,u=new Array(a),l=new Array(a),c=0;c<a;c++)u[c]=-1,l[c]=-1;u[s+1]=0,l[s+1]=0;for(var h=n-i,f=h%2!=0,d=0,p=0,g=0,m=0,v=0;v<o;v++){for(var y=-v+d;y<=v-p;y+=2){for(var b=s+y,w=(S=y===-v||y!==v&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1)-y;S<n&&w<i&&e.charAt(S)===t.charAt(w);)S++,w++;if(u[b]=S,S>n)p+=2;else if(w>i)d+=2;else if(f){if((x=s+h-y)>=0&&x<a&&-1!==l[x]){var _=n-l[x];if(S>=_)return r(e,t,S,w)}}}for(var E=-v+g;E<=v-m;E+=2){for(var x=s+E,C=(_=E===-v||E!==v&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1)-E;_<n&&C<i&&e.charAt(n-_-1)===t.charAt(i-C-1);)_++,C++;if(l[x]=_,_>n)m+=2;else if(C>i)g+=2;else if(!f){if((b=s+h-E)>=0&&b<a&&-1!==u[b]){var S=u[b];w=s+S-b;if(S>=(_=n-_))return r(e,t,S,w)}}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-f),t=t.substring(0,t.length-f));return d&&g.unshift([0,d]),p&&g.push([0,p]),function e(t,n){t.push([0,""]);var r,s=0,a=0,c=0,h="",f="";for(;s<t.length;)if(s<t.length-1&&!t[s][1])t.splice(s,1);else switch(t[s][0]){case 1:c++,f+=t[s][1],s++;break;case-1:a++,h+=t[s][1],s++;break;case 0:var d=s-c-a-1;if(n){if(d>=0&&l(t[d][1])){var p=t[d][1].slice(-1);if(t[d][1]=t[d][1].slice(0,-1),h=p+h,f=p+f,!t[d][1]){t.splice(d,1),s--;var g=d-1;t[g]&&1===t[g][0]&&(c++,f=t[g][1]+f,g--),t[g]&&-1===t[g][0]&&(a++,h=t[g][1]+h,g--),d=g}}if(u(t[s][1])){p=t[s][1].charAt(0);t[s][1]=t[s][1].slice(1),h+=p,f+=p}}if(s<t.length-1&&!t[s][1]){t.splice(s,1);break}if(h.length>0||f.length>0){h.length>0&&f.length>0&&(0!==(r=i(f,h))&&(d>=0?t[d][1]+=f.substring(0,r):(t.splice(0,0,[0,f.substring(0,r)]),s++),f=f.substring(r),h=h.substring(r)),0!==(r=o(f,h))&&(t[s][1]=f.substring(f.length-r)+t[s][1],f=f.substring(0,f.length-r),h=h.substring(0,h.length-r)));var m=c+a;0===h.length&&0===f.length?(t.splice(s-m,m),s-=m):0===h.length?(t.splice(s-m,m,[1,f]),s=s-m+1):0===f.length?(t.splice(s-m,m,[-1,h]),s=s-m+1):(t.splice(s-m,m,[-1,h],[1,f]),s=s-m+2)}0!==s&&0===t[s-1][0]?(t[s-1][1]+=t[s][1],t.splice(s,1)):s++,c=0,a=0,h="",f=""}""===t[t.length-1][1]&&t.pop();var v=!1;s=1;for(;s<t.length-1;)0===t[s-1][0]&&0===t[s+1][0]&&(t[s][1].substring(t[s][1].length-t[s-1][1].length)===t[s-1][1]?(t[s][1]=t[s-1][1]+t[s][1].substring(0,t[s][1].length-t[s-1][1].length),t[s+1][1]=t[s-1][1]+t[s+1][1],t.splice(s-1,1),v=!0):t[s][1].substring(0,t[s+1][1].length)==t[s+1][1]&&(t[s-1][1]+=t[s+1][1],t[s][1]=t[s][1].substring(t[s+1][1].length)+t[s+1][1],t.splice(s+1,1),v=!0)),s++;v&&e(t,n)}(g,a),g}function r(e,t,r,i){var o=e.substring(0,r),s=t.substring(0,i),a=e.substring(r),u=t.substring(i),l=n(o,s),c=n(a,u);return l.concat(c)}function i(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return s(e.charCodeAt(i-1))&&i--,i}function o(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return a(e.charCodeAt(e.length-i))&&i--,i}function s(e){return e>=55296&&e<=56319}function a(e){return e>=56320&&e<=57343}function u(e){return a(e.charCodeAt(0))}function l(e){return s(e.charCodeAt(e.length-1))}function c(e,t,n,r){return l(e)||u(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[-1,t],[1,n],[0,r]])}function h(e,t,r){return n(e,t,r,!0)}h.INSERT=1,h.DELETE=-1,h.EQUAL=0,e.exports=h},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandLineManager=void 0;const i=n(261),o=n(5);t.CommandLineManager=class{constructor(e,t){this.logger=e,this.client=t,this.disposables=[],this.showCmdOnTimer=(e,t,n)=>{this.commandLine||(this.commandLine=new i.CommandLineController(this.client,{onAccepted:this.onCmdAccept,onCanceled:this.onCmdCancel,onChanged:this.onCmdChange})),this.commandLine.show(e,t,n),this.cmdlineTimer=void 0},this.onCmdChange=(e,t)=>r(this,void 0,void 0,(function*(){let n="<C-u>"+o.normalizeInputString(e);t&&(n+="<C-e>"),yield this.client.input(n)})),this.onCmdCancel=()=>r(this,void 0,void 0,(function*(){yield this.client.input("<Esc>")})),this.onCmdAccept=()=>{this.client.input("<CR>")}}dispose(){this.commandLine&&this.commandLine.dispose(),this.disposables.forEach(e=>e.dispose())}handleRedrawBatch(e){for(const[t,...n]of e){const e=n[0]||[];switch(t){case"cmdline_show":{const[t,n,r,o,s,a]=e,u=t.map(([,e])=>e).join("");this.cmdlineTimer?(clearTimeout(this.cmdlineTimer),this.cmdlineTimer=void 0,this.commandLine||(this.commandLine=new i.CommandLineController(this.client,{onAccepted:this.onCmdAccept,onCanceled:this.onCmdCancel,onChanged:this.onCmdChange})),this.commandLine.show(u,r,o)):""===u||"'<,'>"===u||this.commandLine?(this.commandLine||(this.commandLine=new i.CommandLineController(this.client,{onAccepted:this.onCmdAccept,onCanceled:this.onCmdCancel,onChanged:this.onCmdChange})),this.commandLine.show(u,r,o)):this.cmdlineTimer=setTimeout(()=>this.showCmdOnTimer(u,r,o),200);break}case"wildmenu_show":{const[t]=e;this.commandLine&&this.commandLine.setCompletionItems(t);break}case"cmdline_hide":this.cmdlineTimer?(clearTimeout(this.cmdlineTimer),this.cmdlineTimer=void 0):this.commandLine&&(this.commandLine.cancel(!0),this.commandLine.dispose(),this.commandLine=void 0)}}}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandLineController=void 0;const i=n(1),o=n(262);t.CommandLineController=class{constructor(e,t){this.isDisplayed=!1,this.disposables=[],this.completionAllowed=!1,this.completionItems=[],this.mode="",this.ignoreHideEvent=!1,this.onAccept=()=>{this.isDisplayed&&this.callbacks.onAccepted()},this.onChange=e=>{if(!this.isDisplayed)return;const t=this.mode;":"!==t||"?"!==e.charAt(0)&&"/"!==e.charAt(0)||!this.input.items.length||(this.input.items=[],this.completionItems=[]);const n=!(":"!==t||"?"===e.charAt(0)||"/"===e.charAt(0)||e.includes("s/")||e.includes("substitute/")||e.includes("g/")||e.includes("global/")||e.includes("v/")||e.includes("vglobal/"));n||this.cancelCompletions(),this.callbacks.onChanged(e,n)},this.onHide=()=>{this.isDisplayed&&(this.clean(),this.ignoreHideEvent?this.ignoreHideEvent=!1:this.callbacks.onCanceled())},this.processCompletionTimer=()=>{this.completionAllowed=!0,this.isDisplayed&&this.completionItems.length&&(this.input.items=this.completionItems),this.completionTimer=void 0},this.cancelCompletions=()=>{this.completionTimer&&(clearTimeout(this.completionTimer),this.completionTimer=void 0),this.input.items=[]},this.deleteAll=()=>{this.isDisplayed&&(this.input.value="",this.onChange(""))},this.deleteChar=()=>{this.isDisplayed&&(this.input.value=this.input.value.slice(0,-1),this.onChange(this.input.value))},this.deleteWord=()=>{this.isDisplayed&&(this.input.value=this.input.value.trimRight().split(" ").slice(0,-1).join(" "),this.onChange(this.input.value))},this.acceptSelection=()=>{if(!this.isDisplayed)return;const e=this.input.activeItems[0];e&&(this.input.value=this.input.value.split(" ").slice(0,-1).concat(e.label).join(" "),this.onChange(this.input.value))},this.onHistoryUp=()=>r(this,void 0,void 0,(function*(){yield this.neovimClient.input("<Up>");const e=yield this.neovimClient.callFunction("getcmdline",[]);e&&(this.input.value=e,this.input.show())})),this.onHistoryDown=()=>r(this,void 0,void 0,(function*(){yield this.neovimClient.input("<Down>");const e=yield this.neovimClient.callFunction("getcmdline",[]);e&&(this.input.value=e,this.input.show())})),this.neovimClient=e,this.callbacks=t,this.input=i.window.createQuickPick(),this.input.ignoreFocusOut=!0,this.disposables.push(this.input.onDidAccept(this.onAccept)),this.disposables.push(this.input.onDidChangeValue(this.onChange)),this.disposables.push(this.input.onDidHide(this.onHide)),this.disposables.push(i.commands.registerCommand("vscode-neovim.commit-cmdline",this.onAccept)),this.disposables.push(i.commands.registerCommand("vscode-neovim.delete-word-left-cmdline",this.deleteWord)),this.disposables.push(i.commands.registerCommand("vscode-neovim.delete-all-cmdline",this.deleteAll)),this.disposables.push(i.commands.registerCommand("vscode-neovim.delete-char-left-cmdline",this.deleteChar)),this.disposables.push(i.commands.registerCommand("vscode-neovim.history-up-cmdline",this.onHistoryUp)),this.disposables.push(i.commands.registerCommand("vscode-neovim.history-down-cmdline",this.onHistoryDown)),this.disposables.push(i.commands.registerCommand("vscode-neovim.complete-selection-cmdline",this.acceptSelection))}show(e="",t,n=""){if(this.isDisplayed){const r=n||this.getTitle(t);r!==this.input.title&&(this.input.title=r),"/"!==this.mode&&"?"!==this.mode||(this.input.value=e)}else this.input.value="",this.isDisplayed=!0,this.input.value="",this.mode=t,this.input.title=n||this.getTitle(t),this.input.show(),e&&(this.input.value=e),this.completionAllowed=!1,this.completionItems=[],this.input.items=[],this.completionTimer=setTimeout(this.processCompletionTimer,1500)}setCompletionItems(e){this.completionItems=e.map(e=>({label:e,alwaysShow:!0})),this.completionAllowed&&(this.input.items=this.completionItems)}cancel(e=!1){this.ignoreHideEvent=e,this.input.hide()}dispose(){for(const e of this.disposables)e.dispose();this.input.dispose()}getTitle(e){switch(e){case"/":return o.GlyphChars.SEARCH_FORWARD+" Forward Search:";case"?":return o.GlyphChars.SEARCH_BACKWARD+" Backward Search:";case":":return o.GlyphChars.COMMAND+" VIM Command Line:";default:return e}}clean(){this.completionTimer&&clearTimeout(this.completionTimer),this.isDisplayed=!1,this.input.value="",this.input.title="",this.mode="",this.completionAllowed=!1,this.input.items=[],this.completionItems=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphChars=void 0,t.GlyphChars={COMMAND:"",SEARCH_FORWARD:"",SEARCH_BACKWARD:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusLineManager=void 0;const r=n(264);t.StatusLineManager=class{constructor(e,t){this.logger=e,this.client=t,this.disposables=[],this.statusLine=new r.StatusLineController,this.disposables.push(this.statusLine)}dispose(){this.disposables.forEach(e=>e.dispose())}handleRedrawBatch(e){let t=!1,n=!1;e.forEach(([r,...i],o)=>{const s=i[0]||[];switch(r){case"msg_showcmd":{const[e]=s;let t="";if(e)for(const n of e){const[,e]=n;e&&(t+=e)}this.statusLine.statusString=t;break}case"msg_show":{let r="";for(const[s,a]of i)if("return_prompt"===s&&(t=!0,n=!!e.slice(o).find(([e])=>"mouse_on"===e)),a)for(const e of a){const[,t]=e;t&&(r+=t)}this.statusLine.msgString=r;break}case"msg_showmode":{const[e]=s;let t="";if(e)for(const n of e){const[,e]=n;e&&(t+=e)}this.statusLine.modeString=t;break}case"msg_clear":this.statusLine.msgString=""}}),t&&!n&&this.client.input("<CR>")}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusLineController=void 0;const s=o(n(1));t.StatusLineController=class{constructor(){this.modeItem=s.window.createStatusBarItem(s.StatusBarAlignment.Left,10),this.commandItem=s.window.createStatusBarItem(s.StatusBarAlignment.Left,5),this.msgItem=s.window.createStatusBarItem(s.StatusBarAlignment.Left,1)}set modeString(e){e?(this.modeItem.text=e,this.modeItem.show()):this.modeItem.hide()}set statusString(e){e?(this.commandItem.text=e,this.commandItem.show()):this.commandItem.hide()}set msgString(e){e?(this.msgItem.text=e,this.msgItem.show()):this.msgItem.hide()}dispose(){this.commandItem.dispose(),this.modeItem.dispose(),this.msgItem.dispose()}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.HighlightManager=void 0;const i=n(1),o=n(266),s=n(5);t.HighlightManager=class{constructor(e,t,n){this.logger=e,this.bufferManager=t,this.settings=n,this.disposables=[],this.gridLineInfo=new Map,this.commandsDisposables=[],this.textDecorationsAtTop=!1,this.applyHLGridUpdates=e=>{for(const t of e){const e=this.gridLineInfo.get(t),n=this.bufferManager.getEditorFromGridId(t);if(!n||!e)continue;const r=this.highlightProvider.getGridHighlights(t,e.topLine);for(const[e,t]of r)n.setDecorations(e,t)}},this.highlightProvider=new o.HighlightProvider(n.highlight),this.textDecorationsAtTop=n.textDecorationsAtTop}dispose(){this.disposables.forEach(e=>e.dispose()),this.commandsDisposables.forEach(e=>e.dispose())}handleRedrawBatch(e){const t=new Set;for(const[n,...r]of e)switch(n){case"hl_attr_define":for(const[e,t,,n]of r)if(n&&n[0]&&n[0].hi_name){const r=n[0].hi_name;this.highlightProvider.addHighlightGroup(e,r,t)}break;case"win_viewport":for(const[e,t,n,i,o,s]of r)this.gridLineInfo.set(e,{topLine:n,bottomLine:i});break;case"grid_scroll":for(const[e,n,,,,i]of r)1!==e&&(this.highlightProvider.shiftGridHighlights(e,i,n),t.add(e));break;case"grid_line":{const e=r;for(let[n,r,i,o]of e){if(r>this.lastViewportRow)continue;const e=this.gridLineInfo.get(n);if(!e)continue;const a=this.bufferManager.getEditorFromGridId(n);if(!a)continue;const u=e.topLine+r;if(u>=a.document.lineCount||u<0){u>0&&(this.highlightProvider.cleanRow(n,r),t.add(n));continue}const l=a.document.lineAt(u).text,c=a.options.tabSize,h=s.calculateEditorColFromVimScreenCol(l,i,c),f=this.bufferManager.isExternalTextDocument(a.document);this.highlightProvider.processHLCellsEvent(n,r,h,f,o)&&t.add(n)}break}}t.size&&this.applyHLGridUpdates(t)}handleExtensionRequest(e,t){return r(this,void 0,void 0,(function*(){switch(e){case"text-decorations":{const[e,n]=t;this.applyTextDecorations(e,n);break}}}))}get lastViewportRow(){return this.settings.viewportHeight-1}applyTextDecorations(e,t){const n=i.window.activeTextEditor;if(!n)return;const r=this.highlightProvider.getDecoratorForHighlightGroup(e);if(!r)return;const o=this.highlightProvider.getDecoratorOptions(r),a=[];for(const[e,r]of t)try{const t=parseInt(e,10)-1,u=n.document.lineAt(t).text,l=new Map;for(const[e,n]of r)if(this.textDecorationsAtTop){const r=n.length,c=s.convertByteNumToCharNum(u,e),h=[t,Math.min(c+n.length-1,u.length)].toString();if(l.has(h)){const e=l.get(h).renderOptions.after.contentText;l.get(h).renderOptions.after.contentText=(n[0]+e).substr(0,e.length)}else{const e={range:new i.Range(t,c+n.length-1,t,c+n.length-1),renderOptions:{after:Object.assign(Object.assign(Object.assign({margin:`0 0 0 -${Math.min(n.length-(c+n.length-1-u.length),n.length)}ch`},o),o.before),{width:r+"ch; position:absoulute; z-index:99;",contentText:n})}};l.set(h,e),a.push(e)}}else{const r=s.convertByteNumToCharNum(u,e-1),l={range:new i.Range(t,r,t,r),renderOptions:{before:Object.assign(Object.assign(Object.assign({},o),o.before),{contentText:n})}};a.push(l)}}catch(e){}n.setDecorations(r,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HighlightProvider=void 0;const r=n(1);function i(e){return"string"==typeof e&&e.startsWith("theme.")}function o(e){const t=Object.assign(Object.assign({},e),{after:e.after?Object.assign({},e.after):void 0,before:e.before?Object.assign({},e.before):void 0});return i(t.backgroundColor)&&(t.backgroundColor=new r.ThemeColor(t.backgroundColor.slice(6))),i(t.borderColor)&&(t.borderColor=new r.ThemeColor(t.borderColor.slice(6))),i(t.color)&&(t.borderColor=new r.ThemeColor(t.color.slice(6))),i(t.outlineColor)&&(t.outlineColor=new r.ThemeColor(t.outlineColor.slice(6))),i(t.overviewRulerColor)&&(t.overviewRulerColor=new r.ThemeColor(t.overviewRulerColor.slice(6))),t.after&&(i(t.after.backgroundColor)&&(t.after.backgroundColor=new r.ThemeColor(t.after.backgroundColor.slice(6))),i(t.after.borderColor)&&(t.after.borderColor=new r.ThemeColor(t.after.borderColor.slice(6))),i(t.after.color)&&(t.after.color=new r.ThemeColor(t.after.color.slice(6)))),t.before&&(i(t.before.backgroundColor)&&(t.before.backgroundColor=new r.ThemeColor(t.before.backgroundColor.slice(6))),i(t.before.borderColor)&&(t.before.borderColor=new r.ThemeColor(t.before.borderColor.slice(6))),i(t.before.color)&&(t.before.color=new r.ThemeColor(t.before.color.slice(6)))),t}t.HighlightProvider=class{constructor(e){this.highlights=new Map,this.prevGridHighlightsIds=new Map,this.highlightIdToGroupName=new Map,this.highlighGroupToDecorator=new Map,this.decoratorConfigurations=new Map,this.specialColor="orange",this.ignoredGroupIds=new Set,this.alwaysIgnoreGroups=["Normal","NormalNC","NormalFloat","NonText","SpecialKey","TermCursor","TermCursorNC","Cursor","lCursor","VisualNC","Conceal","CursorLine","CursorLineNr","ColorColumn","LineNr","StatusLine","StatusLineNC","VertSplit","Title","WildMenu","Whitespace"],this.configuration=e,"vim"!==this.configuration.unknownHighlight&&(this.configuration.unknownHighlight=o(this.configuration.unknownHighlight));for(const[e,t]of Object.entries(this.configuration.highlights))if("vim"!==t){const n=o(t);this.configuration.highlights[e]=n,this.createDecoratorForHighlightGroup(e,n)}}addHighlightGroup(e,t,n){if((this.configuration.ignoreHighlights.includes(t)||this.configuration.ignoreHighlights.find(e=>!(!e.startsWith("^")&&!e.endsWith("$"))&&new RegExp(e).test(t)))&&this.ignoredGroupIds.add(e),this.highlightIdToGroupName.set(e,t),!this.highlighGroupToDecorator.has(t)){const e=this.configuration.highlights[t]||this.configuration.unknownHighlight,i="vim"===e?function(e,t){const n={};n.backgroundColor=e.background?"#"+e.background.toString(16):new r.ThemeColor("editor.background"),n.color=e.foreground?"#"+e.foreground.toString(16):new r.ThemeColor("editor.foreground");const i=e.special?"#"+e.special.toString(16):t;return e.reverse&&(n.backgroundColor=new r.ThemeColor("editor.foreground"),n.color=new r.ThemeColor("editor.background")),e.italic&&(n.fontStyle="italic"),e.bold&&(n.fontWeight="bold"),e.strikethrough&&(n.textDecoration="line-through solid"),e.underline&&(n.textDecoration=`underline ${i} solid`),e.undercurl&&(n.textDecoration=`underline ${i} wavy`),n}(n,this.specialColor):e;this.createDecoratorForHighlightGroup(t,i)}}getHighlightGroupName(e,t=!1){if(this.ignoredGroupIds.has(e)&&!t)return;const n=this.highlightIdToGroupName.get(e);return n&&this.alwaysIgnoreGroups.includes(n)?void 0:n}getDecoratorForHighlightGroup(e){let t=this.highlighGroupToDecorator.get(e);return!t&&e.endsWith("Default")&&(t=this.highlighGroupToDecorator.get(e.slice(0,-7))),t||(t=this.highlighGroupToDecorator.get(e+"Default")),t}getDecoratorOptions(e){return this.decoratorConfigurations.get(e)}cleanRow(e,t){const n=this.highlights.get(e);n&&delete n[t]}processHLCellsEvent(e,t,n,r,i){let o=0,s=n;this.highlights.has(e)||this.highlights.set(e,[]);const a=this.highlights.get(e);let u=!1;for(const[e,n,l]of i){if(""===e)continue;if(""===e)continue;null!=n&&(o=n);const i=this.getHighlightGroupName(o,r),c="\t"===e||""===e?1:l||1;for(let e=0;e<c;e++)a[t]||(a[t]=[]),i?(u=!0,a[t][s]=o):a[t][s]&&(u=!0,delete a[t][s]),s++}return u}shiftGridHighlights(e,t,n){const r=this.highlights.get(e);if(r)if(t>0){for(let e=0;e<t;e++)delete r[n+e];const e=[];r.forEach((t,n)=>{e.push(n)});for(const i of e)i<=n||(r[i-t]=r[i],delete r[i])}else if(t<0){for(let e=0;e<Math.abs(t);e++)delete r[0!==n?n+e:r.length-1-e];const e=[];r.forEach((t,n)=>{e.push(n)});for(const i of e.reverse())i<=n||(r[i+Math.abs(t)]=r[i],delete r[i])}}getGridHighlights(e,t){const n=[],i=new Map,o=this.highlights.get(e);if(o){let e="",t=0,n=0,r=0,s=0;o.forEach((o,a)=>{o.forEach((o,u)=>{const l=this.highlightIdToGroupName.get(o);l&&e===l&&n===a&&s===u-1?s=u:(e&&(i.has(e)||i.set(e,[]),i.get(e).push({lineS:t,lineE:n,colS:r,colE:s}),e="",r=0,s=0,t=0,n=0),l&&(e=l,t=a,n=a,r=u,s=u))})}),e&&(i.has(e)||i.set(e,[]),i.get(e).push({lineS:t,lineE:n,colS:r,colE:s}))}for(const[e,o]of i){const i=this.getDecoratorForHighlightGroup(e);if(!i)continue;const s=o.map(e=>new r.Range(t+e.lineS,e.colS,t+e.lineE,e.colE+1));n.push([i,s])}const s=this.prevGridHighlightsIds.get(e);if(s)for(const e of s)if(!i.has(e)){const t=this.getDecoratorForHighlightGroup(e);if(!t)continue;n.push([t,[]])}return this.prevGridHighlightsIds.set(e,new Set(i.keys())),n}clearHighlights(e){const t=this.prevGridHighlightsIds.get(e);if(this.highlights.delete(e),this.prevGridHighlightsIds.delete(e),!t)return[];const n=[];for(const e of t){const t=this.getDecoratorForHighlightGroup(e);t&&n.push([t,[]])}return n}createDecoratorForHighlightGroup(e,t){const n=r.window.createTextEditorDecorationType(t);this.decoratorConfigurations.set(n,t),this.highlighGroupToDecorator.set(e,n)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCommandsManager=void 0;const i=n(1);t.CustomCommandsManager=class{constructor(e){this.logger=e,this.disposables=[]}dispose(){this.disposables.forEach(e=>e.dispose())}handleVSCodeCommand(e,t){return r(this,void 0,void 0,(function*(){return yield i.commands.executeCommand(e,...t)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MutlilineMessagesManager=void 0;const r=n(1),i=n(5);t.MutlilineMessagesManager=class{constructor(e){this.logger=e,this.disposables=[],this.isDisplayed=!1,this.onDidChangeActiveTextEditor=e=>{e&&this.isEditorIsChannel(e)?this.isDisplayed=!0:(this.isDisplayed&&this.hideChannel(),this.isDisplayed=!1)},this.channel=r.window.createOutputChannel(i.EXT_NAME+" Messages"),this.disposables.push(this.channel),this.disposables.push(r.window.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditor))}dispose(){this.disposables.forEach(e=>e.dispose())}handleRedrawBatch(e){for(const[t,...n]of e)switch(t){case"msg_show":{let e="";for(const[t,r,i]of n){if("return_prompt"===t)continue;if(t)continue;i&&(this.channel.clear(),e="");let n="";for(const e of r)n+=e[1];e+=("\n"===n[0]?"":"\n")+n}e.split("\n").slice(1).length>1?(this.showChannel(),this.channel.append(e)):this.isDisplayed&&this.channel.append(e);break}case"msg_history_show":{let e="\n";for(const t of n)for(const n of t)for(const[t,r]of n){let n="";for(const e of r)n+=e[1];e+=`${t}: ${n}\n`}this.showChannel(),this.channel.append(e);break}}}showChannel(){this.isDisplayed||(this.isDisplayed=!0,this.channel.clear(),this.channel.appendLine("VSCode-Neovim:"),this.channel.show())}hideChannel(){this.channel.hide()}isEditorIsChannel(e){const t=e.document;if("output"!==t.uri.scheme)return!1;return!!t.lineAt(0).text.startsWith("VSCode-Neovim:")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));const r=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],i={nul:0,control:0};function o(e,t){let n=i;if(t&&(n={...i,...t}),"string"!=typeof e)return s(e,n);let r=0;for(let t=0;t<e.length;t++){const i=s(e.charCodeAt(t),n);if(i<0)return-1;r+=i}return r}function s(e,t=i){return 0===e?t.nul:e<32||e>=127&&e<160?t.control:function(e){let t,n=0,i=r.length-1;if(e<r[0][0]||e>r[i][1])return!1;for(;i>=n;)if(t=Math.floor((n+i)/2),e>r[t][1])n=t+1;else{if(!(e<r[t][0]))return!0;i=t-1}return!1}(e)?0:1+Number(e>=4352&&(e<=4447||9001===e||9002===e||e>=11904&&e<=42191&&12351!==e||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}}]);
//# sourceMappingURL=extension.js.map